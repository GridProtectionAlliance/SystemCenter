(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{39:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectTable=void 0;var n=a(44),r=a(51);Object.defineProperty(t,"SelectTable",{enumerable:!0,get:function(){return r.SelectTable}}),t.default=n.default},44:function(e,t,a){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),l=this&&this.__assign||function(){return(l=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=a(0),s=function(e){return o.createElement("span",{style:{width:10,height:10,margin:3},className:"fa fa-angle-"+(e.ascending?"up":"down")})},i=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.render=function(){var e=this.generateRows(),t=this.generateHeaders();return o.createElement("table",{className:void 0!==this.props.tableClass?this.props.tableClass:"",style:this.props.tableStyle},o.createElement("thead",{style:this.props.theadStyle},t),o.createElement("tbody",{style:this.props.tbodyStyle},e))},t.prototype.generateHeaders=function(){var e=this;if(0===this.props.cols.length)return null;var t=this.props.cols.map((function(t,a){var n;return void 0===(n=void 0!==t.headerStyle?t.headerStyle:{}).cursor&&(n.cursor="pointer"),o.createElement("th",{key:a,style:n,onClick:function(a){return e.handleSort({col:t.key,ascending:e.props.ascending},a)}},t.label,e.props.sortField===t.key?o.createElement(s,{ascending:e.props.ascending}):null)}));return o.createElement("tr",null,t)},t.prototype.generateRows=function(){var e=this;return 0===this.props.data.length?null:this.props.data.map((function(t,a){var n,r=e.props.cols.map((function(n){var r;return r=void 0===n.rowStyle?{}:l({},n.rowStyle),o.createElement("td",{key:a.toString()+(null===n.key?"":t[n.key])+n.key,style:r,onClick:e.handleClick.bind(e,{col:n.key,row:t,data:null===n.key?null:t[n.key],index:a})},void 0!==n.content?n.content(t,n.key,r,a):null===n.key?null:t[n.key])}));return void 0===(n=void 0!==e.props.rowStyle?l({},e.props.rowStyle):{}).cursor&&(n.cursor="pointer"),void 0!==e.props.selected&&e.props.selected(t)&&(n.backgroundColor="yellow"),o.createElement("tr",{style:n,key:a.toString()},r)}))},t.prototype.handleClick=function(e,t){this.props.onClick(e,t)},t.prototype.handleSort=function(e,t){this.props.onSort(e)},t}(o.Component);t.default=i},51:function(e,t,a){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__spreadArrays||function(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<a;t++)for(var l=arguments[t],o=0,s=l.length;o<s;o++,r++)n[r]=l[o];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectTable=void 0;var l=a(0),o=a(31),s=a(44);t.SelectTable=function(e){var t=l.useRef(!1),a=l.useState(e.data),i=a[0],u=a[1],c=l.useState([]),y=c[0],d=c[1],h=l.useState(e.sortField),p=h[0],f=h[1],w=l.useState(e.ascending),S=w[0],b=w[1];l.useEffect((function(){t.current?d((function(t){return t.length===i.length?[]:i.map((function(t){return t[e.KeyField]}))})):t.current=!0}),[e.selectAllCounter]),l.useEffect((function(){e.data.length!==i.length&&u(e.data)}),[e.data]),l.useEffect((function(){d((function(t){return t.filter((function(t){return i.findIndex((function(a){return a[e.KeyField]===t}))>-1}))}))}),[i]),l.useEffect((function(){u((function(e){return o.orderBy(e,[p],[S?"asc":"desc"])}))}),[S,p]),l.useEffect((function(){e.onSelection(i.filter((function(t){return y.findIndex((function(a){return a===t[e.KeyField]}))>-1})))}),[y]);var m={cols:r([{key:e.KeyField,label:"",headerStyle:{width:"4em"},rowStyle:{width:"4em"},content:function(t,a,n){return y.findIndex((function(a){return a===t[e.KeyField]}))>-1?l.createElement("div",{style:{marginTop:"16px",textAlign:"center"}},l.createElement("i",{className:"fa fa-check-square-o fa-3x","aria-hidden":"true"})):null}}],e.cols),data:i,onClick:function(t,a){var n=y.findIndex((function(a){return a===t.row[e.KeyField]}));d(-1===n?function(a){return r(a,[t.row[e.KeyField]])}:function(a){return a.filter((function(a){return a!==t.row[e.KeyField]}))})},sortField:p,ascending:S,onSort:function(e){e.col===p?b(!S):f(e.col)},tableClass:e.tableClass,tableStyle:e.tableStyle,theadStyle:e.theadStyle,theadClass:e.theadClass,tbodyStyle:e.tbodyStyle,tbodyClass:e.tbodyClass,selected:function(e){return!1},rowStyle:e.rowStyle};return l.createElement(s.default,n({},m))}},88:function(e,t,a){"use strict";var n=a(0),r=a(31),l=a(39),o=a.n(l),s=a(38),i=function(){return(i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},u=function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,r,l=a.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=l.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}return o};function c(e){var t=u(n.useState([]),2),a=t[0],l=t[1],c=u(n.useState([]),2),y=c[0],d=c[1],h=u(n.useState([]),2),p=h[0],f=h[1],w=u(n.useState("AssetKey"),2),S=w[0],b=w[1],m=u(n.useState(!0),2),g=m[0],k=m[1],v=u(n.useState("AssetKey"),2),A=v[0],N=v[1],E=u(n.useState(!0),2),C=E[0],M=E[1],x=u(n.useState(D()),2),T=x[0],K=x[1],O=u(n.useState("Idle"),2),j=O[0],P=O[1],L=u(n.useState([]),2),F=L[0],_=L[1];function D(){switch(e.type){case"Asset":return[{label:"Name",key:"Name",type:"string"}];case"Meter":return[{label:"AssetKey",key:"AssetKey",type:"string"},{label:"Name",key:"Name",type:"string"},{label:"Location",key:"Location",type:"string"},{label:"Make",key:"Make",type:"string"},{label:"Model",key:"Model",type:"string"},{label:"Number of Assets",key:"MappedAssets",type:"number"}];case"Group":return[{label:"Name",key:"Name",type:"string"},{label:"Number of Meter",key:"Meters",type:"integer"},{label:"Number of Transmission Assets",key:"Assets",type:"integer"},{label:"Number of Users",key:"Users",type:"integer"},{label:"Show in PQ Dashboard",key:"DisplayDashboard",type:"boolean"}]}}function G(e){var t=$.ajax({type:"GET",url:homePath+"api/SystemCenter/AdditionalField/ParentTable/"+e+"/FieldName/0",contentType:"application/json; charset=utf-8",cache:!1,async:!0});return t.done((function(e){K((function(t){return r.orderBy(t.concat(e.map((function(e){return i({label:"[AF"+(null!=e.ExternalDB?" "+e.ExternalDB:"")+"]"+e.FieldName,key:e.FieldName},"string"==(t=e.Type)||"integer"==t||"number"==t||"datetime"==t||"boolean"==t?{type:t}:{type:"enum",enum:[{Label:t,Value:t}]});var t}))),["label"],["asc"])}))})),t}return n.useEffect((function(){if(0==F.length)return function(){};var t=e.onComplete(F);return t.done((function(e){return _([])})),function(){null!=t&&null!=t.abort&&t.abort()}}),[F]),n.useEffect((function(){P("Loading");var t=e.getData(a,g,S);return t.done((function(e){P("Idle"),d(JSON.parse(e))})),t.fail((function(e){return P("Error")})),function(){null!=t&&null!=t.abort&&t.abort()}}),[a,S,g]),n.useEffect((function(){K(D());var t=[];return"Asset"==e.type&&t.push(G("Line")),"Asset"==e.type&&t.push(G("Breaker")),"Asset"==e.type&&t.push(G("CapBank")),"Asset"==e.type&&t.push(G("Transformer")),"Asset"==e.type&&t.push(G("Bus")),"Meter"==e.type&&t.push(G("Meter")),function(){t.forEach((function(e){null!=e.abort&&e.abort()}))}}),[]),n.createElement(n.Fragment,null,n.createElement(s.Modal,{Show:e.Show,Title:function(){switch(e.type){case"Asset":return"Add Transmission Assets";case"Meter":return"Add Meters";case"Group":return"Add Asset Groups"}}(),ShowX:!0,Size:"xlg",CallBack:function(t){e.setShow(!1),f([]),t&&_(p.map((function(t){return t[e.PrimaryKey]})))}},n.createElement("div",{className:"row"},n.createElement("div",{className:"col"},n.createElement(s.SearchBar,{CollumnList:T,SetFilter:function(e){return l(e)},Direction:"left",defaultCollumn:function(){switch(e.type){case"Asset":case"Meter":case"Group":return{label:"Name",key:"Name",type:"string"}}}(),Width:"50%",Label:"Search",ShowLoading:"Loading"==j,ResultNote:"Error"==j?"Could not complete Search":"Found "+y.length+function(){switch(e.type){case"Asset":return"Transmission Assets";case"Meter":return"Meters";case"Group":return"Asset Groups"}}(),GetEnum:function(e,t){var a=null;return"enum"!=t.type||null==t.enum||1!=t.enum.length?function(){}:((a=$.ajax({type:"GET",url:homePath+"api/ValueList/Group/"+t.enum[0].Value,contentType:"application/json; charset=utf-8",dataType:"json",cache:!0,async:!0})).done((function(t){return e(t.map((function(e){return{Value:e.Value.toString(),Label:e.Text}})))})),function(){null!=a&&null==a.abort&&a.abort()})}}))),n.createElement("div",{className:"row"},n.createElement("div",{className:"col",style:{width:"60%"}},n.createElement(o.a,{cols:function(){switch(e.type){case"Asset":return[{key:"AssetKey",label:"Key",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"AssetName",label:"Name",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"AssetType",label:"Asset Type",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"VoltageKV",label:"Voltage (kV)",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"Meters",label:"Meters",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"Locations",label:"Substations",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:null,label:"",headerStyle:{width:17,padding:0},rowStyle:{width:0,padding:0}}];case"Meter":return[{key:"AssetKey",label:"Key",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"Name",label:"Name",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"Location",label:"Substation",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"MappedAssets",label:"Assets",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"Make",label:"Make",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"Model",label:"Model",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:null,label:"",headerStyle:{width:17,padding:0},rowStyle:{width:0,padding:0}}];case"Group":return[{key:"Name",label:"Name",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"Assets",label:"Assets",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"Meters",label:"Meters",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"Users",label:"Users",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"AssetGroups",label:"SubGroups",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:null,label:"",headerStyle:{width:17,padding:0},rowStyle:{width:0,padding:0}}]}}(),tableClass:"table table-hover",data:y,sortField:S,ascending:g,onSort:function(e){e.col==S?k(!g):(k(!0),b(e.col))},onClick:function(e){f((function(t){var a=r.cloneDeep(t);return a.push(e.row),a}))},theadStyle:{fontSize:"smaller",display:"table",tableLayout:"fixed",width:"100%"},tbodyStyle:{display:"block",overflowY:"scroll",maxHeight:"400px",width:"100%"},rowStyle:{fontSize:"smaller",display:"table",tableLayout:"fixed",width:"100%"},selected:function(e){return!1}})),n.createElement("div",{className:"col",style:{width:"40%"}},n.createElement("div",{style:{width:"100%"}},n.createElement("h3",null," Selected Assets ")),n.createElement(o.a,{cols:function(){switch(e.type){case"Asset":return[{key:"AssetKey",label:"Key",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"AssetName",label:"Name",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"AssetType",label:"Asset Type",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:null,label:"",headerStyle:{width:17,padding:0},rowStyle:{width:0,padding:0}}];case"Meter":return[{key:"AssetKey",label:"Key",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"Name",label:"Name",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"Location",label:"Substation",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:null,label:"",headerStyle:{width:17,padding:0},rowStyle:{width:0,padding:0}}];case"Group":return[{key:"Name",label:"Name",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:null,label:"",headerStyle:{width:17,padding:0},rowStyle:{width:0,padding:0}}]}return[]}(),tableClass:"table table-hover",data:p,sortField:A,ascending:C,onSort:function(e){if(e.col==A){var t=r.orderBy(p,[e.col],[C?"desc":"asc"]);M(!C),f(t)}else{t=r.orderBy(p,[e.col],["asc"]);M(!C),f(t),N(e.col)}},onClick:function(){},theadStyle:{fontSize:"smaller",display:"table",tableLayout:"fixed",width:"100%"},tbodyStyle:{display:"block",overflowY:"scroll",maxHeight:"400px",width:"100%"},rowStyle:{fontSize:"smaller",display:"table",tableLayout:"fixed",width:"100%"},selected:function(e){return!1}})))))}t.a=function(e){return"Asset"==e.type?n.createElement(c,{Show:e.Show,setShow:function(){return e.Close()},type:"Asset",PrimaryKey:"ID",getData:function(e,t,a){var n=[{label:"Name",key:"Name",type:"string"}],r=e.map((function(e){return-1==n.findIndex((function(t){return t.key==e.FieldName}))?i(i({},e),{isPivotColumn:!0}):e}));return $.ajax({type:"Post",url:homePath+"api/OpenXDA/Asset/SearchableListIncludingMeter",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({Searches:r,OrderBy:a,Ascending:t}),cache:!1,async:!0})},onComplete:e.onComplete}):"Meter"==e.type?n.createElement(c,{Show:e.Show,setShow:function(){return e.Close()},type:"Meter",PrimaryKey:"ID",getData:function(e,t,a){var n=[{label:"AssetKey",key:"AssetKey",type:"string"},{label:"Name",key:"Name",type:"string"},{label:"Location",key:"Location",type:"string"},{label:"Make",key:"Make",type:"string"},{label:"Model",key:"Model",type:"string"},{label:"Number of Assets",key:"MappedAssets",type:"number"}],r=e.map((function(e){return-1==n.findIndex((function(t){return t.key==e.FieldName}))?i(i({},e),{isPivotColumn:!0}):e}));return $.ajax({type:"Post",url:homePath+"api/OpenXDA/MeterList/ExtendedSearchableList",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({Searches:r,OrderBy:a,Ascending:t}),cache:!1,async:!0})},onComplete:e.onComplete}):"Group"==e.type?n.createElement(c,{Show:e.Show,setShow:function(){return e.Close()},type:"Group",PrimaryKey:"ID",getData:function(e,t,a){var n=e;return $.ajax({type:"Post",url:homePath+"api/OpenXDA/AssetGroup/SearchableList",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({Searches:n,OrderBy:a,Ascending:t}),cache:!1,async:!0})},onComplete:e.onComplete}):void 0}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vRDovUHJvamVjdHMvU3lzdGVtQ2VudGVyL1NvdXJjZS9BcHBsaWNhdGlvbnMvU3lzdGVtQ2VudGVyL25vZGVfbW9kdWxlcy9AZ3BhLWdlbXN0b25lL3JlYWN0LXRhYmxlL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vRDovUHJvamVjdHMvU3lzdGVtQ2VudGVyL1NvdXJjZS9BcHBsaWNhdGlvbnMvU3lzdGVtQ2VudGVyL25vZGVfbW9kdWxlcy9AZ3BhLWdlbXN0b25lL3JlYWN0LXRhYmxlL2xpYi9UYWJsZS5qcyIsIndlYnBhY2s6Ly8vRDovUHJvamVjdHMvU3lzdGVtQ2VudGVyL1NvdXJjZS9BcHBsaWNhdGlvbnMvU3lzdGVtQ2VudGVyL25vZGVfbW9kdWxlcy9AZ3BhLWdlbXN0b25lL3JlYWN0LXRhYmxlL2xpYi9TZWxlY3RUYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9UU1gvU3lzdGVtQ2VudGVyL0Fzc2V0R3JvdXBzL0FkZFRvR3JvdXAudHN4Il0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiU2VsZWN0VGFibGUiLCJUYWJsZV8xIiwiU2VsZWN0VGFibGVfMSIsImVudW1lcmFibGUiLCJnZXQiLCJkZWZhdWx0IiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiX19hc3NpZ24iLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY2FsbCIsImFwcGx5IiwiUmVhY3QiLCJBbmdsZUljb24iLCJwcm9wcyIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwibWFyZ2luIiwiY2xhc3NOYW1lIiwiYXNjZW5kaW5nIiwiVGFibGUiLCJfc3VwZXIiLCJyZW5kZXIiLCJyb3dDb21wb25lbnRzIiwiZ2VuZXJhdGVSb3dzIiwiaGVhZGVyQ29tcG9uZW50cyIsImdlbmVyYXRlSGVhZGVycyIsInVuZGVmaW5lZCIsInRhYmxlQ2xhc3MiLCJ0YWJsZVN0eWxlIiwidGhlYWRTdHlsZSIsInRib2R5U3R5bGUiLCJfdGhpcyIsImNvbHMiLCJjZWxscyIsIm1hcCIsImNvbERhdGEiLCJpbmRleCIsImhlYWRlclN0eWxlIiwiY3Vyc29yIiwia2V5Iiwib25DbGljayIsImUiLCJoYW5kbGVTb3J0IiwiY29sIiwibGFiZWwiLCJzb3J0RmllbGQiLCJkYXRhIiwiaXRlbSIsImNzcyIsInJvd1N0eWxlIiwidG9TdHJpbmciLCJoYW5kbGVDbGljayIsImJpbmQiLCJyb3ciLCJjb250ZW50Iiwic2VsZWN0ZWQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJldmVudCIsIm9uU29ydCIsIkNvbXBvbmVudCIsIl9fc3ByZWFkQXJyYXlzIiwiaWwiLCJyIiwiayIsImEiLCJqIiwiamwiLCJfIiwiZGlkTW91bnRSZWYiLCJ1c2VSZWYiLCJfYSIsInVzZVN0YXRlIiwic2V0RGF0YSIsIl9iIiwic2V0U2VsZWN0ZWQiLCJfYyIsInNldFNvcnRGaWVsZCIsIl9kIiwic2V0QXNjZW5kaW5nIiwidXNlRWZmZWN0IiwiY3VycmVudCIsIktleUZpZWxkIiwic2VsZWN0QWxsQ291bnRlciIsImZpbHRlciIsImtleUl0ZW0iLCJmaW5kSW5kZXgiLCJsc3QiLCJvcmRlckJ5Iiwib25TZWxlY3Rpb24iLCJ0YWJsZVByb3BzIiwibWFyZ2luVG9wIiwidGV4dEFsaWduIiwic0luZGV4Iiwib2QiLCJ0aGVhZENsYXNzIiwidGJvZHlDbGFzcyIsIkFkZFRvQXNzZXRHcm91cCIsInNlYXJjaCIsInNldFNlYXJjaCIsInNlbGVjdGVkRGF0YSIsInNldFNlbGVjdGVkRGF0YSIsInNvcnRGaWVsZEFsbCIsInNldFNvcnRGaWVsZEFsbCIsImFzY2VuZGluZ0FsbCIsInNldEFzY2VuZGluZ0FsbCIsInNvcnRGaWVsZFNlbGVjdGVkIiwic2V0U29ydEZpZWxkU2VsZWN0ZWQiLCJhc2NlbmRpbmdTZWxlY3RlZCIsInNldEFzY2VuZGluZ1NlbGVjdGVkIiwiZmlsdGVyYWJsZUxpc3QiLCJzZXRGaWx0ZXJhYmxlTGlzdCIsInNlYXJjaFN0YXRlIiwic2V0U2VhcmNoU3RhdGUiLCJyZXN1bHQiLCJzZXRSZXN1bHQiLCJnZXRTZWFyY2hGaWVsZCIsInR5cGUiLCJnZXRBZGRpdGlvbmFsRmllbGRzIiwiVHlwZSIsImhhbmRsZSIsIiQiLCJhamF4IiwidXJsIiwiaG9tZVBhdGgiLCJjb250ZW50VHlwZSIsImNhY2hlIiwiYXN5bmMiLCJkb25lIiwiY29uY2F0IiwiRXh0ZXJuYWxEQiIsIkZpZWxkTmFtZSIsImVudW0iLCJMYWJlbCIsIlZhbHVlIiwib25Db21wbGV0ZSIsImFib3J0IiwiZ2V0RGF0YSIsIkpTT04iLCJwYXJzZSIsImZhaWwiLCJtc2ciLCJoYW5kbGVzIiwicHVzaCIsImZvckVhY2giLCJoIiwiU2hvdyIsIlRpdGxlIiwiZ2V0VGl0bGUiLCJTaG93WCIsIlNpemUiLCJDYWxsQmFjayIsImNvbmYiLCJzZXRTaG93IiwiUHJpbWFyeUtleSIsIkNvbGx1bW5MaXN0IiwiU2V0RmlsdGVyIiwiZmxkcyIsIkRpcmVjdGlvbiIsImRlZmF1bHRDb2xsdW1uIiwiZ2V0U3RhbmRhcmRTZWFyY2giLCJXaWR0aCIsIlNob3dMb2FkaW5nIiwiUmVzdWx0Tm90ZSIsImdldFR5cGVMYWJlbCIsIkdldEVudW0iLCJzZXRPcHRpb25zIiwiZmllbGQiLCJkYXRhVHlwZSIsIlRleHQiLCJwYWRkaW5nIiwiZ2V0VGFibGVDb2xsdW1ucyIsImwiLCJ1cGRhdGVkIiwiZm9udFNpemUiLCJkaXNwbGF5IiwidGFibGVMYXlvdXQiLCJvdmVyZmxvd1kiLCJtYXhIZWlnaHQiLCJnZXRTZWxlY3RlZENvbGx1bW4iLCJvcmRlcmVkIiwiQ2xvc2UiLCJkZWZhdWx0cyIsInNlYXJjaGVzIiwiaXNQaXZvdENvbHVtbiIsInN0cmlu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S2pCLFFBcEI3SCxTQUEyQnZDLEVBQThDL0UsRUFBb0IyQixHQUN6RixJQUFJeUksRUFBV3JGLEVBRWYsT0FBT3VCLEVBQUVDLEtBQUssQ0FDVkwsS0FBTSxPQUNOTSxJQUFRQyxTQUFRLHdDQUNoQkMsWUFBYSxrQ0FDYjJDLFNBQVUsT0FDVnpILEtBQU0yRixLQUFLK0MsVUFBVSxDQUFFQyxTQUFVSCxFQUFVSSxRQUFTN0ksRUFBVzhJLFVBQVd6SyxJQUMxRTJHLE9BQU8sRUFDUEMsT0FBTyxLQVUwSVEsV0FBWTNILEVBQU0ySCxrQkFEM0siLCJmaWxlIjoiQXNzZXRHcm91cH5CeUFzc2V0R3JvdXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuLy8gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4vLyAgaW5kZXgudHN4IC0gR2J0Y1xyXG4vL1xyXG4vLyAgQ29weXJpZ2h0IMKpIDIwMTgsIEdyaWQgUHJvdGVjdGlvbiBBbGxpYW5jZS4gIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbi8vXHJcbi8vICBMaWNlbnNlZCB0byB0aGUgR3JpZCBQcm90ZWN0aW9uIEFsbGlhbmNlIChHUEEpIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlXHJcbi8vICB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuXHJcbi8vICBUaGUgR1BBIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCB0aGUgXCJMaWNlbnNlXCI7IHlvdSBtYXkgbm90IHVzZSB0aGlzXHJcbi8vICBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcclxuLy9cclxuLy8gICAgICBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXHJcbi8vXHJcbi8vICBVbmxlc3MgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHRoZSBzdWJqZWN0IHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXHJcbi8vICBcIkFTLUlTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBSZWZlciB0byB0aGVcclxuLy8gIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zLlxyXG4vL1xyXG4vLyAgQ29kZSBNb2RpZmljYXRpb24gSGlzdG9yeTpcclxuLy8gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gIDA4LzAyLzIwMTggLSBCaWxseSBFcm5lc3RcclxuLy8gICAgICAgR2VuZXJhdGVkIG9yaWdpbmFsIHZlcnNpb24gb2Ygc291cmNlIGNvZGUuXHJcbi8vICAwMi8xMi8yMDIxIC0gQy4gbGFja25lclxyXG4vLyAgICAgICBNb3ZlZCB0YWJsZSB0byBzZXBlcmF0ZSBGaWxlLlxyXG4vL1xyXG4vLyAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5TZWxlY3RUYWJsZSA9IHZvaWQgMDtcclxudmFyIFRhYmxlXzEgPSByZXF1aXJlKFwiLi9UYWJsZVwiKTtcclxudmFyIFNlbGVjdFRhYmxlXzEgPSByZXF1aXJlKFwiLi9TZWxlY3RUYWJsZVwiKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU2VsZWN0VGFibGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFNlbGVjdFRhYmxlXzEuU2VsZWN0VGFibGU7IH0gfSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFRhYmxlXzEuZGVmYXVsdDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8vICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuLy8gIFRhYmxlLnRzeCAtIEdidGNcclxuLy9cclxuLy8gIENvcHlyaWdodCDCqSAyMDE4LCBHcmlkIFByb3RlY3Rpb24gQWxsaWFuY2UuICBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4vL1xyXG4vLyAgTGljZW5zZWQgdG8gdGhlIEdyaWQgUHJvdGVjdGlvbiBBbGxpYW5jZSAoR1BBKSB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuIFNlZVxyXG4vLyAgdGhlIE5PVElDRSBmaWxlIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLlxyXG4vLyAgVGhlIEdQQSBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgdGhlIFwiTGljZW5zZVwiOyB5b3UgbWF5IG5vdCB1c2UgdGhpc1xyXG4vLyAgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XHJcbi8vXHJcbi8vICAgICAgaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxyXG4vL1xyXG4vLyAgVW5sZXNzIGFncmVlZCB0byBpbiB3cml0aW5nLCB0aGUgc3ViamVjdCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxyXG4vLyAgXCJBUy1JU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gUmVmZXIgdG8gdGhlXHJcbi8vICBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucy5cclxuLy9cclxuLy8gIENvZGUgTW9kaWZpY2F0aW9uIEhpc3Rvcnk6XHJcbi8vICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAwOC8wMi8yMDE4IC0gQmlsbHkgRXJuZXN0XHJcbi8vICAgICAgIEdlbmVyYXRlZCBvcmlnaW5hbCB2ZXJzaW9uIG9mIHNvdXJjZSBjb2RlLlxyXG4vL1xyXG4vLyAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXHJcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xyXG52YXIgQW5nbGVJY29uID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBzdHlsZTogeyB3aWR0aDogMTAsIGhlaWdodDogMTAsIG1hcmdpbjogMyB9LCBjbGFzc05hbWU6ICdmYSBmYS1hbmdsZS0nICsgKHByb3BzLmFzY2VuZGluZyA/ICd1cCcgOiAnZG93bicpIH0pKTsgfTtcclxudmFyIFRhYmxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFRhYmxlLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gVGFibGUocHJvcHMpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBUYWJsZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciByb3dDb21wb25lbnRzID0gdGhpcy5nZW5lcmF0ZVJvd3MoKTtcclxuICAgICAgICB2YXIgaGVhZGVyQ29tcG9uZW50cyA9IHRoaXMuZ2VuZXJhdGVIZWFkZXJzKCk7XHJcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwidGFibGVcIiwgeyBjbGFzc05hbWU6IHRoaXMucHJvcHMudGFibGVDbGFzcyAhPT0gdW5kZWZpbmVkID8gdGhpcy5wcm9wcy50YWJsZUNsYXNzIDogJycsIHN0eWxlOiB0aGlzLnByb3BzLnRhYmxlU3R5bGUgfSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInRoZWFkXCIsIHsgc3R5bGU6IHRoaXMucHJvcHMudGhlYWRTdHlsZSB9LCBoZWFkZXJDb21wb25lbnRzKSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInRib2R5XCIsIHsgc3R5bGU6IHRoaXMucHJvcHMudGJvZHlTdHlsZSB9LCByb3dDb21wb25lbnRzKSkpO1xyXG4gICAgfTtcclxuICAgIFRhYmxlLnByb3RvdHlwZS5nZW5lcmF0ZUhlYWRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jb2xzLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgdmFyIGNlbGxzID0gdGhpcy5wcm9wcy5jb2xzLm1hcChmdW5jdGlvbiAoY29sRGF0YSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgdmFyIHN0eWxlO1xyXG4gICAgICAgICAgICBpZiAoY29sRGF0YS5oZWFkZXJTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IGNvbERhdGEuaGVhZGVyU3R5bGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB7fTtcclxuICAgICAgICAgICAgaWYgKHN0eWxlLmN1cnNvciA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xyXG4gICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCB7IGtleTogaW5kZXgsIHN0eWxlOiBzdHlsZSwgb25DbGljazogZnVuY3Rpb24gKGUpIHsgcmV0dXJuIF90aGlzLmhhbmRsZVNvcnQoeyBjb2w6IGNvbERhdGEua2V5LCBhc2NlbmRpbmc6IF90aGlzLnByb3BzLmFzY2VuZGluZyB9LCBlKTsgfSB9LFxyXG4gICAgICAgICAgICAgICAgY29sRGF0YS5sYWJlbCxcclxuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLnNvcnRGaWVsZCA9PT0gY29sRGF0YS5rZXkgPyBSZWFjdC5jcmVhdGVFbGVtZW50KEFuZ2xlSWNvbiwgeyBhc2NlbmRpbmc6IF90aGlzLnByb3BzLmFzY2VuZGluZyB9KSA6IG51bGwpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIG51bGwsIGNlbGxzKTtcclxuICAgIH07XHJcbiAgICBUYWJsZS5wcm90b3R5cGUuZ2VuZXJhdGVSb3dzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuZGF0YS5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmRhdGEubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xyXG4gICAgICAgICAgICB2YXIgY2VsbHMgPSBfdGhpcy5wcm9wcy5jb2xzLm1hcChmdW5jdGlvbiAoY29sRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNzcztcclxuICAgICAgICAgICAgICAgIGlmIChjb2xEYXRhLnJvd1N0eWxlID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgY3NzID0ge307XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgY3NzID0gX19hc3NpZ24oe30sIGNvbERhdGEucm93U3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgeyBrZXk6IGluZGV4LnRvU3RyaW5nKCkgKyAoY29sRGF0YS5rZXkgPT09IG51bGwgPyAnJyA6IGl0ZW1bY29sRGF0YS5rZXldKSArIGNvbERhdGEua2V5LCBzdHlsZTogY3NzLCBvbkNsaWNrOiBfdGhpcy5oYW5kbGVDbGljay5iaW5kKF90aGlzLCB7IGNvbDogY29sRGF0YS5rZXksIHJvdzogaXRlbSwgZGF0YTogKGNvbERhdGEua2V5ID09PSBudWxsID8gbnVsbCA6IGl0ZW1bY29sRGF0YS5rZXldKSwgaW5kZXg6IGluZGV4IH0pIH0sIGNvbERhdGEuY29udGVudCAhPT0gdW5kZWZpbmVkID8gY29sRGF0YS5jb250ZW50KGl0ZW0sIGNvbERhdGEua2V5LCBjc3MsIGluZGV4KSA6IChjb2xEYXRhLmtleSA9PT0gbnVsbCA/IG51bGwgOiBpdGVtW2NvbERhdGEua2V5XSkpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBzdHlsZTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLnJvd1N0eWxlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gX19hc3NpZ24oe30sIF90aGlzLnByb3BzLnJvd1N0eWxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHt9O1xyXG4gICAgICAgICAgICBpZiAoc3R5bGUuY3Vyc29yID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICBzdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5zZWxlY3RlZCAhPT0gdW5kZWZpbmVkICYmIF90aGlzLnByb3BzLnNlbGVjdGVkKGl0ZW0pKVxyXG4gICAgICAgICAgICAgICAgc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3llbGxvdyc7XHJcbiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIHsgc3R5bGU6IHN0eWxlLCBrZXk6IGluZGV4LnRvU3RyaW5nKCkgfSwgY2VsbHMpKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBUYWJsZS5wcm90b3R5cGUuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZGF0YSwgZXZlbnQpIHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQ2xpY2soZGF0YSwgZXZlbnQpO1xyXG4gICAgfTtcclxuICAgIFRhYmxlLnByb3RvdHlwZS5oYW5kbGVTb3J0ID0gZnVuY3Rpb24gKGRhdGEsIGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vblNvcnQoZGF0YSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFRhYmxlO1xyXG59KFJlYWN0LkNvbXBvbmVudCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBUYWJsZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4vLyAgU2VsZWN0VGFibGUudHN4IC0gR2J0Y1xyXG4vL1xyXG4vLyAgQ29weXJpZ2h0IMKpIDIwMjEsIEdyaWQgUHJvdGVjdGlvbiBBbGxpYW5jZS4gIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbi8vXHJcbi8vICBMaWNlbnNlZCB0byB0aGUgR3JpZCBQcm90ZWN0aW9uIEFsbGlhbmNlIChHUEEpIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlXHJcbi8vICB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuXHJcbi8vICBUaGUgR1BBIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCB0aGUgXCJMaWNlbnNlXCI7IHlvdSBtYXkgbm90IHVzZSB0aGlzXHJcbi8vICBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcclxuLy9cclxuLy8gICAgICBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXHJcbi8vXHJcbi8vICBVbmxlc3MgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHRoZSBzdWJqZWN0IHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXHJcbi8vICBcIkFTLUlTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBSZWZlciB0byB0aGVcclxuLy8gIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zLlxyXG4vL1xyXG4vLyAgQ29kZSBNb2RpZmljYXRpb24gSGlzdG9yeTpcclxuLy8gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gIDAxLzIyLzIwMjEgLSBDLiBMYWNrbmVyXHJcbi8vICAgICAgIEdlbmVyYXRlZCBvcmlnaW5hbCB2ZXJzaW9uIG9mIHNvdXJjZSBjb2RlLlxyXG4vL1xyXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxyXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xyXG52YXIgX19zcHJlYWRBcnJheXMgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXlzKSB8fCBmdW5jdGlvbiAoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLlNlbGVjdFRhYmxlID0gdm9pZCAwO1xyXG52YXIgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XHJcbnZhciBfID0gcmVxdWlyZShcImxvZGFzaFwiKTtcclxudmFyIFRhYmxlXzEgPSByZXF1aXJlKFwiLi9UYWJsZVwiKTtcclxuZnVuY3Rpb24gU2VsZWN0VGFibGUocHJvcHMpIHtcclxuICAgIHZhciBkaWRNb3VudFJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XHJcbiAgICB2YXIgX2EgPSBSZWFjdC51c2VTdGF0ZShwcm9wcy5kYXRhKSwgZGF0YSA9IF9hWzBdLCBzZXREYXRhID0gX2FbMV07XHJcbiAgICB2YXIgX2IgPSBSZWFjdC51c2VTdGF0ZShbXSksIHNlbGVjdGVkID0gX2JbMF0sIHNldFNlbGVjdGVkID0gX2JbMV07XHJcbiAgICB2YXIgX2MgPSBSZWFjdC51c2VTdGF0ZShwcm9wcy5zb3J0RmllbGQpLCBzb3J0RmllbGQgPSBfY1swXSwgc2V0U29ydEZpZWxkID0gX2NbMV07XHJcbiAgICB2YXIgX2QgPSBSZWFjdC51c2VTdGF0ZShwcm9wcy5hc2NlbmRpbmcpLCBhc2NlbmRpbmcgPSBfZFswXSwgc2V0QXNjZW5kaW5nID0gX2RbMV07XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChkaWRNb3VudFJlZi5jdXJyZW50KVxyXG4gICAgICAgICAgICBzZWxlY3RBbGwoKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGRpZE1vdW50UmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgfSwgW3Byb3BzLnNlbGVjdEFsbENvdW50ZXJdKTtcclxuICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHByb3BzLmRhdGEubGVuZ3RoICE9PSBkYXRhLmxlbmd0aClcclxuICAgICAgICAgICAgc2V0RGF0YShwcm9wcy5kYXRhKTtcclxuICAgIH0sIFtwcm9wcy5kYXRhXSk7XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNldFNlbGVjdGVkKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmZpbHRlcihmdW5jdGlvbiAoa2V5SXRlbSkgeyByZXR1cm4gZGF0YS5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW1bcHJvcHMuS2V5RmllbGRdID09PSBrZXlJdGVtOyB9KSA+IC0xOyB9KTsgfSk7XHJcbiAgICB9LCBbZGF0YV0pO1xyXG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZXREYXRhKGZ1bmN0aW9uIChsc3QpIHsgcmV0dXJuIChfLm9yZGVyQnkobHN0LCBbc29ydEZpZWxkXSwgWyhhc2NlbmRpbmcgPyBcImFzY1wiIDogXCJkZXNjXCIpXSkpOyB9KTtcclxuICAgIH0sIFthc2NlbmRpbmcsIHNvcnRGaWVsZF0pO1xyXG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwcm9wcy5vblNlbGVjdGlvbihkYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gc2VsZWN0ZWQuZmluZEluZGV4KGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGtleSA9PT0gaXRlbVtwcm9wcy5LZXlGaWVsZF07IH0pID4gLTE7IH0pKTtcclxuICAgIH0sIFtzZWxlY3RlZF0pO1xyXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2soZCwgZXZlbnQpIHtcclxuICAgICAgICB2YXIgc0luZGV4ID0gc2VsZWN0ZWQuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtID09PSBkLnJvd1twcm9wcy5LZXlGaWVsZF07IH0pO1xyXG4gICAgICAgIGlmIChzSW5kZXggPT09IC0xKVxyXG4gICAgICAgICAgICBzZXRTZWxlY3RlZChmdW5jdGlvbiAob2QpIHsgcmV0dXJuIF9fc3ByZWFkQXJyYXlzKG9kLCBbZC5yb3dbcHJvcHMuS2V5RmllbGRdXSk7IH0pO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgc2V0U2VsZWN0ZWQoZnVuY3Rpb24gKG9kKSB7IHJldHVybiBvZC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0gIT09IGQucm93W3Byb3BzLktleUZpZWxkXTsgfSk7IH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2VsZWN0QWxsKCkge1xyXG4gICAgICAgIHNldFNlbGVjdGVkKGZ1bmN0aW9uIChkKSB7IGlmIChkLmxlbmd0aCA9PT0gZGF0YS5sZW5ndGgpXHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLm1hcChmdW5jdGlvbiAocm93KSB7IHJldHVybiByb3dbcHJvcHMuS2V5RmllbGRdOyB9KTsgfSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBoYW5kbGVTb3J0KGQpIHtcclxuICAgICAgICBpZiAoZC5jb2wgPT09IHNvcnRGaWVsZClcclxuICAgICAgICAgICAgc2V0QXNjZW5kaW5nKCFhc2NlbmRpbmcpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgc2V0U29ydEZpZWxkKGQuY29sKTtcclxuICAgIH1cclxuICAgIHZhciB0YWJsZVByb3BzID0ge1xyXG4gICAgICAgIGNvbHM6IF9fc3ByZWFkQXJyYXlzKFtcclxuICAgICAgICAgICAgeyBrZXk6IHByb3BzLktleUZpZWxkLCBsYWJlbDogJycsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnNGVtJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJzRlbScgfSwgY29udGVudDogZnVuY3Rpb24gKGl0ZW0sIGtleSwgc3R5bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBzZWxlY3RlZC5maW5kSW5kZXgoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkgPT09IGl0ZW1bcHJvcHMuS2V5RmllbGRdOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZTogeyBtYXJnaW5Ub3A6ICcxNnB4JywgdGV4dEFsaWduOiAnY2VudGVyJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaVwiLCB7IGNsYXNzTmFtZTogXCJmYSBmYS1jaGVjay1zcXVhcmUtbyBmYS0zeFwiLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH0gfVxyXG4gICAgICAgIF0sIHByb3BzLmNvbHMpLFxyXG4gICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgb25DbGljazogaGFuZGxlQ2xpY2ssXHJcbiAgICAgICAgc29ydEZpZWxkOiBzb3J0RmllbGQsXHJcbiAgICAgICAgYXNjZW5kaW5nOiBhc2NlbmRpbmcsXHJcbiAgICAgICAgb25Tb3J0OiBoYW5kbGVTb3J0LFxyXG4gICAgICAgIHRhYmxlQ2xhc3M6IHByb3BzLnRhYmxlQ2xhc3MsXHJcbiAgICAgICAgdGFibGVTdHlsZTogcHJvcHMudGFibGVTdHlsZSxcclxuICAgICAgICB0aGVhZFN0eWxlOiBwcm9wcy50aGVhZFN0eWxlLFxyXG4gICAgICAgIHRoZWFkQ2xhc3M6IHByb3BzLnRoZWFkQ2xhc3MsXHJcbiAgICAgICAgdGJvZHlTdHlsZTogcHJvcHMudGJvZHlTdHlsZSxcclxuICAgICAgICB0Ym9keUNsYXNzOiBwcm9wcy50Ym9keUNsYXNzLFxyXG4gICAgICAgIHNlbGVjdGVkOiBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZmFsc2U7IH0sXHJcbiAgICAgICAgcm93U3R5bGU6IHByb3BzLnJvd1N0eWxlXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGVfMS5kZWZhdWx0LCBfX2Fzc2lnbih7fSwgdGFibGVQcm9wcykpO1xyXG59XHJcbmV4cG9ydHMuU2VsZWN0VGFibGUgPSBTZWxlY3RUYWJsZTtcclxuIiwiLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuLy8gIEFkZFRvR3JvdXAudHN4IC0gR2J0Y1xyXG4vL1xyXG4vLyAgQ29weXJpZ2h0IMKpIDIwMjAsIEdyaWQgUHJvdGVjdGlvbiBBbGxpYW5jZS4gIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbi8vXHJcbi8vICBMaWNlbnNlZCB0byB0aGUgR3JpZCBQcm90ZWN0aW9uIEFsbGlhbmNlIChHUEEpIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlXHJcbi8vICB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuXHJcbi8vICBUaGUgR1BBIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCB0aGUgXCJMaWNlbnNlXCI7IHlvdSBtYXkgbm90IHVzZSB0aGlzXHJcbi8vICBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcclxuLy9cclxuLy8gICAgICBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXHJcbi8vXHJcbi8vICBVbmxlc3MgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHRoZSBzdWJqZWN0IHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXHJcbi8vICBcIkFTLUlTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBSZWZlciB0byB0aGVcclxuLy8gIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zLlxyXG4vL1xyXG4vLyAgQ29kZSBNb2RpZmljYXRpb24gSGlzdG9yeTpcclxuLy8gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gIDEwLzE0LzIwMjAgLSBDLiBMYWNrbmVyXHJcbi8vICAgICAgIEdlbmVyYXRlZCBvcmlnaW5hbCB2ZXJzaW9uIG9mIHNvdXJjZSBjb2RlLlxyXG4vL1xyXG4vLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuXHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xyXG5pbXBvcnQgeyBPcGVuWERBLCBTeXN0ZW1DZW50ZXIgfSBmcm9tICcuLi9nbG9iYWwnO1xyXG5pbXBvcnQgVGFibGUgZnJvbSAnQGdwYS1nZW1zdG9uZS9yZWFjdC10YWJsZSc7XHJcbmltcG9ydCB7IFNlYXJjaEJhciwgU2VhcmNoLCBNb2RhbCB9IGZyb20gJ0BncGEtZ2Vtc3RvbmUvcmVhY3QtaW50ZXJhY3RpdmUnO1xyXG5cclxuZGVjbGFyZSB2YXIgaG9tZVBhdGg6IHN0cmluZztcclxuaW50ZXJmYWNlIElwcm9wczxUPiB7XHJcbiAgICBTaG93OiBib29sZWFuLFxyXG4gICAgb25Db21wbGV0ZTogKGlkOiBBcnJheTxhbnk+KSA9PiBKUXVlcnlYSFIsXHJcbiAgICBzZXRTaG93OiAoc2hvdzogYm9vbGVhbikgPT4gdm9pZCxcclxuICAgIGdldERhdGE6IChzZWFyY2g6IEFycmF5PFNlYXJjaC5JRmlsdGVyPFQ+PiwgYXNjZW5kaW5nOiBib29sZWFuLCBzb3J0RmllbGQ6IHN0cmluZykgPT4gSlF1ZXJ5WEhSLFxyXG4gICAgdHlwZTogKCdBc3NldCcgfCAnTWV0ZXInIHwgJ0dyb3VwJyksXHJcbiAgICBQcmltYXJ5S2V5OiBrZXlvZiAoVCksXHJcbiAgICBcclxufVxyXG5cclxuZnVuY3Rpb24gQWRkVG9Bc3NldEdyb3VwPFQ+KHByb3BzOiBJcHJvcHM8VD4pIHtcclxuICAgIGNvbnN0IFtzZWFyY2gsIHNldFNlYXJjaF0gPSBSZWFjdC51c2VTdGF0ZTxBcnJheTxTZWFyY2guSUZpbHRlcjxUPj4+KFtdKTtcclxuICAgIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IFJlYWN0LnVzZVN0YXRlPEFycmF5PFQ+PihbXSk7XHJcblxyXG4gICAgY29uc3QgW3NlbGVjdGVkRGF0YSwgc2V0U2VsZWN0ZWREYXRhXSA9IFJlYWN0LnVzZVN0YXRlPEFycmF5PFQ+PihbXSk7XHJcblxyXG4gICAgY29uc3QgW3NvcnRGaWVsZEFsbCwgc2V0U29ydEZpZWxkQWxsXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZz4oJ0Fzc2V0S2V5Jyk7XHJcbiAgICBjb25zdCBbYXNjZW5kaW5nQWxsLCBzZXRBc2NlbmRpbmdBbGxdID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSk7XHJcblxyXG4gICAgY29uc3QgW3NvcnRGaWVsZFNlbGVjdGVkLCBzZXRTb3J0RmllbGRTZWxlY3RlZF0gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmc+KCdBc3NldEtleScpO1xyXG4gICAgY29uc3QgW2FzY2VuZGluZ1NlbGVjdGVkLCBzZXRBc2NlbmRpbmdTZWxlY3RlZF0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPih0cnVlKTtcclxuXHJcbiAgICBjb25zdCBbZmlsdGVyYWJsZUxpc3QsIHNldEZpbHRlcmFibGVMaXN0XSA9IFJlYWN0LnVzZVN0YXRlPEFycmF5PFNlYXJjaC5JRmllbGQ8VD4+PihnZXRTZWFyY2hGaWVsZCgpKTtcclxuICAgIGNvbnN0IFtzZWFyY2hTdGF0ZSwgc2V0U2VhcmNoU3RhdGVdID0gUmVhY3QudXNlU3RhdGU8KCdJZGxlJyB8ICdMb2FkaW5nJyB8ICdFcnJvcicpPignSWRsZScpO1xyXG5cclxuICAgIGNvbnN0IFtyZXN1bHQsIHNldFJlc3VsdF0gPSBSZWFjdC51c2VTdGF0ZTxBcnJheTxhbnk+PihbXSk7XHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4geyB9XHJcbiAgICAgICAgbGV0IGhhbmRsZSA9IHByb3BzLm9uQ29tcGxldGUocmVzdWx0KTtcclxuICAgICAgICBoYW5kbGUuZG9uZShkID0+IHNldFJlc3VsdChbXSkpXHJcblxyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChoYW5kbGUgIT0gdW5kZWZpbmVkICYmIGhhbmRsZS5hYm9ydCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgaGFuZGxlLmFib3J0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sIFtyZXN1bHRdKTtcclxuXHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIHNldFNlYXJjaFN0YXRlKCdMb2FkaW5nJylcclxuICAgICAgICBsZXQgaGFuZGxlID0gcHJvcHMuZ2V0RGF0YShzZWFyY2gsIGFzY2VuZGluZ0FsbCwgc29ydEZpZWxkQWxsKTtcclxuICAgICAgICBoYW5kbGUuZG9uZShkID0+IHsgc2V0U2VhcmNoU3RhdGUoJ0lkbGUnKTsgc2V0RGF0YShKU09OLnBhcnNlKGQpKSB9KTtcclxuICAgICAgICBoYW5kbGUuZmFpbChtc2cgPT4gc2V0U2VhcmNoU3RhdGUoJ0Vycm9yJykpO1xyXG5cclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaGFuZGxlICE9IHVuZGVmaW5lZCAmJiBoYW5kbGUuYWJvcnQgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIGhhbmRsZS5hYm9ydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtzZWFyY2gsIHNvcnRGaWVsZEFsbCwgYXNjZW5kaW5nQWxsXSk7XHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBzZXRGaWx0ZXJhYmxlTGlzdChnZXRTZWFyY2hGaWVsZCgpKTtcclxuXHJcbiAgICAgICAgbGV0IGhhbmRsZXMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHByb3BzLnR5cGUgPT0gJ0Fzc2V0JylcclxuICAgICAgICAgICAgaGFuZGxlcy5wdXNoKGdldEFkZGl0aW9uYWxGaWVsZHMoJ0xpbmUnKSk7XHJcbiAgICAgICAgaWYgKHByb3BzLnR5cGUgPT0gJ0Fzc2V0JylcclxuICAgICAgICAgICAgaGFuZGxlcy5wdXNoKGdldEFkZGl0aW9uYWxGaWVsZHMoJ0JyZWFrZXInKSk7XHJcbiAgICAgICAgaWYgKHByb3BzLnR5cGUgPT0gJ0Fzc2V0JylcclxuICAgICAgICAgICAgaGFuZGxlcy5wdXNoKGdldEFkZGl0aW9uYWxGaWVsZHMoJ0NhcEJhbmsnKSk7XHJcbiAgICAgICAgaWYgKHByb3BzLnR5cGUgPT0gJ0Fzc2V0JylcclxuICAgICAgICAgICAgaGFuZGxlcy5wdXNoKGdldEFkZGl0aW9uYWxGaWVsZHMoJ1RyYW5zZm9ybWVyJykpO1xyXG4gICAgICAgIGlmIChwcm9wcy50eXBlID09ICdBc3NldCcpXHJcbiAgICAgICAgICAgIGhhbmRsZXMucHVzaChnZXRBZGRpdGlvbmFsRmllbGRzKCdCdXMnKSk7XHJcbiAgICAgICAgaWYgKHByb3BzLnR5cGUgPT0gJ01ldGVyJylcclxuICAgICAgICAgICAgaGFuZGxlcy5wdXNoKGdldEFkZGl0aW9uYWxGaWVsZHMoJ01ldGVyJykpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGhhbmRsZXMuZm9yRWFjaChoID0+IHsgaWYgKGguYWJvcnQgIT0gbnVsbCkgaC5hYm9ydCgpO30pXHJcbiAgICAgICAgfVxyXG4gICAgfSwgW10pO1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRTZWFyY2hGaWVsZCgpOiBBcnJheTxTZWFyY2guSUZpZWxkPFQ+PiB7XHJcbiAgICAgICAgc3dpdGNoIChwcm9wcy50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0Fzc2V0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ05hbWUnLCBrZXk6ICdOYW1lJywgdHlwZTogJ3N0cmluZycgfSxcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGNhc2UgJ01ldGVyJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ0Fzc2V0S2V5Jywga2V5OiAnQXNzZXRLZXknLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6ICdOYW1lJywga2V5OiAnTmFtZScsIHR5cGU6ICdzdHJpbmcnIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ0xvY2F0aW9uJywga2V5OiAnTG9jYXRpb24nLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6ICdNYWtlJywga2V5OiAnTWFrZScsIHR5cGU6ICdzdHJpbmcnIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ01vZGVsJywga2V5OiAnTW9kZWwnLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6ICdOdW1iZXIgb2YgQXNzZXRzJywga2V5OiAnTWFwcGVkQXNzZXRzJywgdHlwZTogJ251bWJlcicgfSxcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGNhc2UgJ0dyb3VwJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ05hbWUnLCBrZXk6ICdOYW1lJywgdHlwZTogJ3N0cmluZycgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGxhYmVsOiAnTnVtYmVyIG9mIE1ldGVyJywga2V5OiAnTWV0ZXJzJywgdHlwZTogJ2ludGVnZXInIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ051bWJlciBvZiBUcmFuc21pc3Npb24gQXNzZXRzJywga2V5OiAnQXNzZXRzJywgdHlwZTogJ2ludGVnZXInIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ051bWJlciBvZiBVc2VycycsIGtleTogJ1VzZXJzJywgdHlwZTogJ2ludGVnZXInIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ1Nob3cgaW4gUFEgRGFzaGJvYXJkJywga2V5OiAnRGlzcGxheURhc2hib2FyZCcsIHR5cGU6ICdib29sZWFuJyB9LFxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0U3RhbmRhcmRTZWFyY2goKTogU2VhcmNoLklGaWVsZDxUPiB7XHJcbiAgICAgICAgc3dpdGNoIChwcm9wcy50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0Fzc2V0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGxhYmVsOiAnTmFtZScsIGtleTogJ05hbWUnLCB0eXBlOiAnc3RyaW5nJyB9O1xyXG4gICAgICAgICAgICBjYXNlICdNZXRlcic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBsYWJlbDogJ05hbWUnLCBrZXk6ICdOYW1lJywgdHlwZTogJ3N0cmluZycgfTtcclxuICAgICAgICAgICAgY2FzZSAnR3JvdXAnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbGFiZWw6ICdOYW1lJywga2V5OiAnTmFtZScsIHR5cGU6ICdzdHJpbmcnIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFRhYmxlQ29sbHVtbnMoKSB7XHJcbiAgICAgICAgc3dpdGNoIChwcm9wcy50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0Fzc2V0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdBc3NldEtleScgYXMga2V5b2YgKFQpLCBsYWJlbDogJ0tleScsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdBc3NldE5hbWUnIGFzIGtleW9mIChUKSwgbGFiZWw6ICdOYW1lJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGtleTogJ0Fzc2V0VHlwZScgYXMga2V5b2YgKFQpLCBsYWJlbDogJ0Fzc2V0IFR5cGUnLCBoZWFkZXJTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0sIHJvd1N0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsga2V5OiAnVm9sdGFnZUtWJyBhcyBrZXlvZiAoVCksIGxhYmVsOiAnVm9sdGFnZSAoa1YpJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGtleTogJ01ldGVycycgYXMga2V5b2YgKFQpLCBsYWJlbDogJ01ldGVycycsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdMb2NhdGlvbnMnIGFzIGtleW9mIChUKSwgbGFiZWw6ICdTdWJzdGF0aW9ucycsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6IG51bGwsIGxhYmVsOiAnJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6IDE3LCBwYWRkaW5nOiAwIH0sIHJvd1N0eWxlOiB7IHdpZHRoOiAwLCBwYWRkaW5nOiAwIH0gfSxcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGNhc2UgJ01ldGVyJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdBc3NldEtleScgYXMga2V5b2YgKFQpLCBsYWJlbDogJ0tleScsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdOYW1lJyBhcyBrZXlvZiAoVCksIGxhYmVsOiAnTmFtZScsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdMb2NhdGlvbicgYXMga2V5b2YgKFQpLCBsYWJlbDogJ1N1YnN0YXRpb24nLCBoZWFkZXJTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0sIHJvd1N0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsga2V5OiAnTWFwcGVkQXNzZXRzJyBhcyBrZXlvZiAoVCksIGxhYmVsOiAnQXNzZXRzJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGtleTogJ01ha2UnIGFzIGtleW9mIChUKSwgbGFiZWw6ICdNYWtlJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGtleTogJ01vZGVsJyBhcyBrZXlvZiAoVCksIGxhYmVsOiAnTW9kZWwnLCBoZWFkZXJTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0sIHJvd1N0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsga2V5OiBudWxsLCBsYWJlbDogJycsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAxNywgcGFkZGluZzogMCB9LCByb3dTdHlsZTogeyB3aWR0aDogMCwgcGFkZGluZzogMCB9IH0sXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICBjYXNlICdHcm91cCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgIHsga2V5OiAnTmFtZScgYXMga2V5b2YgKFQpLCBsYWJlbDogJ05hbWUnLCBoZWFkZXJTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0sIHJvd1N0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsga2V5OiAnQXNzZXRzJyBhcyBrZXlvZiAoVCksIGxhYmVsOiAnQXNzZXRzJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGtleTogJ01ldGVycycgYXMga2V5b2YgKFQpLCBsYWJlbDogJ01ldGVycycsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdVc2VycycgYXMga2V5b2YgKFQpLCBsYWJlbDogJ1VzZXJzJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGtleTogJ0Fzc2V0R3JvdXBzJyBhcyBrZXlvZiAoVCksIGxhYmVsOiAnU3ViR3JvdXBzJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGtleTogbnVsbCwgbGFiZWw6ICcnLCBoZWFkZXJTdHlsZTogeyB3aWR0aDogMTcsIHBhZGRpbmc6IDAgfSwgcm93U3R5bGU6IHsgd2lkdGg6IDAsIHBhZGRpbmc6IDAgfSB9LFxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRDb2xsdW1uKCkge1xyXG4gICAgICAgIHN3aXRjaCAocHJvcHMudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdBc3NldCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgIHsga2V5OiAnQXNzZXRLZXknIGFzIGtleW9mIChUKSwgbGFiZWw6ICdLZXknLCBoZWFkZXJTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0sIHJvd1N0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsga2V5OiAnQXNzZXROYW1lJyBhcyBrZXlvZiAoVCksIGxhYmVsOiAnTmFtZScsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdBc3NldFR5cGUnIGFzIGtleW9mIChUKSwgbGFiZWw6ICdBc3NldCBUeXBlJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGtleTogbnVsbCwgbGFiZWw6ICcnLCBoZWFkZXJTdHlsZTogeyB3aWR0aDogMTcsIHBhZGRpbmc6IDAgfSwgcm93U3R5bGU6IHsgd2lkdGg6IDAsIHBhZGRpbmc6IDAgfSB9LFxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgY2FzZSAnTWV0ZXInOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICB7IGtleTogJ0Fzc2V0S2V5JyBhcyBrZXlvZiAoVCksIGxhYmVsOiAnS2V5JywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGtleTogJ05hbWUnIGFzIGtleW9mIChUKSwgbGFiZWw6ICdOYW1lJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGtleTogJ0xvY2F0aW9uJyBhcyBrZXlvZiAoVCksIGxhYmVsOiAnU3Vic3RhdGlvbicsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6IG51bGwsIGxhYmVsOiAnJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6IDE3LCBwYWRkaW5nOiAwIH0sIHJvd1N0eWxlOiB7IHdpZHRoOiAwLCBwYWRkaW5nOiAwIH0gfSxcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGNhc2UgJ0dyb3VwJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdOYW1lJyBhcyBrZXlvZiAoVCksIGxhYmVsOiAnTmFtZScsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6IG51bGwsIGxhYmVsOiAnJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6IDE3LCBwYWRkaW5nOiAwIH0sIHJvd1N0eWxlOiB7IHdpZHRoOiAwLCBwYWRkaW5nOiAwIH0gfSxcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIF1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNldCgpIHtcclxuICAgICAgICBzZXRTZWxlY3RlZERhdGEoW10pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFRpdGxlKCkge1xyXG4gICAgICAgIHN3aXRjaCAocHJvcHMudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICgnQXNzZXQnKTpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnQWRkIFRyYW5zbWlzc2lvbiBBc3NldHMnXHJcbiAgICAgICAgICAgIGNhc2UgKCdNZXRlcicpOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdBZGQgTWV0ZXJzJ1xyXG4gICAgICAgICAgICBjYXNlICgnR3JvdXAnKTpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnQWRkIEFzc2V0IEdyb3VwcydcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0VHlwZUxhYmVsKCkge1xyXG4gICAgICAgIHN3aXRjaCAocHJvcHMudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICgnQXNzZXQnKTpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnVHJhbnNtaXNzaW9uIEFzc2V0cydcclxuICAgICAgICAgICAgY2FzZSAoJ01ldGVyJyk6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ01ldGVycydcclxuICAgICAgICAgICAgY2FzZSAoJ0dyb3VwJyk6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0Fzc2V0IEdyb3VwcydcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEFkZGl0aW9uYWxGaWVsZHMoVHlwZTogc3RyaW5nKTogSlF1ZXJ5LmpxWEhSPEFycmF5PFN5c3RlbUNlbnRlci5BZGRpdGlvbmFsRmllbGQ+PiB7XHJcbiAgICAgICAgbGV0IGhhbmRsZSA9ICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIHVybDogYCR7aG9tZVBhdGh9YXBpL1N5c3RlbUNlbnRlci9BZGRpdGlvbmFsRmllbGQvUGFyZW50VGFibGUvJHtUeXBlfS9GaWVsZE5hbWUvMGAsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcclxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBDb252ZXJ0VHlwZSh0eXBlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnaW50ZWdlcicgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdkYXRldGltZScgfHwgdHlwZSA9PSAnYm9vbGVhbicpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiB0eXBlIH1cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdlbnVtJywgZW51bTogW3sgTGFiZWw6IHR5cGUsIFZhbHVlOiB0eXBlIH1dXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGhhbmRsZS5kb25lKChkOiBBcnJheTxTeXN0ZW1DZW50ZXIuQWRkaXRpb25hbEZpZWxkPikgPT4ge1xyXG5cclxuICAgICAgICAgICAgc2V0RmlsdGVyYWJsZUxpc3QobHN0ID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBvcmRlcmVkID0gXy5vcmRlckJ5KGxzdC5jb25jYXQoZC5tYXAoaXRlbSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogYFtBRiR7aXRlbS5FeHRlcm5hbERCICE9IHVuZGVmaW5lZCA/IFwiIFwiICsgaXRlbS5FeHRlcm5hbERCIDogJyd9XSR7aXRlbS5GaWVsZE5hbWV9YCwga2V5OiBpdGVtLkZpZWxkTmFtZSwgLi4uQ29udmVydFR5cGUoaXRlbS5UeXBlKSB9IGFzIFNlYXJjaC5JRmllbGQ8VD5cclxuICAgICAgICAgICAgICAgICkpKSwgWydsYWJlbCddLCBbXCJhc2NcIl0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yZGVyZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaGFuZGxlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICByZXR1cm4gKDw+XHJcbiAgICAgICAgPE1vZGFsIFNob3c9e3Byb3BzLlNob3d9IFRpdGxlPXtnZXRUaXRsZSgpfSBTaG93WD17dHJ1ZX0gU2l6ZT17J3hsZyd9IENhbGxCYWNrPXsoY29uZikgPT4geyBwcm9wcy5zZXRTaG93KGZhbHNlKTsgcmVzZXQoKTsgaWYgKGNvbmYpIHNldFJlc3VsdChzZWxlY3RlZERhdGEubWFwKGl0ZW0gPT4gaXRlbVtwcm9wcy5QcmltYXJ5S2V5XSkpOyB9fT5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPFNlYXJjaEJhcjxUPiBDb2xsdW1uTGlzdD17ZmlsdGVyYWJsZUxpc3R9IFNldEZpbHRlcj17KGZsZHMpID0+IHNldFNlYXJjaChmbGRzKX0gRGlyZWN0aW9uPXsnbGVmdCd9IGRlZmF1bHRDb2xsdW1uPXtnZXRTdGFuZGFyZFNlYXJjaCgpfSBXaWR0aD17JzUwJSd9IExhYmVsPXsnU2VhcmNoJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgU2hvd0xvYWRpbmc9e3NlYXJjaFN0YXRlID09ICdMb2FkaW5nJ30gUmVzdWx0Tm90ZT17c2VhcmNoU3RhdGUgPT0gJ0Vycm9yJyA/ICdDb3VsZCBub3QgY29tcGxldGUgU2VhcmNoJyA6ICdGb3VuZCAnICsgZGF0YS5sZW5ndGggKyBnZXRUeXBlTGFiZWwoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgR2V0RW51bT17KHNldE9wdGlvbnMsIGZpZWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGFuZGxlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC50eXBlICE9ICdlbnVtJyB8fCBmaWVsZC5lbnVtID09IHVuZGVmaW5lZCB8fCBmaWVsZC5lbnVtLmxlbmd0aCAhPSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlID0gJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7aG9tZVBhdGh9YXBpL1ZhbHVlTGlzdC9Hcm91cC8ke2ZpZWxkLmVudW1bMF0uVmFsdWV9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlLmRvbmUoZCA9PiBzZXRPcHRpb25zKGQubWFwKGl0ZW0gPT4gKHsgVmFsdWU6IGl0ZW0uVmFsdWUudG9TdHJpbmcoKSwgTGFiZWw6IGl0ZW0uVGV4dCB9KSkpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHsgaWYgKGhhbmRsZSAhPSBudWxsICYmIGhhbmRsZS5hYm9ydCA9PSBudWxsKSBoYW5kbGUuYWJvcnQoKTsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG5cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9TZWFyY2hCYXI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbFwiIHN0eWxlPXt7IHdpZHRoOiAnNjAlJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8VGFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29scz17Z2V0VGFibGVDb2xsdW1ucygpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZUNsYXNzPVwidGFibGUgdGFibGUtaG92ZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhPXtkYXRhfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0RmllbGQ9e3NvcnRGaWVsZEFsbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXNjZW5kaW5nPXthc2NlbmRpbmdBbGx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU29ydD17KGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLmNvbCA9PSBzb3J0RmllbGRBbGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXNjZW5kaW5nQWxsKCFhc2NlbmRpbmdBbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXNjZW5kaW5nQWxsKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNvcnRGaWVsZEFsbChkLmNvbCBhcyBzdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZCkgPT4geyBzZXRTZWxlY3RlZERhdGEoKGwpID0+IHsgbGV0IHVwZGF0ZWQgPSBfLmNsb25lRGVlcChsKTsgdXBkYXRlZC5wdXNoKGQucm93KTsgcmV0dXJuIHVwZGF0ZWQ7IH0pIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZWFkU3R5bGU9e3sgZm9udFNpemU6ICdzbWFsbGVyJywgZGlzcGxheTogJ3RhYmxlJywgdGFibGVMYXlvdXQ6ICdmaXhlZCcsIHdpZHRoOiAnMTAwJScgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGJvZHlTdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBvdmVyZmxvd1k6ICdzY3JvbGwnLCBtYXhIZWlnaHQ6ICc0MDBweCcsIHdpZHRoOiAnMTAwJScgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93U3R5bGU9e3sgZm9udFNpemU6ICdzbWFsbGVyJywgZGlzcGxheTogJ3RhYmxlJywgdGFibGVMYXlvdXQ6ICdmaXhlZCcsIHdpZHRoOiAnMTAwJScgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ9eyhpdGVtKSA9PiBmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbFwiIHN0eWxlPXt7IHdpZHRoOiAnNDAlJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMz4gU2VsZWN0ZWQgQXNzZXRzIDwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHM9e2dldFNlbGVjdGVkQ29sbHVtbigpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZUNsYXNzPVwidGFibGUgdGFibGUtaG92ZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhPXtzZWxlY3RlZERhdGF9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRGaWVsZD17c29ydEZpZWxkU2VsZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzY2VuZGluZz17YXNjZW5kaW5nU2VsZWN0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU29ydD17KGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLmNvbCA9PSBzb3J0RmllbGRTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvcmRlcmVkID0gXy5vcmRlckJ5KHNlbGVjdGVkRGF0YSwgW2QuY29sXSwgWyghYXNjZW5kaW5nU2VsZWN0ZWQgPyBcImFzY1wiIDogXCJkZXNjXCIpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXNjZW5kaW5nU2VsZWN0ZWQoIWFzY2VuZGluZ1NlbGVjdGVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZERhdGEob3JkZXJlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3JkZXJlZCA9IF8ub3JkZXJCeShzZWxlY3RlZERhdGEsIFtkLmNvbF0sIFtcImFzY1wiXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXNjZW5kaW5nU2VsZWN0ZWQoIWFzY2VuZGluZ1NlbGVjdGVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZERhdGEob3JkZXJlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U29ydEZpZWxkU2VsZWN0ZWQoZC5jb2wgYXMgc3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVhZFN0eWxlPXt7IGZvbnRTaXplOiAnc21hbGxlcicsIGRpc3BsYXk6ICd0YWJsZScsIHRhYmxlTGF5b3V0OiAnZml4ZWQnLCB3aWR0aDogJzEwMCUnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRib2R5U3R5bGU9e3sgZGlzcGxheTogJ2Jsb2NrJywgb3ZlcmZsb3dZOiAnc2Nyb2xsJywgbWF4SGVpZ2h0OiAnNDAwcHgnLCB3aWR0aDogJzEwMCUnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd1N0eWxlPXt7IGZvbnRTaXplOiAnc21hbGxlcicsIGRpc3BsYXk6ICd0YWJsZScsIHRhYmxlTGF5b3V0OiAnZml4ZWQnLCB3aWR0aDogJzEwMCUnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkPXsoaXRlbSkgPT4gZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L01vZGFsPlxyXG4gICAgICAgIDwvPilcclxuXHJcbn1cclxuXHJcbmludGVyZmFjZSBJVHJhbnNtaXNzaW9uQXNzZXQge1xyXG4gICAgSUQ6IG51bWJlciwgQXNzZXRLZXk6IHN0cmluZywgQXNzZXROYW1lOiBzdHJpbmcsIEFzc2V0VHlwZTogc3RyaW5nLCBWb2x0YWdlS1Y6IG51bWJlciwgTWV0ZXJzOiBudW1iZXIsIExvY2F0aW9uczogc3RyaW5nXHJcbn1cclxuaW50ZXJmYWNlIElNZXRlciB7XHJcbiAgICBJRDogbnVtYmVyLCBBc3NldEtleTogc3RyaW5nLCBOYW1lOiBzdHJpbmcsIExvY2F0aW9uOiBzdHJpbmcsIE1hcHBlZEFzc2V0czogbnVtYmVyLCBNYWtlOiBzdHJpbmcsIE1vZGVsOiBzdHJpbmdcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIEFkZFRvR3JvdXBQb3B1cChwcm9wczogeyBvbkNvbXBsZXRlOiAoaWQ6IEFycmF5PGFueT4pID0+IEpRdWVyeVhIUiwgdHlwZTogKCdBc3NldCcgfCAnTWV0ZXInIHwgJ0dyb3VwJyksIFNob3c6IGJvb2xlYW4sIENsb3NlOiAoKSA9PiB2b2lkOyB9KSB7XHJcblxyXG4gICAgZnVuY3Rpb24gc2VhcmNoQXNzZXQoc2VhcmNoOiBTZWFyY2guSUZpbHRlcjxJVHJhbnNtaXNzaW9uQXNzZXQ+W10sIGFzY2VuZGluZzogYm9vbGVhbiwgc29ydEZpZWxkOiBzdHJpbmcpOiBKUXVlcnlYSFIge1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRzID0gW1xyXG4gICAgICAgICAgICB7IGxhYmVsOiAnTmFtZScsIGtleTogJ05hbWUnLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGxldCBzZWFyY2hlcyA9IHNlYXJjaC5tYXAocyA9PiB7IGlmIChkZWZhdWx0cy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmtleSA9PSBzLkZpZWxkTmFtZSkgPT0gLTEpIHJldHVybiB7IC4uLnMsIGlzUGl2b3RDb2x1bW46IHRydWUgfTsgZWxzZSByZXR1cm4gczsgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUG9zdFwiLFxyXG4gICAgICAgICAgICB1cmw6IGAke2hvbWVQYXRofWFwaS9PcGVuWERBL0Fzc2V0L1NlYXJjaGFibGVMaXN0SW5jbHVkaW5nTWV0ZXJgLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsgU2VhcmNoZXM6IHNlYXJjaGVzLCBPcmRlckJ5OiBzb3J0RmllbGQsIEFzY2VuZGluZzogYXNjZW5kaW5nIH0pLFxyXG4gICAgICAgICAgICBjYWNoZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGFzeW5jOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VhcmNoTWV0ZXJzKHNlYXJjaDogU2VhcmNoLklGaWx0ZXI8SU1ldGVyPltdLCBhc2NlbmRpbmc6IGJvb2xlYW4sIHNvcnRGaWVsZDogc3RyaW5nKTogSlF1ZXJ5WEhSIHtcclxuICAgICAgICBjb25zdCBkZWZhdWx0czogQXJyYXk8U2VhcmNoLklGaWVsZDxJTWV0ZXI+PiA9IFtcclxuICAgICAgICAgICAgeyBsYWJlbDogJ0Fzc2V0S2V5Jywga2V5OiAnQXNzZXRLZXknLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgICAgICAgICB7IGxhYmVsOiAnTmFtZScsIGtleTogJ05hbWUnLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgICAgICAgICB7IGxhYmVsOiAnTG9jYXRpb24nLCBrZXk6ICdMb2NhdGlvbicsIHR5cGU6ICdzdHJpbmcnIH0sXHJcbiAgICAgICAgICAgIHsgbGFiZWw6ICdNYWtlJywga2V5OiAnTWFrZScsIHR5cGU6ICdzdHJpbmcnIH0sXHJcbiAgICAgICAgICAgIHsgbGFiZWw6ICdNb2RlbCcsIGtleTogJ01vZGVsJywgdHlwZTogJ3N0cmluZycgfSxcclxuICAgICAgICAgICAgeyBsYWJlbDogJ051bWJlciBvZiBBc3NldHMnLCBrZXk6ICdNYXBwZWRBc3NldHMnLCB0eXBlOiAnbnVtYmVyJyB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGxldCBzZWFyY2hlcyA9IHNlYXJjaC5tYXAocyA9PiB7IGlmIChkZWZhdWx0cy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmtleSA9PSBzLkZpZWxkTmFtZSkgPT0gLTEpIHJldHVybiB7IC4uLnMsIGlzUGl2b3RDb2x1bW46IHRydWUgfTsgZWxzZSByZXR1cm4gczsgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUG9zdFwiLFxyXG4gICAgICAgICAgICB1cmw6IGAke2hvbWVQYXRofWFwaS9PcGVuWERBL01ldGVyTGlzdC9FeHRlbmRlZFNlYXJjaGFibGVMaXN0YCxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7IFNlYXJjaGVzOiBzZWFyY2hlcywgT3JkZXJCeTogc29ydEZpZWxkLCBBc2NlbmRpbmc6IGFzY2VuZGluZyB9KSxcclxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlYXJjaEFzc2V0R3JvdXBzKHNlYXJjaDogU2VhcmNoLklGaWx0ZXI8T3BlblhEQS5Bc3NldEdyb3VwPltdLCBhc2NlbmRpbmc6IGJvb2xlYW4sIHNvcnRGaWVsZDogc3RyaW5nKTogSlF1ZXJ5WEhSIHtcclxuICAgICAgICBsZXQgc2VhcmNoZXMgPSBzZWFyY2g7XHJcblxyXG4gICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBvc3RcIixcclxuICAgICAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvT3BlblhEQS9Bc3NldEdyb3VwL1NlYXJjaGFibGVMaXN0YCxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7IFNlYXJjaGVzOiBzZWFyY2hlcywgT3JkZXJCeTogc29ydEZpZWxkLCBBc2NlbmRpbmc6IGFzY2VuZGluZyB9KSxcclxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBpZiAocHJvcHMudHlwZSA9PSAnQXNzZXQnKVxyXG4gICAgICAgIHJldHVybiA8QWRkVG9Bc3NldEdyb3VwPElUcmFuc21pc3Npb25Bc3NldD4gU2hvdz17cHJvcHMuU2hvd30gc2V0U2hvdz17KCkgPT4gcHJvcHMuQ2xvc2UoKX0gdHlwZT0nQXNzZXQnIFByaW1hcnlLZXk9J0lEJyBnZXREYXRhPXtzZWFyY2hBc3NldH0gb25Db21wbGV0ZT17cHJvcHMub25Db21wbGV0ZX0gLz5cclxuICAgIGlmIChwcm9wcy50eXBlID09ICdNZXRlcicpXHJcbiAgICAgICAgcmV0dXJuIDxBZGRUb0Fzc2V0R3JvdXA8SU1ldGVyPiBTaG93PXtwcm9wcy5TaG93fSBzZXRTaG93PXsoKSA9PiBwcm9wcy5DbG9zZSgpfSB0eXBlPSdNZXRlcicgUHJpbWFyeUtleT0nSUQnIGdldERhdGE9e3NlYXJjaE1ldGVyc30gb25Db21wbGV0ZT17cHJvcHMub25Db21wbGV0ZX0gLz5cclxuICAgIGlmIChwcm9wcy50eXBlID09ICdHcm91cCcpXHJcbiAgICAgICAgcmV0dXJuIDxBZGRUb0Fzc2V0R3JvdXA8T3BlblhEQS5Bc3NldEdyb3VwPiBTaG93PXtwcm9wcy5TaG93fSBzZXRTaG93PXsoKSA9PiBwcm9wcy5DbG9zZSgpfSB0eXBlPSdHcm91cCcgUHJpbWFyeUtleT0nSUQnIGdldERhdGE9e3NlYXJjaEFzc2V0R3JvdXBzfSBvbkNvbXBsZXRlPXtwcm9wcy5vbkNvbXBsZXRlfSAvPlxyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQWRkVG9Hcm91cFBvcHVwOyJdLCJzb3VyY2VSb290IjoiIn0=