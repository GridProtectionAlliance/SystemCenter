(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{317:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(39),o=n.n(a),l=n(31),i=n(3),s=n(62),c=n(38),u=n(35),d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},y=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return l};t.default=function(e){var t=Object(i.useHistory)(),n=y(r.useState([]),2),a=n[0],m=n[1],p=y(r.useState("Idle"),2),f=p[0],h=p[1],b=y(r.useState(s.b.Customer),2),g=b[0],S=b[1],C=y(r.useState([]),2),N=C[0],v=C[1],w=y(r.useState("CustomerKey"),2),k=w[0],E=w[1],A=y(r.useState(!0),2),F=A[0],O=A[1],P=y(r.useState({ID:0,CustomerKey:null,Name:null,Phone:null,Description:null}),2),T=P[0],x=P[1];function I(){var e=(h("Loading"),$.ajax({type:"Post",url:homePath+"api/SystemCenter/Customer/SearchableList",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({Searches:s.c.Customer(a),OrderBy:k,Ascending:F}),cache:!1,async:!0}));return e.done((function(e){v(JSON.parse(e)),h("Idle")})).fail((function(e){return h("Error")})),function(){null!=e.abort&&e.abort()}}function D(e){return"CustomerKey"==e?null!=T.CustomerKey&&T.CustomerKey.length>0&&T.CustomerKey.length<=25:"Name"==e?null==T.Name||T.Name.length<=100:"Phone"==e?null==T.Phone||T.Phone.length<=20:"Description"==e&&(null==T.Description||T.Description.length<=200)}return r.useEffect((function(){return I()}),[a,F,k]),r.useEffect((function(){var e=function(){var e=$.ajax({type:"GET",url:homePath+"api/SystemCenter/AdditionalField/ParentTable/Customer/FieldName/0",contentType:"application/json; charset=utf-8",cache:!1,async:!0});return e.done((function(e){var t=l.orderBy(s.b.Customer.concat(e.map((function(e){return d({label:"[AF"+(null!=e.ExternalDB?" "+e.ExternalDB:"")+"] "+e.FieldName,key:e.FieldName},"string"==(t=e.Type)||"integer"==t||"number"==t||"datetime"==t||"boolean"==t?{type:t}:{type:"enum",enum:[{Label:t,Value:t}]});var t}))),["label"],["asc"]);S(t)})),e}();return function(){null!=e.abort&&e.abort()}}),[]),r.createElement("div",{style:{width:"100%",height:"100%"}},r.createElement(c.SearchBar,{CollumnList:g,SetFilter:function(e){return m(e)},Direction:"left",defaultCollumn:s.a.Customer,Width:"50%",Label:"Search",ShowLoading:"Loading"==f,ResultNote:"Error"==f?"Could not complete Search":"Found "+N.length+" Customers",GetEnum:function(e,t){var n=null;return"enum"!=t.type||null==t.enum||1!=t.enum.length?function(){}:((n=$.ajax({type:"GET",url:homePath+"api/ValueList/Group/"+t.enum[0].Value,contentType:"application/json; charset=utf-8",dataType:"json",cache:!0,async:!0})).done((function(t){return e(t.map((function(e){return{Value:e.Value.toString(),Label:e.Text}})))})),function(){null!=n&&null==n.abort&&n.abort()})}},r.createElement("li",{className:"nav-item",style:{width:"15%",paddingRight:10}},r.createElement("fieldset",{className:"border",style:{padding:"10px",height:"100%"}},r.createElement("legend",{className:"w-auto",style:{fontSize:"large"}},"Actions:"),r.createElement("form",null,r.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#customerModal",hidden:e.Roles.indexOf("Administrator")<0&&e.Roles.indexOf("Transmission SME")<0,onClick:function(e){e.preventDefault()}},"Add Customer"))))),r.createElement("div",{style:{width:"100%",height:"calc( 100% - 136px)"}},r.createElement(o.a,{cols:[{key:"CustomerKey",label:"Account Name",headerStyle:{width:"15%"},rowStyle:{width:"15%"}},{key:"Name",label:"Name",headerStyle:{width:"15%"},rowStyle:{width:"15%"}},{key:"Phone",label:"Phone",headerStyle:{width:"10%"},rowStyle:{width:"10%"}},{key:"Description",label:"Description",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"Meters",label:"Assigned Meters",headerStyle:{width:"10%"},rowStyle:{width:"10%"}},{key:null,label:"",headerStyle:{width:17,padding:0},rowStyle:{width:0,padding:0}}],tableClass:"table table-hover",data:N,sortField:k,ascending:F,onSort:function(e){e.col==k?O(!F):(O(!0),E(e.col))},onClick:function(e){t.push({pathname:homePath+"index.cshtml",search:"?name=Customer&CustomerID="+e.row.ID,state:{}})},theadStyle:{fontSize:"smaller",display:"table",tableLayout:"fixed",width:"100%"},tbodyStyle:{display:"block",overflowY:"scroll",maxHeight:window.innerHeight-300,width:"100%"},rowStyle:{fontSize:"smaller",display:"table",tableLayout:"fixed",width:"100%"},selected:function(e){return!1}})),r.createElement("div",{className:"modal",id:"customerModal"},r.createElement("div",{className:"modal-dialog",style:{maxWidth:"100%",width:"75%"}},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h4",{className:"modal-title"},"Add Customer"),r.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"Ã—")),r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},r.createElement(u.Input,{Record:T,Field:"CustomerKey",Feedback:"AccountName of less than 25 characters is required.",Valid:D,Setter:x}),r.createElement(u.Input,{Record:T,Field:"Name",Feedback:"Name must be less than 100 characters.",Valid:D,Setter:x}),r.createElement(u.Input,{Record:T,Field:"Phone",Feedback:"Phone must be less than 20 characters.",Valid:D,Setter:x}),r.createElement(u.TextArea,{Rows:3,Record:T,Field:"Description",Feedback:"Description must be less than 200 characters.",Valid:D,Setter:x})))),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){$.ajax({type:"POST",url:homePath+"api/SystemCenter/Customer/Add",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(T),cache:!1,async:!0}).done((function(e){return I()}))}},"Save"),r.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Close"))))))}},39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectTable=void 0;var r=n(44),a=n(51);Object.defineProperty(t,"SelectTable",{enumerable:!0,get:function(){return a.SelectTable}}),t.default=r.default},44:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),i=function(e){return l.createElement("span",{style:{width:10,height:10,margin:3},className:"fa fa-angle-"+(e.ascending?"up":"down")})},s=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.render=function(){var e=this.generateRows(),t=this.generateHeaders();return l.createElement("table",{className:void 0!==this.props.tableClass?this.props.tableClass:"",style:this.props.tableStyle},l.createElement("thead",{style:this.props.theadStyle},t),l.createElement("tbody",{style:this.props.tbodyStyle},e))},t.prototype.generateHeaders=function(){var e=this;if(0===this.props.cols.length)return null;var t=this.props.cols.map((function(t,n){var r;return void 0===(r=void 0!==t.headerStyle?t.headerStyle:{}).cursor&&(r.cursor="pointer"),l.createElement("th",{key:n,style:r,onClick:function(n){return e.handleSort({col:t.key,ascending:e.props.ascending},n)}},t.label,e.props.sortField===t.key?l.createElement(i,{ascending:e.props.ascending}):null)}));return l.createElement("tr",null,t)},t.prototype.generateRows=function(){var e=this;return 0===this.props.data.length?null:this.props.data.map((function(t,n){var r,a=e.props.cols.map((function(r){var a;return a=void 0===r.rowStyle?{}:o({},r.rowStyle),l.createElement("td",{key:n.toString()+(null===r.key?"":t[r.key])+r.key,style:a,onClick:e.handleClick.bind(e,{col:r.key,row:t,data:null===r.key?null:t[r.key],index:n})},void 0!==r.content?r.content(t,r.key,a,n):null===r.key?null:t[r.key])}));return void 0===(r=void 0!==e.props.rowStyle?o({},e.props.rowStyle):{}).cursor&&(r.cursor="pointer"),void 0!==e.props.selected&&e.props.selected(t)&&(r.backgroundColor="yellow"),l.createElement("tr",{style:r,key:n.toString()},a)}))},t.prototype.handleClick=function(e,t){this.props.onClick(e,t)},t.prototype.handleSort=function(e,t){this.props.onSort(e)},t}(l.Component);t.default=s},51:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],l=0,i=o.length;l<i;l++,a++)r[a]=o[l];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectTable=void 0;var o=n(0),l=n(31),i=n(44);t.SelectTable=function(e){var t=o.useRef(!1),n=o.useState(e.data),s=n[0],c=n[1],u=o.useState([]),d=u[0],y=u[1],m=o.useState(e.sortField),p=m[0],f=m[1],h=o.useState(e.ascending),b=h[0],g=h[1];o.useEffect((function(){t.current?y((function(t){return t.length===s.length?[]:s.map((function(t){return t[e.KeyField]}))})):t.current=!0}),[e.selectAllCounter]),o.useEffect((function(){e.data.length!==s.length&&c(e.data)}),[e.data]),o.useEffect((function(){y((function(t){return t.filter((function(t){return s.findIndex((function(n){return n[e.KeyField]===t}))>-1}))}))}),[s]),o.useEffect((function(){c((function(e){return l.orderBy(e,[p],[b?"asc":"desc"])}))}),[b,p]),o.useEffect((function(){e.onSelection(s.filter((function(t){return d.findIndex((function(n){return n===t[e.KeyField]}))>-1})))}),[d]);var S={cols:a([{key:e.KeyField,label:"",headerStyle:{width:"4em"},rowStyle:{width:"4em"},content:function(t,n,r){return d.findIndex((function(n){return n===t[e.KeyField]}))>-1?o.createElement("div",{style:{marginTop:"16px",textAlign:"center"}},o.createElement("i",{className:"fa fa-check-square-o fa-3x","aria-hidden":"true"})):null}}],e.cols),data:s,onClick:function(t,n){var r=d.findIndex((function(n){return n===t.row[e.KeyField]}));y(-1===r?function(n){return a(n,[t.row[e.KeyField]])}:function(n){return n.filter((function(n){return n!==t.row[e.KeyField]}))})},sortField:p,ascending:b,onSort:function(e){e.col===p?g(!b):f(e.col)},tableClass:e.tableClass,tableStyle:e.tableStyle,theadStyle:e.theadStyle,theadClass:e.theadClass,tbodyStyle:e.tbodyStyle,tbodyClass:e.tbodyClass,selected:function(e){return!1},rowStyle:e.rowStyle};return o.createElement(i.default,r({},S))}},62:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}));var r,a,o,l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e.Customer=[{label:"Account Name",key:"CustomerKey",type:"string"},{label:"Name",key:"Name",type:"string"},{label:"Phone",key:"Phone",type:"string"},{label:"Description",key:"Description",type:"string"},{label:"PQView Site Name",key:"PQViewSite",type:"string"},{label:"Number of Assigned Meters",key:"Meters",type:"integer"}],e.Company=[{label:"Name",key:"Name",type:"string"},{label:"CompanyID",key:"CompanyID",type:"string"},{label:"Description",key:"Description",type:"string"},{label:"Company Type",key:"CompanyTypeID",type:"enum"}],e.UserAccount=[{label:"First Name",key:"UserAccount.FirstName",type:"string"},{label:"Last Name",key:"UserAccount.LastName",type:"string"},{label:"Phone",key:"UserAccount.Phone",type:"string"},{label:"Mobile Phone",key:"UserAccount.MobilePhone",type:"string"},{label:"Email",key:"UserAccount.Email",type:"string"},{label:"TSC",key:"UserAccount.TSC",type:"string"},{label:"Role",key:"Role.Name",type:"string"},{label:"Security Role",key:"ApplicationRole.Name",type:"string"}],e.Location=[{label:"Name",key:"Name",type:"string"},{label:"Key",key:"LocationKey",type:"string"},{label:"Asset",key:"Asset",type:"string"},{label:"Meter",key:"Meter",type:"string"},{label:"Number of Assets",key:"Assets",type:"integer"},{label:"Number of Meters",key:"Meters",type:"integer"}]}(r||(r={})),function(e){e.Company={label:"Name",key:"Name",type:"string"},e.Customer={label:"Account Name",key:"CustomerKey",type:"string"},e.UserAccount={label:"First Name",key:"UserAccount.FirstName",type:"string"},e.Location={label:"Name",key:"Name",type:"string"}}(a||(a={})),function(e){e.Company=function(e){return e.map((function(e){return-1==r.Company.findIndex((function(t){return t.key==e.FieldName}))?l(l({},e),{isPivotColumn:!0}):e}))},e.Customer=function(e){return e.map((function(e){if("PQViewSite"==e.FieldName){var t=e.SearchText;return 0==t.length&&(t="%"),t.replace("*","%"),t="'"+t+"'",{FieldName:"ID",SearchText:"(SELECT Customer.ID FROM PQViewSite LEFT JOIN [systemCenter.CustomerAccess] ON[systemCenter.CustomerAccess].PQViewSiteID = PQViewSite.ID LEFT JOIN Customer C ON C.ID = [systemCenter.CustomerAccess].CustomerID WHERE  PQViewSite.Name "+e.Operator+t+" )",Operator:"IN",Type:"number",isPivotColumn:!1}}return-1==r.Customer.findIndex((function(t){return t.key==e.FieldName}))?l(l({},e),{isPivotColumn:!0}):e}))},e.Location=function(e){return e.map((function(e){var t;return"Meter"==e.FieldName?(0==(t=e.SearchText).length&&(t="%"),t.replace("*","%"),t=" '"+t+"'",{FieldName:"ID",SearchText:"(SELECT Meter.LocationID FROM Meter WHERE  Meter.AssetKey "+e.Operator+t+" or Meter.Name "+e.Operator+t+" )",Operator:"IN",Type:"number",isPivotColumn:!1}):"Asset"==e.FieldName?(0==(t=e.SearchText).length&&(t="%"),t.replace("*","%"),t=" '"+t+"'",{FieldName:"ID",SearchText:"(SELECT AssetLocation.LocationID FROM Asset LEFT JOIN AssetLocation ON AssetLocation.AssetID = Asset.ID WHERE  Asset.AssetName "+e.Operator+t+" or Asset.AssetKey "+e.Operator+t+" )",Operator:"IN",Type:"number",isPivotColumn:!1}):-1==r.Location.findIndex((function(t){return t.key==e.FieldName}))?l(l({},e),{isPivotColumn:!0}):e}))}}(o||(o={}))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9UU1gvU3lzdGVtQ2VudGVyL0N1c3RvbWVyL0J5Q3VzdG9tZXIudHN4Iiwid2VicGFjazovLy9EOi9Qcm9qZWN0cy9TeXN0ZW1DZW50ZXIvU291cmNlL0FwcGxpY2F0aW9ucy9TeXN0ZW1DZW50ZXIvbm9kZV9tb2R1bGVzL0BncGEtZ2Vtc3RvbmUvcmVhY3QtdGFibGUvbGliL2luZGV4LmpzIiwid2VicGFjazovLy9EOi9Qcm9qZWN0cy9TeXN0ZW1DZW50ZXIvU291cmNlL0FwcGxpY2F0aW9ucy9TeXN0ZW1DZW50ZXIvbm9kZV9tb2R1bGVzL0BncGEtZ2Vtc3RvbmUvcmVhY3QtdGFibGUvbGliL1RhYmxlLmpzIiwid2VicGFjazovLy9EOi9Qcm9qZWN0cy9TeXN0ZW1DZW50ZXIvU291cmNlL0FwcGxpY2F0aW9ucy9TeXN0ZW1DZW50ZXIvbm9kZV9tb2R1bGVzL0BncGEtZ2Vtc3RvbmUvcmVhY3QtdGFibGUvbGliL1NlbGVjdFRhYmxlLmpzIiwid2VicGFjazovLy8uL1RTWC9TeXN0ZW1DZW50ZXIvQ29tbW9uQ29tcG9uZW50cy9TZWFyY2hGaWVsZHMudHN4Il0sIm5hbWVzIjpbInByb3BzIiwiaGlzdG9yeSIsInNlYXJjaCIsInNldFNlYXJjaCIsInNlYXJjaFN0YXRlIiwic2V0U2VhcmNoU3RhdGUiLCJmaWx0ZXJhYmxlTGlzdCIsInNldEZpbHRlcmFibGVMaXN0IiwiZGF0YSIsInNldERhdGEiLCJzb3J0RmllbGQiLCJzZXRTb3J0RmllbGQiLCJhc2NlbmRpbmciLCJzZXRBc2NlbmRpbmciLCJJRCIsIkN1c3RvbWVyS2V5IiwiTmFtZSIsIlBob25lIiwiRGVzY3JpcHRpb24iLCJuZXdDdXN0b21lciIsInNldE5ld0N1c3RvbWVyIiwiZ2V0RGF0YSIsImhhbmRsZSIsIiQiLCJhamF4IiwidHlwZSIsInVybCIsImhvbWVQYXRoIiwiY29udGVudFR5cGUiLCJkYXRhVHlwZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJTZWFyY2hlcyIsIkN1c3RvbWVyIiwiT3JkZXJCeSIsIkFzY2VuZGluZyIsImNhY2hlIiwiYXN5bmMiLCJkb25lIiwicGFyc2UiLCJmYWlsIiwiZCIsImFib3J0IiwidmFsaWQiLCJmaWVsZCIsImxlbmd0aCIsIm9yZGVyZWQiLCJjb25jYXQiLCJtYXAiLCJpdGVtIiwibGFiZWwiLCJ1bmRlZmluZWQiLCJFeHRlcm5hbERCIiwiRmllbGROYW1lIiwia2V5IiwiVHlwZSIsImVudW0iLCJMYWJlbCIsIlZhbHVlIiwiZ2V0QWRkaXRpb25hbEZpZWxkcyIsInN0eWxlIiwid2lkdGgiLCJoZWlnaHQiLCJDb2xsdW1uTGlzdCIsIlNldEZpbHRlciIsImZsZHMiLCJEaXJlY3Rpb24iLCJkZWZhdWx0Q29sbHVtbiIsIldpZHRoIiwiU2hvd0xvYWRpbmciLCJSZXN1bHROb3RlIiwiR2V0RW51bSIsInNldE9wdGlvbnMiLCJ0b1N0cmluZyIsIlRleHQiLCJjbGFzc05hbWUiLCJwYWRkaW5nUmlnaHQiLCJwYWRkaW5nIiwiZm9udFNpemUiLCJoaWRkZW4iLCJSb2xlcyIsImluZGV4T2YiLCJvbkNsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImNvbHMiLCJoZWFkZXJTdHlsZSIsInJvd1N0eWxlIiwidGFibGVDbGFzcyIsIm9uU29ydCIsImNvbCIsInB1c2giLCJwYXRobmFtZSIsInJvdyIsInN0YXRlIiwidGhlYWRTdHlsZSIsImRpc3BsYXkiLCJ0YWJsZUxheW91dCIsInRib2R5U3R5bGUiLCJvdmVyZmxvd1kiLCJtYXhIZWlnaHQiLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsInNlbGVjdGVkIiwiaWQiLCJtYXhXaWR0aCIsIlJlY29yZCIsIkZpZWxkIiwiRmVlZGJhY2siLCJWYWxpZCIsIlNldHRlciIsIlJvd3MiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlNlbGVjdFRhYmxlIiwiVGFibGVfMSIsIlNlbGVjdFRhYmxlXzEiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZGVmYXVsdCIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJ0aGlzIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiX19hc3NpZ24iLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwiY2FsbCIsImFwcGx5IiwiUmVhY3QiLCJBbmdsZUljb24iLCJjcmVhdGVFbGVtZW50IiwibWFyZ2luIiwiVGFibGUiLCJfc3VwZXIiLCJyZW5kZXIiLCJyb3dDb21wb25lbnRzIiwiZ2VuZXJhdGVSb3dzIiwiaGVhZGVyQ29tcG9uZW50cyIsImdlbmVyYXRlSGVhZGVycyIsInRhYmxlU3R5bGUiLCJfdGhpcyIsImNlbGxzIiwiY29sRGF0YSIsImluZGV4IiwiY3Vyc29yIiwiZSIsImhhbmRsZVNvcnQiLCJjc3MiLCJoYW5kbGVDbGljayIsImJpbmQiLCJjb250ZW50IiwiYmFja2dyb3VuZENvbG9yIiwiQ29tcG9uZW50IiwiX19zcHJlYWRBcnJheXMiLCJpbCIsInIiLCJrIiwiYSIsImoiLCJqbCIsIl8iLCJkaWRNb3VudFJlZiIsInVzZVJlZiIsIl9hIiwidXNlU3RhdGUiLCJfYiIsInNldFNlbGVjdGVkIiwiX2MiLCJfZCIsInVzZUVmZmVjdCIsImN1cnJlbnQiLCJLZXlGaWVsZCIsInNlbGVjdEFsbENvdW50ZXIiLCJmaWx0ZXIiLCJrZXlJdGVtIiwiZmluZEluZGV4IiwibHN0Iiwib3JkZXJCeSIsIm9uU2VsZWN0aW9uIiwidGFibGVQcm9wcyIsIm1hcmdpblRvcCIsInRleHRBbGlnbiIsInNJbmRleCIsIm9kIiwidGhlYWRDbGFzcyIsInRib2R5Q2xhc3MiLCJTZWFyY2hGaWVsZHMiLCJEZWZhdWx0U2VhcmNoRmllbGQiLCJUcmFuc2Zvcm1TZWFyY2hGaWVsZHMiLCJDb21wYW55IiwiVXNlckFjY291bnQiLCJMb2NhdGlvbiIsImlzUGl2b3RDb2x1bW4iLCJ0ZXh0IiwiU2Vh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RUFBS0UsUUFBUSxJQUFLLEtBQ2xCRixFQUFPLEtBQU9BLEVBQU8sSUFDZCxDQUFFNUosVUFBVyxLQUFNNkosV0F0QmYsa0lBc0J3Q3hFLEVBQUUwRSxTQUFXSCxFQUFPLHNCQUF3QnZFLEVBQUUwRSxTQUFXSCxFQUFPLEtBQU1HLFNBQVUsS0FBTTdKLEtBQU0sU0FBVXlKLGVBQWUsS0FFbkcsR0FBckVOLEVBQWFLLFNBQVNoQixXQUFVLFNBQUE5SSxHQUFRLE9BQUFBLEVBQUtLLEtBQU9vRixFQUFFckYsYUFDL0MsRUFBUCxLQUFZcUYsR0FBQyxDQUFFc0UsZUFBZSxJQUV2QnRFLE1BaEV2QixDQUFpQmtFLE1BQXFCIiwiZmlsZSI6IkJ5Q3VzdG9tZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4vLyAgQnlDdXN0b21lci50c3ggLSBHYnRjXHJcbi8vXHJcbi8vICBDb3B5cmlnaHQgwqkgMjAyMCwgR3JpZCBQcm90ZWN0aW9uIEFsbGlhbmNlLiAgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuLy9cclxuLy8gIExpY2Vuc2VkIHRvIHRoZSBHcmlkIFByb3RlY3Rpb24gQWxsaWFuY2UgKEdQQSkgdW5kZXIgb25lIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiBTZWVcclxuLy8gIHRoZSBOT1RJQ0UgZmlsZSBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC5cclxuLy8gIFRoZSBHUEEgbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHRoZSBcIkxpY2Vuc2VcIjsgeW91IG1heSBub3QgdXNlIHRoaXNcclxuLy8gIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxyXG4vL1xyXG4vLyAgICAgIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcclxuLy9cclxuLy8gIFVubGVzcyBhZ3JlZWQgdG8gaW4gd3JpdGluZywgdGhlIHN1YmplY3Qgc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cclxuLy8gIFwiQVMtSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFJlZmVyIHRvIHRoZVxyXG4vLyAgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMuXHJcbi8vXHJcbi8vICBDb2RlIE1vZGlmaWNhdGlvbiBIaXN0b3J5OlxyXG4vLyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAgMDIvMDQvMjAyMCAtIEJpbGx5IEVybmVzdFxyXG4vLyAgICAgICBHZW5lcmF0ZWQgb3JpZ2luYWwgdmVyc2lvbiBvZiBzb3VyY2UgY29kZS5cclxuLy9cclxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFRhYmxlIGZyb20gJ0BncGEtZ2Vtc3RvbmUvcmVhY3QtdGFibGUnO1xyXG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XHJcbmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xyXG5pbXBvcnQgeyBTeXN0ZW1DZW50ZXIgfSBmcm9tICcuLi9nbG9iYWwnO1xyXG5cclxuaW1wb3J0IHsgRGVmYXVsdFNlYXJjaEZpZWxkLCBTZWFyY2hGaWVsZHMsIFRyYW5zZm9ybVNlYXJjaEZpZWxkcyB9IGZyb20gJy4uL0NvbW1vbkNvbXBvbmVudHMvU2VhcmNoRmllbGRzJztcclxuaW1wb3J0IHsgU2VhcmNoQmFyLCBTZWFyY2ggfSBmcm9tICdAZ3BhLWdlbXN0b25lL3JlYWN0LWludGVyYWN0aXZlJztcclxuaW1wb3J0IHsgSW5wdXQsIFRleHRBcmVhIH0gZnJvbSAnQGdwYS1nZW1zdG9uZS9yZWFjdC1mb3Jtcyc7XHJcblxyXG5cclxuaW50ZXJmYWNlIEN1c3RvbWVyIGV4dGVuZHMgU3lzdGVtQ2VudGVyLkN1c3RvbWVyIHtcclxuICAgIE1ldGVyczogbnVtYmVyXHJcbn1cclxuXHJcbmRlY2xhcmUgdmFyIGhvbWVQYXRoOiBzdHJpbmc7XHJcblxyXG5jb25zdCBCeUN1c3RvbWVyOiBTeXN0ZW1DZW50ZXIuQnlDb21wb25lbnQgPSAocHJvcHMpID0+IHtcclxuICAgIGxldCBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpO1xyXG4gICAgXHJcbiAgICBjb25zdCBbc2VhcmNoLCBzZXRTZWFyY2hdID0gUmVhY3QudXNlU3RhdGU8QXJyYXk8U2VhcmNoLklGaWx0ZXI8Q3VzdG9tZXI+Pj4oW10pO1xyXG4gICAgY29uc3QgW3NlYXJjaFN0YXRlLCBzZXRTZWFyY2hTdGF0ZV0gPSBSZWFjdC51c2VTdGF0ZTwoJ0lkbGUnIHwgJ0xvYWRpbmcnIHwgJ0Vycm9yJyk+KCdJZGxlJyk7XHJcbiAgICBjb25zdCBbZmlsdGVyYWJsZUxpc3QsIHNldEZpbHRlcmFibGVMaXN0XSA9IFJlYWN0LnVzZVN0YXRlPEFycmF5PFNlYXJjaC5JRmllbGQ8Q3VzdG9tZXI+Pj4oU2VhcmNoRmllbGRzLkN1c3RvbWVyIGFzIFNlYXJjaC5JRmllbGQ8Q3VzdG9tZXI+W10pO1xyXG5cclxuICAgIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IFJlYWN0LnVzZVN0YXRlPEFycmF5PEN1c3RvbWVyPj4oW10pO1xyXG4gICAgY29uc3QgW3NvcnRGaWVsZCwgc2V0U29ydEZpZWxkXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZz4oJ0N1c3RvbWVyS2V5Jyk7XHJcbiAgICBjb25zdCBbYXNjZW5kaW5nLCBzZXRBc2NlbmRpbmddID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSk7XHJcbiAgICBjb25zdCBbbmV3Q3VzdG9tZXIsIHNldE5ld0N1c3RvbWVyXSA9IFJlYWN0LnVzZVN0YXRlPFN5c3RlbUNlbnRlci5DdXN0b21lcj4oZ2V0TmV3Q3VzdG9tZXIoKSk7XHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICByZXR1cm4gZ2V0RGF0YSgpO1xyXG4gICAgfSwgW3NlYXJjaCwgYXNjZW5kaW5nLCBzb3J0RmllbGRdKTtcclxuXHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGxldCBoYW5kbGUgPSBnZXRBZGRpdGlvbmFsRmllbGRzKCk7XHJcblxyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChoYW5kbGUuYWJvcnQgIT0gbnVsbCkgaGFuZGxlLmFib3J0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW10pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldERhdGEoKSB7XHJcbiAgICAgICAgbGV0IGhhbmRsZSA9IGdldEN1c3RvbWVycygpO1xyXG4gICAgICAgIGhhbmRsZS5kb25lKChkYXRhOiBzdHJpbmcpID0+IHsgc2V0RGF0YShKU09OLnBhcnNlKGRhdGEpKTsgc2V0U2VhcmNoU3RhdGUoJ0lkbGUnKTsgfSkuZmFpbCgoZCkgPT4gc2V0U2VhcmNoU3RhdGUoJ0Vycm9yJykpOztcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gY2xlYW51cCgpIHtcclxuICAgICAgICAgICAgaWYgKGhhbmRsZS5hYm9ydCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgaGFuZGxlLmFib3J0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDdXN0b21lcnMoKTogSlF1ZXJ5LmpxWEhSPHN0cmluZz57XHJcblxyXG4gICAgICAgIHNldFNlYXJjaFN0YXRlKCdMb2FkaW5nJyk7XHJcblxyXG4gICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBvc3RcIixcclxuICAgICAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvU3lzdGVtQ2VudGVyL0N1c3RvbWVyL1NlYXJjaGFibGVMaXN0YCxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7IFNlYXJjaGVzOiBUcmFuc2Zvcm1TZWFyY2hGaWVsZHMuQ3VzdG9tZXIoc2VhcmNoKSwgT3JkZXJCeTogc29ydEZpZWxkLCBBc2NlbmRpbmc6IGFzY2VuZGluZyB9KSxcclxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldE5ld0N1c3RvbWVyKCk6IFN5c3RlbUNlbnRlci5DdXN0b21lciB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgSUQ6IDAsXHJcbiAgICAgICAgICAgIEN1c3RvbWVyS2V5OiBudWxsLFxyXG4gICAgICAgICAgICBOYW1lOiBudWxsLFxyXG4gICAgICAgICAgICBQaG9uZTogbnVsbCxcclxuICAgICAgICAgICAgRGVzY3JpcHRpb246IG51bGxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkTmV3Q3VzdG9tZXIoKSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogYCR7aG9tZVBhdGh9YXBpL1N5c3RlbUNlbnRlci9DdXN0b21lci9BZGRgLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KG5ld0N1c3RvbWVyKSxcclxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgICAgIH0pLmRvbmUoKGRhdGEpID0+IGdldERhdGEoKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEFkZGl0aW9uYWxGaWVsZHMoKTogSlF1ZXJ5LmpxWEhSPEFycmF5PFN5c3RlbUNlbnRlci5BZGRpdGlvbmFsRmllbGQ+PiB7XHJcbiAgICAgICAgbGV0IGhhbmRsZSA9ICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIHVybDogYCR7aG9tZVBhdGh9YXBpL1N5c3RlbUNlbnRlci9BZGRpdGlvbmFsRmllbGQvUGFyZW50VGFibGUvQ3VzdG9tZXIvRmllbGROYW1lLzBgLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgICAgICAgYXN5bmM6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gQ29udmVydFR5cGUodHlwZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ2ludGVnZXInIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnZGF0ZXRpbWUnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogdHlwZSB9XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnZW51bScsIGVudW06IFt7IExhYmVsOiB0eXBlLCBWYWx1ZTogdHlwZSB9XVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBoYW5kbGUuZG9uZSgoZDogQXJyYXk8U3lzdGVtQ2VudGVyLkFkZGl0aW9uYWxGaWVsZD4pID0+IHtcclxuICAgICAgICAgICAgbGV0IG9yZGVyZWQgPSBfLm9yZGVyQnkoKFNlYXJjaEZpZWxkcy5DdXN0b21lciBhcyBTZWFyY2guSUZpZWxkPEN1c3RvbWVyPltdKS5jb25jYXQoZC5tYXAoaXRlbSA9PiAoXHJcbiAgICAgICAgICAgICAgICB7IGxhYmVsOiBgW0FGJHtpdGVtLkV4dGVybmFsREIgIT0gdW5kZWZpbmVkID8gXCIgXCIgKyBpdGVtLkV4dGVybmFsREIgOiAnJ31dICR7aXRlbS5GaWVsZE5hbWV9YCwga2V5OiBpdGVtLkZpZWxkTmFtZSwgLi4uQ29udmVydFR5cGUoaXRlbS5UeXBlKSB9IGFzIFNlYXJjaC5JRmllbGQ8Q3VzdG9tZXI+XHJcbiAgICAgICAgICAgICkpKSwgWydsYWJlbCddLCBbXCJhc2NcIl0pO1xyXG4gICAgICAgICAgICBzZXRGaWx0ZXJhYmxlTGlzdChvcmRlcmVkKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaGFuZGxlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGhhbmRsZVNlbGVjdChpdGVtKSB7XHJcbiAgICAgICAgaGlzdG9yeS5wdXNoKHsgcGF0aG5hbWU6IGhvbWVQYXRoICsgJ2luZGV4LmNzaHRtbCcsIHNlYXJjaDogJz9uYW1lPUN1c3RvbWVyJkN1c3RvbWVySUQ9JyArIGl0ZW0ucm93LklELCBzdGF0ZToge30gfSlcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB2YWxpZChmaWVsZDoga2V5b2YgKFN5c3RlbUNlbnRlci5DdXN0b21lcikpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoZmllbGQgPT0gJ0N1c3RvbWVyS2V5JylcclxuICAgICAgICAgICAgcmV0dXJuIG5ld0N1c3RvbWVyLkN1c3RvbWVyS2V5ICE9IG51bGwgJiYgbmV3Q3VzdG9tZXIuQ3VzdG9tZXJLZXkubGVuZ3RoID4gMCAmJiBuZXdDdXN0b21lci5DdXN0b21lcktleS5sZW5ndGggPD0gMjU7XHJcbiAgICAgICAgZWxzZSBpZiAoZmllbGQgPT0gJ05hbWUnKVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3Q3VzdG9tZXIuTmFtZSA9PSBudWxsIHx8IG5ld0N1c3RvbWVyLk5hbWUubGVuZ3RoIDw9IDEwMDtcclxuICAgICAgICBlbHNlIGlmIChmaWVsZCA9PSAnUGhvbmUnKVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3Q3VzdG9tZXIuUGhvbmUgPT0gbnVsbCB8fCBuZXdDdXN0b21lci5QaG9uZS5sZW5ndGggPD0gMjA7XHJcbiAgICAgICAgZWxzZSBpZiAoZmllbGQgPT0gJ0Rlc2NyaXB0aW9uJylcclxuICAgICAgICAgICAgcmV0dXJuIG5ld0N1c3RvbWVyLkRlc2NyaXB0aW9uID09IG51bGwgfHwgbmV3Q3VzdG9tZXIuRGVzY3JpcHRpb24ubGVuZ3RoIDw9IDIwMDtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICcxMDAlJyB9fT5cclxuICAgICAgICAgICAgPFNlYXJjaEJhcjxDdXN0b21lcj4gQ29sbHVtbkxpc3Q9e2ZpbHRlcmFibGVMaXN0fSBTZXRGaWx0ZXI9eyhmbGRzKSA9PiBzZXRTZWFyY2goZmxkcyl9IERpcmVjdGlvbj17J2xlZnQnfSBkZWZhdWx0Q29sbHVtbj17RGVmYXVsdFNlYXJjaEZpZWxkLkN1c3RvbWVyIGFzIFNlYXJjaC5JRmllbGQ8Q3VzdG9tZXI+fSBXaWR0aD17JzUwJSd9IExhYmVsPXsnU2VhcmNoJ31cclxuICAgICAgICAgICAgICAgIFNob3dMb2FkaW5nPXtzZWFyY2hTdGF0ZSA9PSAnTG9hZGluZyd9IFJlc3VsdE5vdGU9e3NlYXJjaFN0YXRlID09ICdFcnJvcicgPyAnQ291bGQgbm90IGNvbXBsZXRlIFNlYXJjaCcgOiAnRm91bmQgJyArIGRhdGEubGVuZ3RoICsgJyBDdXN0b21lcnMnfVxyXG4gICAgICAgICAgICAgICAgR2V0RW51bT17KHNldE9wdGlvbnMsIGZpZWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhhbmRsZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQudHlwZSAhPSAnZW51bScgfHwgZmllbGQuZW51bSA9PSB1bmRlZmluZWQgfHwgZmllbGQuZW51bS5sZW5ndGggIT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlID0gJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvVmFsdWVMaXN0L0dyb3VwLyR7ZmllbGQuZW51bVswXS5WYWx1ZX1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuZG9uZShkID0+IHNldE9wdGlvbnMoZC5tYXAoaXRlbSA9PiAoeyBWYWx1ZTogaXRlbS5WYWx1ZS50b1N0cmluZygpLCBMYWJlbDogaXRlbS5UZXh0IH0pKSkpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHsgaWYgKGhhbmRsZSAhPSBudWxsICYmIGhhbmRsZS5hYm9ydCA9PSBudWxsKSBoYW5kbGUuYWJvcnQoKTsgfVxyXG4gICAgICAgICAgICAgICAgfX1cclxuXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJuYXYtaXRlbVwiIHN0eWxlPXt7IHdpZHRoOiAnMTUlJywgcGFkZGluZ1JpZ2h0OiAxMCB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8ZmllbGRzZXQgY2xhc3NOYW1lPVwiYm9yZGVyXCIgc3R5bGU9e3sgcGFkZGluZzogJzEwcHgnLCBoZWlnaHQ6ICcxMDAlJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxlZ2VuZCBjbGFzc05hbWU9XCJ3LWF1dG9cIiBzdHlsZT17eyBmb250U2l6ZTogJ2xhcmdlJyB9fT5BY3Rpb25zOjwvbGVnZW5kPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Zm9ybT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCIgZGF0YS10b2dnbGU9J21vZGFsJyBkYXRhLXRhcmdldD1cIiNjdXN0b21lck1vZGFsXCIgaGlkZGVuPXtwcm9wcy5Sb2xlcy5pbmRleE9mKCdBZG1pbmlzdHJhdG9yJykgPCAwICYmIHByb3BzLlJvbGVzLmluZGV4T2YoJ1RyYW5zbWlzc2lvbiBTTUUnKSA8IDB9IG9uQ2xpY2s9eyhldmVudCkgPT4geyBldmVudC5wcmV2ZW50RGVmYXVsdCgpIH19PkFkZCBDdXN0b21lcjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9maWVsZHNldD5cclxuICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIDwvU2VhcmNoQmFyPlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogJ2NhbGMoIDEwMCUgLSAxMzZweCknIH19PlxyXG4gICAgICAgICAgICAgICAgPFRhYmxlPEN1c3RvbWVyPlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbHM9e1tcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdDdXN0b21lcktleScsIGxhYmVsOiAnQWNjb3VudCBOYW1lJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICcxNSUnIH0sIHJvd1N0eWxlOiB7IHdpZHRoOiAnMTUlJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiAnTmFtZScsIGxhYmVsOiAnTmFtZScsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnMTUlJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJzE1JScgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogJ1Bob25lJywgbGFiZWw6ICdQaG9uZScsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnMTAlJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJzEwJScgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogJ0Rlc2NyaXB0aW9uJywgbGFiZWw6ICdEZXNjcmlwdGlvbicsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiAnTWV0ZXJzJywgbGFiZWw6ICdBc3NpZ25lZCBNZXRlcnMnLCBoZWFkZXJTdHlsZTogeyB3aWR0aDogJzEwJScgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICcxMCUnIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6IG51bGwsIGxhYmVsOiAnJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6IDE3LCBwYWRkaW5nOiAwIH0sIHJvd1N0eWxlOiB7IHdpZHRoOiAwLCBwYWRkaW5nOiAwIH0gfSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXX1cclxuICAgICAgICAgICAgICAgICAgICB0YWJsZUNsYXNzPVwidGFibGUgdGFibGUtaG92ZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE9e2RhdGF9XHJcbiAgICAgICAgICAgICAgICAgICAgc29ydEZpZWxkPXtzb3J0RmllbGR9XHJcbiAgICAgICAgICAgICAgICAgICAgYXNjZW5kaW5nPXthc2NlbmRpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25Tb3J0PXsoZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZC5jb2wgPT0gc29ydEZpZWxkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXNjZW5kaW5nKCFhc2NlbmRpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFzY2VuZGluZyh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNvcnRGaWVsZChkLmNvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlbGVjdH1cclxuICAgICAgICAgICAgICAgICAgICB0aGVhZFN0eWxlPXt7IGZvbnRTaXplOiAnc21hbGxlcicsIGRpc3BsYXk6ICd0YWJsZScsIHRhYmxlTGF5b3V0OiAnZml4ZWQnLCB3aWR0aDogJzEwMCUnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgdGJvZHlTdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBvdmVyZmxvd1k6ICdzY3JvbGwnLCBtYXhIZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCAtIDMwMCwgd2lkdGg6ICcxMDAlJyAgfX1cclxuICAgICAgICAgICAgICAgICAgICByb3dTdHlsZT17eyBmb250U2l6ZTogJ3NtYWxsZXInLCBkaXNwbGF5OiAndGFibGUnLCB0YWJsZUxheW91dDogJ2ZpeGVkJywgd2lkdGg6ICcxMDAlJyB9fVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkPXsoaXRlbSkgPT4gZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWxcIiBpZD1cImN1c3RvbWVyTW9kYWxcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgc3R5bGU9e3sgbWF4V2lkdGg6ICcxMDAlJywgd2lkdGg6ICc3NSUnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+QWRkIEN1c3RvbWVyPC9oND5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj4mdGltZXM7PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2xcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0PFN5c3RlbUNlbnRlci5DdXN0b21lcj4gUmVjb3JkPXtuZXdDdXN0b21lcn0gRmllbGQ9eydDdXN0b21lcktleSd9IEZlZWRiYWNrPXsnQWNjb3VudE5hbWUgb2YgbGVzcyB0aGFuIDI1IGNoYXJhY3RlcnMgaXMgcmVxdWlyZWQuJ30gVmFsaWQ9e3ZhbGlkfSBTZXR0ZXI9e3NldE5ld0N1c3RvbWVyfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQ8U3lzdGVtQ2VudGVyLkN1c3RvbWVyPiBSZWNvcmQ9e25ld0N1c3RvbWVyfSBGaWVsZD17J05hbWUnfSBGZWVkYmFjaz17J05hbWUgbXVzdCBiZSBsZXNzIHRoYW4gMTAwIGNoYXJhY3RlcnMuJ30gVmFsaWQ9e3ZhbGlkfSBTZXR0ZXI9e3NldE5ld0N1c3RvbWVyfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQ8U3lzdGVtQ2VudGVyLkN1c3RvbWVyPiBSZWNvcmQ9e25ld0N1c3RvbWVyfSBGaWVsZD17J1Bob25lJ30gRmVlZGJhY2s9eydQaG9uZSBtdXN0IGJlIGxlc3MgdGhhbiAyMCBjaGFyYWN0ZXJzLid9IFZhbGlkPXt2YWxpZH0gU2V0dGVyPXtzZXROZXdDdXN0b21lcn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRBcmVhPFN5c3RlbUNlbnRlci5DdXN0b21lcj4gUm93cz17M30gUmVjb3JkPXtuZXdDdXN0b21lcn0gRmllbGQ9eydEZXNjcmlwdGlvbid9IEZlZWRiYWNrPXsnRGVzY3JpcHRpb24gbXVzdCBiZSBsZXNzIHRoYW4gMjAwIGNoYXJhY3RlcnMuJ30gVmFsaWQ9e3ZhbGlkfSBTZXR0ZXI9e3NldE5ld0N1c3RvbWVyfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCIgb25DbGljaz17YWRkTmV3Q3VzdG9tZXJ9PlNhdmU8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGFuZ2VyXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5DbG9zZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCeUN1c3RvbWVyO1xyXG5cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8vICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuLy8gIGluZGV4LnRzeCAtIEdidGNcclxuLy9cclxuLy8gIENvcHlyaWdodCDCqSAyMDE4LCBHcmlkIFByb3RlY3Rpb24gQWxsaWFuY2UuICBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4vL1xyXG4vLyAgTGljZW5zZWQgdG8gdGhlIEdyaWQgUHJvdGVjdGlvbiBBbGxpYW5jZSAoR1BBKSB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuIFNlZVxyXG4vLyAgdGhlIE5PVElDRSBmaWxlIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLlxyXG4vLyAgVGhlIEdQQSBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgdGhlIFwiTGljZW5zZVwiOyB5b3UgbWF5IG5vdCB1c2UgdGhpc1xyXG4vLyAgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XHJcbi8vXHJcbi8vICAgICAgaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxyXG4vL1xyXG4vLyAgVW5sZXNzIGFncmVlZCB0byBpbiB3cml0aW5nLCB0aGUgc3ViamVjdCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxyXG4vLyAgXCJBUy1JU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gUmVmZXIgdG8gdGhlXHJcbi8vICBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucy5cclxuLy9cclxuLy8gIENvZGUgTW9kaWZpY2F0aW9uIEhpc3Rvcnk6XHJcbi8vICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAwOC8wMi8yMDE4IC0gQmlsbHkgRXJuZXN0XHJcbi8vICAgICAgIEdlbmVyYXRlZCBvcmlnaW5hbCB2ZXJzaW9uIG9mIHNvdXJjZSBjb2RlLlxyXG4vLyAgMDIvMTIvMjAyMSAtIEMuIGxhY2tuZXJcclxuLy8gICAgICAgTW92ZWQgdGFibGUgdG8gc2VwZXJhdGUgRmlsZS5cclxuLy9cclxuLy8gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuU2VsZWN0VGFibGUgPSB2b2lkIDA7XHJcbnZhciBUYWJsZV8xID0gcmVxdWlyZShcIi4vVGFibGVcIik7XHJcbnZhciBTZWxlY3RUYWJsZV8xID0gcmVxdWlyZShcIi4vU2VsZWN0VGFibGVcIik7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNlbGVjdFRhYmxlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBTZWxlY3RUYWJsZV8xLlNlbGVjdFRhYmxlOyB9IH0pO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBUYWJsZV8xLmRlZmF1bHQ7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vLyAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbi8vICBUYWJsZS50c3ggLSBHYnRjXHJcbi8vXHJcbi8vICBDb3B5cmlnaHQgwqkgMjAxOCwgR3JpZCBQcm90ZWN0aW9uIEFsbGlhbmNlLiAgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuLy9cclxuLy8gIExpY2Vuc2VkIHRvIHRoZSBHcmlkIFByb3RlY3Rpb24gQWxsaWFuY2UgKEdQQSkgdW5kZXIgb25lIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiBTZWVcclxuLy8gIHRoZSBOT1RJQ0UgZmlsZSBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC5cclxuLy8gIFRoZSBHUEEgbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHRoZSBcIkxpY2Vuc2VcIjsgeW91IG1heSBub3QgdXNlIHRoaXNcclxuLy8gIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxyXG4vL1xyXG4vLyAgICAgIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcclxuLy9cclxuLy8gIFVubGVzcyBhZ3JlZWQgdG8gaW4gd3JpdGluZywgdGhlIHN1YmplY3Qgc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cclxuLy8gIFwiQVMtSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFJlZmVyIHRvIHRoZVxyXG4vLyAgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMuXHJcbi8vXHJcbi8vICBDb2RlIE1vZGlmaWNhdGlvbiBIaXN0b3J5OlxyXG4vLyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAgMDgvMDIvMjAxOCAtIEJpbGx5IEVybmVzdFxyXG4vLyAgICAgICBHZW5lcmF0ZWQgb3JpZ2luYWwgdmVyc2lvbiBvZiBzb3VyY2UgY29kZS5cclxuLy9cclxuLy8gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxyXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcclxudmFyIEFuZ2xlSWNvbiA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgc3R5bGU6IHsgd2lkdGg6IDEwLCBoZWlnaHQ6IDEwLCBtYXJnaW46IDMgfSwgY2xhc3NOYW1lOiAnZmEgZmEtYW5nbGUtJyArIChwcm9wcy5hc2NlbmRpbmcgPyAndXAnIDogJ2Rvd24nKSB9KSk7IH07XHJcbnZhciBUYWJsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhUYWJsZSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFRhYmxlKHByb3BzKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgVGFibGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcm93Q29tcG9uZW50cyA9IHRoaXMuZ2VuZXJhdGVSb3dzKCk7XHJcbiAgICAgICAgdmFyIGhlYWRlckNvbXBvbmVudHMgPSB0aGlzLmdlbmVyYXRlSGVhZGVycygpO1xyXG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInRhYmxlXCIsIHsgY2xhc3NOYW1lOiB0aGlzLnByb3BzLnRhYmxlQ2xhc3MgIT09IHVuZGVmaW5lZCA/IHRoaXMucHJvcHMudGFibGVDbGFzcyA6ICcnLCBzdHlsZTogdGhpcy5wcm9wcy50YWJsZVN0eWxlIH0sXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiLCB7IHN0eWxlOiB0aGlzLnByb3BzLnRoZWFkU3R5bGUgfSwgaGVhZGVyQ29tcG9uZW50cyksXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiLCB7IHN0eWxlOiB0aGlzLnByb3BzLnRib2R5U3R5bGUgfSwgcm93Q29tcG9uZW50cykpKTtcclxuICAgIH07XHJcbiAgICBUYWJsZS5wcm90b3R5cGUuZ2VuZXJhdGVIZWFkZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY29scy5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHZhciBjZWxscyA9IHRoaXMucHJvcHMuY29scy5tYXAoZnVuY3Rpb24gKGNvbERhdGEsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciBzdHlsZTtcclxuICAgICAgICAgICAgaWYgKGNvbERhdGEuaGVhZGVyU3R5bGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBjb2xEYXRhLmhlYWRlclN0eWxlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHN0eWxlID0ge307XHJcbiAgICAgICAgICAgIGlmIChzdHlsZS5jdXJzb3IgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgIHN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcclxuICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwidGhcIiwgeyBrZXk6IGluZGV4LCBzdHlsZTogc3R5bGUsIG9uQ2xpY2s6IGZ1bmN0aW9uIChlKSB7IHJldHVybiBfdGhpcy5oYW5kbGVTb3J0KHsgY29sOiBjb2xEYXRhLmtleSwgYXNjZW5kaW5nOiBfdGhpcy5wcm9wcy5hc2NlbmRpbmcgfSwgZSk7IH0gfSxcclxuICAgICAgICAgICAgICAgIGNvbERhdGEubGFiZWwsXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5zb3J0RmllbGQgPT09IGNvbERhdGEua2V5ID8gUmVhY3QuY3JlYXRlRWxlbWVudChBbmdsZUljb24sIHsgYXNjZW5kaW5nOiBfdGhpcy5wcm9wcy5hc2NlbmRpbmcgfSkgOiBudWxsKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0clwiLCBudWxsLCBjZWxscyk7XHJcbiAgICB9O1xyXG4gICAgVGFibGUucHJvdG90eXBlLmdlbmVyYXRlUm93cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmRhdGEubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5kYXRhLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgdmFyIGNlbGxzID0gX3RoaXMucHJvcHMuY29scy5tYXAoZnVuY3Rpb24gKGNvbERhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjc3M7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sRGF0YS5yb3dTdHlsZSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIGNzcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGNzcyA9IF9fYXNzaWduKHt9LCBjb2xEYXRhLnJvd1N0eWxlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIHsga2V5OiBpbmRleC50b1N0cmluZygpICsgKGNvbERhdGEua2V5ID09PSBudWxsID8gJycgOiBpdGVtW2NvbERhdGEua2V5XSkgKyBjb2xEYXRhLmtleSwgc3R5bGU6IGNzcywgb25DbGljazogX3RoaXMuaGFuZGxlQ2xpY2suYmluZChfdGhpcywgeyBjb2w6IGNvbERhdGEua2V5LCByb3c6IGl0ZW0sIGRhdGE6IChjb2xEYXRhLmtleSA9PT0gbnVsbCA/IG51bGwgOiBpdGVtW2NvbERhdGEua2V5XSksIGluZGV4OiBpbmRleCB9KSB9LCBjb2xEYXRhLmNvbnRlbnQgIT09IHVuZGVmaW5lZCA/IGNvbERhdGEuY29udGVudChpdGVtLCBjb2xEYXRhLmtleSwgY3NzLCBpbmRleCkgOiAoY29sRGF0YS5rZXkgPT09IG51bGwgPyBudWxsIDogaXRlbVtjb2xEYXRhLmtleV0pKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgc3R5bGU7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5yb3dTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IF9fYXNzaWduKHt9LCBfdGhpcy5wcm9wcy5yb3dTdHlsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSB7fTtcclxuICAgICAgICAgICAgaWYgKHN0eWxlLmN1cnNvciA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuc2VsZWN0ZWQgIT09IHVuZGVmaW5lZCAmJiBfdGhpcy5wcm9wcy5zZWxlY3RlZChpdGVtKSlcclxuICAgICAgICAgICAgICAgIHN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd5ZWxsb3cnO1xyXG4gICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0clwiLCB7IHN0eWxlOiBzdHlsZSwga2V5OiBpbmRleC50b1N0cmluZygpIH0sIGNlbGxzKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgVGFibGUucHJvdG90eXBlLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGRhdGEsIGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNsaWNrKGRhdGEsIGV2ZW50KTtcclxuICAgIH07XHJcbiAgICBUYWJsZS5wcm90b3R5cGUuaGFuZGxlU29ydCA9IGZ1bmN0aW9uIChkYXRhLCBldmVudCkge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25Tb3J0KGRhdGEpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBUYWJsZTtcclxufShSZWFjdC5Db21wb25lbnQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gVGFibGU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuLy8gIFNlbGVjdFRhYmxlLnRzeCAtIEdidGNcclxuLy9cclxuLy8gIENvcHlyaWdodCDCqSAyMDIxLCBHcmlkIFByb3RlY3Rpb24gQWxsaWFuY2UuICBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4vL1xyXG4vLyAgTGljZW5zZWQgdG8gdGhlIEdyaWQgUHJvdGVjdGlvbiBBbGxpYW5jZSAoR1BBKSB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuIFNlZVxyXG4vLyAgdGhlIE5PVElDRSBmaWxlIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLlxyXG4vLyAgVGhlIEdQQSBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgdGhlIFwiTGljZW5zZVwiOyB5b3UgbWF5IG5vdCB1c2UgdGhpc1xyXG4vLyAgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XHJcbi8vXHJcbi8vICAgICAgaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxyXG4vL1xyXG4vLyAgVW5sZXNzIGFncmVlZCB0byBpbiB3cml0aW5nLCB0aGUgc3ViamVjdCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxyXG4vLyAgXCJBUy1JU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gUmVmZXIgdG8gdGhlXHJcbi8vICBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucy5cclxuLy9cclxuLy8gIENvZGUgTW9kaWZpY2F0aW9uIEhpc3Rvcnk6XHJcbi8vICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAwMS8yMi8yMDIxIC0gQy4gTGFja25lclxyXG4vLyAgICAgICBHZW5lcmF0ZWQgb3JpZ2luYWwgdmVyc2lvbiBvZiBzb3VyY2UgY29kZS5cclxuLy9cclxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcclxudmFyIF9fc3ByZWFkQXJyYXlzID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5cykgfHwgZnVuY3Rpb24gKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5TZWxlY3RUYWJsZSA9IHZvaWQgMDtcclxudmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xyXG52YXIgXyA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7XHJcbnZhciBUYWJsZV8xID0gcmVxdWlyZShcIi4vVGFibGVcIik7XHJcbmZ1bmN0aW9uIFNlbGVjdFRhYmxlKHByb3BzKSB7XHJcbiAgICB2YXIgZGlkTW91bnRSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xyXG4gICAgdmFyIF9hID0gUmVhY3QudXNlU3RhdGUocHJvcHMuZGF0YSksIGRhdGEgPSBfYVswXSwgc2V0RGF0YSA9IF9hWzFdO1xyXG4gICAgdmFyIF9iID0gUmVhY3QudXNlU3RhdGUoW10pLCBzZWxlY3RlZCA9IF9iWzBdLCBzZXRTZWxlY3RlZCA9IF9iWzFdO1xyXG4gICAgdmFyIF9jID0gUmVhY3QudXNlU3RhdGUocHJvcHMuc29ydEZpZWxkKSwgc29ydEZpZWxkID0gX2NbMF0sIHNldFNvcnRGaWVsZCA9IF9jWzFdO1xyXG4gICAgdmFyIF9kID0gUmVhY3QudXNlU3RhdGUocHJvcHMuYXNjZW5kaW5nKSwgYXNjZW5kaW5nID0gX2RbMF0sIHNldEFzY2VuZGluZyA9IF9kWzFdO1xyXG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoZGlkTW91bnRSZWYuY3VycmVudClcclxuICAgICAgICAgICAgc2VsZWN0QWxsKCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBkaWRNb3VudFJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgIH0sIFtwcm9wcy5zZWxlY3RBbGxDb3VudGVyXSk7XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChwcm9wcy5kYXRhLmxlbmd0aCAhPT0gZGF0YS5sZW5ndGgpXHJcbiAgICAgICAgICAgIHNldERhdGEocHJvcHMuZGF0YSk7XHJcbiAgICB9LCBbcHJvcHMuZGF0YV0pO1xyXG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZXRTZWxlY3RlZChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5maWx0ZXIoZnVuY3Rpb24gKGtleUl0ZW0pIHsgcmV0dXJuIGRhdGEuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtW3Byb3BzLktleUZpZWxkXSA9PT0ga2V5SXRlbTsgfSkgPiAtMTsgfSk7IH0pO1xyXG4gICAgfSwgW2RhdGFdKTtcclxuICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2V0RGF0YShmdW5jdGlvbiAobHN0KSB7IHJldHVybiAoXy5vcmRlckJ5KGxzdCwgW3NvcnRGaWVsZF0sIFsoYXNjZW5kaW5nID8gXCJhc2NcIiA6IFwiZGVzY1wiKV0pKTsgfSk7XHJcbiAgICB9LCBbYXNjZW5kaW5nLCBzb3J0RmllbGRdKTtcclxuICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcHJvcHMub25TZWxlY3Rpb24oZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIHNlbGVjdGVkLmZpbmRJbmRleChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBrZXkgPT09IGl0ZW1bcHJvcHMuS2V5RmllbGRdOyB9KSA+IC0xOyB9KSk7XHJcbiAgICB9LCBbc2VsZWN0ZWRdKTtcclxuICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGQsIGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHNJbmRleCA9IHNlbGVjdGVkLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbSA9PT0gZC5yb3dbcHJvcHMuS2V5RmllbGRdOyB9KTtcclxuICAgICAgICBpZiAoc0luZGV4ID09PSAtMSlcclxuICAgICAgICAgICAgc2V0U2VsZWN0ZWQoZnVuY3Rpb24gKG9kKSB7IHJldHVybiBfX3NwcmVhZEFycmF5cyhvZCwgW2Qucm93W3Byb3BzLktleUZpZWxkXV0pOyB9KTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHNldFNlbGVjdGVkKGZ1bmN0aW9uIChvZCkgeyByZXR1cm4gb2QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtICE9PSBkLnJvd1twcm9wcy5LZXlGaWVsZF07IH0pOyB9KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHNlbGVjdEFsbCgpIHtcclxuICAgICAgICBzZXRTZWxlY3RlZChmdW5jdGlvbiAoZCkgeyBpZiAoZC5sZW5ndGggPT09IGRhdGEubGVuZ3RoKVxyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gZGF0YS5tYXAoZnVuY3Rpb24gKHJvdykgeyByZXR1cm4gcm93W3Byb3BzLktleUZpZWxkXTsgfSk7IH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaGFuZGxlU29ydChkKSB7XHJcbiAgICAgICAgaWYgKGQuY29sID09PSBzb3J0RmllbGQpXHJcbiAgICAgICAgICAgIHNldEFzY2VuZGluZyghYXNjZW5kaW5nKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHNldFNvcnRGaWVsZChkLmNvbCk7XHJcbiAgICB9XHJcbiAgICB2YXIgdGFibGVQcm9wcyA9IHtcclxuICAgICAgICBjb2xzOiBfX3NwcmVhZEFycmF5cyhbXHJcbiAgICAgICAgICAgIHsga2V5OiBwcm9wcy5LZXlGaWVsZCwgbGFiZWw6ICcnLCBoZWFkZXJTdHlsZTogeyB3aWR0aDogJzRlbScgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICc0ZW0nIH0sIGNvbnRlbnQ6IGZ1bmN0aW9uIChpdGVtLCBrZXksIHN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gc2VsZWN0ZWQuZmluZEluZGV4KGZ1bmN0aW9uIChpKSB7IHJldHVybiBpID09PSBpdGVtW3Byb3BzLktleUZpZWxkXTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHsgbWFyZ2luVG9wOiAnMTZweCcsIHRleHRBbGlnbjogJ2NlbnRlcicgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImlcIiwgeyBjbGFzc05hbWU6IFwiZmEgZmEtY2hlY2stc3F1YXJlLW8gZmEtM3hcIiwgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIiB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9IH1cclxuICAgICAgICBdLCBwcm9wcy5jb2xzKSxcclxuICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLFxyXG4gICAgICAgIHNvcnRGaWVsZDogc29ydEZpZWxkLFxyXG4gICAgICAgIGFzY2VuZGluZzogYXNjZW5kaW5nLFxyXG4gICAgICAgIG9uU29ydDogaGFuZGxlU29ydCxcclxuICAgICAgICB0YWJsZUNsYXNzOiBwcm9wcy50YWJsZUNsYXNzLFxyXG4gICAgICAgIHRhYmxlU3R5bGU6IHByb3BzLnRhYmxlU3R5bGUsXHJcbiAgICAgICAgdGhlYWRTdHlsZTogcHJvcHMudGhlYWRTdHlsZSxcclxuICAgICAgICB0aGVhZENsYXNzOiBwcm9wcy50aGVhZENsYXNzLFxyXG4gICAgICAgIHRib2R5U3R5bGU6IHByb3BzLnRib2R5U3R5bGUsXHJcbiAgICAgICAgdGJvZHlDbGFzczogcHJvcHMudGJvZHlDbGFzcyxcclxuICAgICAgICBzZWxlY3RlZDogZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGZhbHNlOyB9LFxyXG4gICAgICAgIHJvd1N0eWxlOiBwcm9wcy5yb3dTdHlsZVxyXG4gICAgfTtcclxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlXzEuZGVmYXVsdCwgX19hc3NpZ24oe30sIHRhYmxlUHJvcHMpKTtcclxufVxyXG5leHBvcnRzLlNlbGVjdFRhYmxlID0gU2VsZWN0VGFibGU7XHJcbiIsIi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbi8vICBTZWFyY2hGaWVsZHMudHN4IC0gR2J0Y1xyXG4vL1xyXG4vLyAgQ29weXJpZ2h0IMKpIDIwMjEsIEdyaWQgUHJvdGVjdGlvbiBBbGxpYW5jZS4gIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbi8vXHJcbi8vICBMaWNlbnNlZCB0byB0aGUgR3JpZCBQcm90ZWN0aW9uIEFsbGlhbmNlIChHUEEpIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlXHJcbi8vICB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuXHJcbi8vICBUaGUgR1BBIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCB0aGUgXCJMaWNlbnNlXCI7IHlvdSBtYXkgbm90IHVzZSB0aGlzXHJcbi8vICBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcclxuLy9cclxuLy8gICAgICBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXHJcbi8vXHJcbi8vICBVbmxlc3MgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHRoZSBzdWJqZWN0IHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXHJcbi8vICBcIkFTLUlTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBSZWZlciB0byB0aGVcclxuLy8gIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zLlxyXG4vL1xyXG4vLyAgQ29kZSBNb2RpZmljYXRpb24gSGlzdG9yeTpcclxuLy8gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gIDA0LzE1LzIwMjEgLSBDLiBMYWNrbmVyXHJcbi8vICAgICAgIEdlbmVyYXRlZCBvcmlnaW5hbCB2ZXJzaW9uIG9mIHNvdXJjZSBjb2RlLlxyXG4vL1xyXG4vLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5pbXBvcnQge1N5c3RlbUNlbnRlciwgT3BlblhEQSB9IGZyb20gJy4uL2dsb2JhbCc7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIFNlYXJjaEZpZWxkcyB7XHJcbiAgICBleHBvcnQgY29uc3QgQ3VzdG9tZXIgPSBbXHJcbiAgICAgICAgeyBsYWJlbDogJ0FjY291bnQgTmFtZScsIGtleTogJ0N1c3RvbWVyS2V5JywgdHlwZTogJ3N0cmluZycgfSxcclxuICAgICAgICB7IGxhYmVsOiAnTmFtZScsIGtleTogJ05hbWUnLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgICAgIHsgbGFiZWw6ICdQaG9uZScsIGtleTogJ1Bob25lJywgdHlwZTogJ3N0cmluZycgfSxcclxuICAgICAgICB7IGxhYmVsOiAnRGVzY3JpcHRpb24nLCBrZXk6ICdEZXNjcmlwdGlvbicsIHR5cGU6ICdzdHJpbmcnIH0sXHJcbiAgICAgICAgeyBsYWJlbDogJ1BRVmlldyBTaXRlIE5hbWUnLCBrZXk6ICdQUVZpZXdTaXRlJywgdHlwZTogJ3N0cmluZycgfSxcclxuICAgICAgICB7IGxhYmVsOiAnTnVtYmVyIG9mIEFzc2lnbmVkIE1ldGVycycsIGtleTogJ01ldGVycycsIHR5cGU6ICdpbnRlZ2VyJyB9LFxyXG4gICAgXTtcclxuXHJcbiAgICBleHBvcnQgY29uc3QgQ29tcGFueSA9IFtcclxuICAgICAgICB7IGxhYmVsOiAnTmFtZScsIGtleTogJ05hbWUnLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgICAgIHsgbGFiZWw6ICdDb21wYW55SUQnLCBrZXk6ICdDb21wYW55SUQnLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgICAgIHsgbGFiZWw6ICdEZXNjcmlwdGlvbicsIGtleTogJ0Rlc2NyaXB0aW9uJywgdHlwZTogJ3N0cmluZycgfSxcclxuICAgICAgICB7IGxhYmVsOiAnQ29tcGFueSBUeXBlJywga2V5OiAnQ29tcGFueVR5cGVJRCcsIHR5cGU6ICdlbnVtJyB9LFxyXG4gICAgXTtcclxuXHJcbiAgICBleHBvcnQgY29uc3QgVXNlckFjY291bnQgPSBbXHJcbiAgICAgICAgeyBsYWJlbDogJ0ZpcnN0IE5hbWUnLCBrZXk6ICdVc2VyQWNjb3VudC5GaXJzdE5hbWUnLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgICAgIHsgbGFiZWw6ICdMYXN0IE5hbWUnLCBrZXk6ICdVc2VyQWNjb3VudC5MYXN0TmFtZScsIHR5cGU6ICdzdHJpbmcnIH0sXHJcbiAgICAgICAgeyBsYWJlbDogJ1Bob25lJywga2V5OiAnVXNlckFjY291bnQuUGhvbmUnLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgICAgIHsgbGFiZWw6ICdNb2JpbGUgUGhvbmUnLCBrZXk6ICdVc2VyQWNjb3VudC5Nb2JpbGVQaG9uZScsIHR5cGU6ICdzdHJpbmcnIH0sXHJcbiAgICAgICAgeyBsYWJlbDogJ0VtYWlsJywga2V5OiAnVXNlckFjY291bnQuRW1haWwnLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgICAgIHsgbGFiZWw6ICdUU0MnLCBrZXk6ICdVc2VyQWNjb3VudC5UU0MnLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgICAgIHsgbGFiZWw6ICdSb2xlJywga2V5OiAnUm9sZS5OYW1lJywgdHlwZTogJ3N0cmluZycgfSxcclxuICAgICAgICB7IGxhYmVsOiAnU2VjdXJpdHkgUm9sZScsIGtleTogJ0FwcGxpY2F0aW9uUm9sZS5OYW1lJywgdHlwZTogJ3N0cmluZycgfVxyXG4gICAgXTtcclxuXHJcbiAgICBleHBvcnQgY29uc3QgTG9jYXRpb24gPSBbXHJcbiAgICAgICAgeyBsYWJlbDogJ05hbWUnLCBrZXk6ICdOYW1lJywgdHlwZTogJ3N0cmluZycgfSxcclxuICAgICAgICB7IGxhYmVsOiAnS2V5Jywga2V5OiAnTG9jYXRpb25LZXknLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgICAgIHsgbGFiZWw6ICdBc3NldCcsIGtleTogJ0Fzc2V0JywgdHlwZTogJ3N0cmluZycgfSxcclxuICAgICAgICB7IGxhYmVsOiAnTWV0ZXInLCBrZXk6ICdNZXRlcicsIHR5cGU6ICdzdHJpbmcnIH0sXHJcbiAgICAgICAgeyBsYWJlbDogJ051bWJlciBvZiBBc3NldHMnLCBrZXk6ICdBc3NldHMnLCB0eXBlOiAnaW50ZWdlcicgfSxcclxuICAgICAgICB7IGxhYmVsOiAnTnVtYmVyIG9mIE1ldGVycycsIGtleTogJ01ldGVycycsIHR5cGU6ICdpbnRlZ2VyJyB9LFxyXG4gICAgXTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgRGVmYXVsdFNlYXJjaEZpZWxkIHtcclxuICAgIGV4cG9ydCBjb25zdCBDb21wYW55ID0geyBsYWJlbDogJ05hbWUnLCBrZXk6ICdOYW1lJywgdHlwZTogJ3N0cmluZycgfTtcclxuICAgIGV4cG9ydCBjb25zdCBDdXN0b21lciA9IHsgbGFiZWw6ICdBY2NvdW50IE5hbWUnLCBrZXk6ICdDdXN0b21lcktleScsIHR5cGU6ICdzdHJpbmcnIH07XHJcbiAgICBleHBvcnQgY29uc3QgVXNlckFjY291bnQgPSB7IGxhYmVsOiAnRmlyc3QgTmFtZScsIGtleTogJ1VzZXJBY2NvdW50LkZpcnN0TmFtZScsIHR5cGU6ICdzdHJpbmcnIH07XHJcbiAgICBleHBvcnQgY29uc3QgTG9jYXRpb24gPSB7IGxhYmVsOiAnTmFtZScsIGtleTogJ05hbWUnLCB0eXBlOiAnc3RyaW5nJyB9O1xyXG59XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIFRyYW5zZm9ybVNlYXJjaEZpZWxkcyB7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gQ29tcGFueShzZWFyY2gpIHtcclxuICAgICAgICByZXR1cm4gc2VhcmNoLm1hcChzID0+IHtcclxuICAgICAgICAgICAgaWYgKFNlYXJjaEZpZWxkcy5Db21wYW55LmZpbmRJbmRleChpdGVtID0+IGl0ZW0ua2V5ID09IHMuRmllbGROYW1lKSA9PSAtMSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnMsIGlzUGl2b3RDb2x1bW46IHRydWUgfTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHM7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gQ3VzdG9tZXIoc2VhcmNoKSB7XHJcbiAgICAgICAgY29uc3QgcHFWaWV3UXVlcnkgPSAnKFNFTEVDVCBDdXN0b21lci5JRCBGUk9NIFBRVmlld1NpdGUgTEVGVCBKT0lOIFtzeXN0ZW1DZW50ZXIuQ3VzdG9tZXJBY2Nlc3NdIE9OJyArXHJcbiAgICAgICAgICAgICdbc3lzdGVtQ2VudGVyLkN1c3RvbWVyQWNjZXNzXS5QUVZpZXdTaXRlSUQgPSBQUVZpZXdTaXRlLklEIExFRlQgSk9JTiBDdXN0b21lciBDIE9OIEMuSUQgPSBbc3lzdGVtQ2VudGVyLkN1c3RvbWVyQWNjZXNzXS5DdXN0b21lcklEIFdIRVJFICcgKyBcclxuICAgICAgICAnIFBRVmlld1NpdGUuTmFtZSAnXHJcblxyXG4gICAgICAgIGxldCBhZnYgPSBzZWFyY2gubWFwKHMgPT4ge1xyXG4gICAgICAgICAgICBpZiAocy5GaWVsZE5hbWUgPT0gJ1BRVmlld1NpdGUnKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGV4dDogc3RyaW5nID0gcy5TZWFyY2hUZXh0O1xyXG4gICAgICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9ICclJztcclxuICAgICAgICAgICAgICAgIHRleHQucmVwbGFjZSgnKicsICclJyk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gXCInXCIgKyB0ZXh0ICsgXCInXCI7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBGaWVsZE5hbWU6ICdJRCcsIFNlYXJjaFRleHQ6IHBxVmlld1F1ZXJ5ICsgcy5PcGVyYXRvciArIHRleHQgKyAnICknLCBPcGVyYXRvcjogJ0lOJywgVHlwZTogJ251bWJlcicsIGlzUGl2b3RDb2x1bW46IGZhbHNlIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChTZWFyY2hGaWVsZHMuQ3VzdG9tZXIuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5rZXkgPT0gcy5GaWVsZE5hbWUpID09IC0xKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ucywgaXNQaXZvdENvbHVtbjogdHJ1ZSB9O1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGFmdjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIExvY2F0aW9uKHNlYXJjaCkge1xyXG5cclxuICAgICAgICBjb25zdCBhc3NldFF1ZXJ5ID0gJyhTRUxFQ1QgQXNzZXRMb2NhdGlvbi5Mb2NhdGlvbklEIEZST00gQXNzZXQgTEVGVCBKT0lOIEFzc2V0TG9jYXRpb24gT04gJyArXHJcbiAgICAgICAgICAgICdBc3NldExvY2F0aW9uLkFzc2V0SUQgPSBBc3NldC5JRCBXSEVSRSAnICtcclxuICAgICAgICAgICAgJyBBc3NldC5Bc3NldE5hbWUgJ1xyXG5cclxuICAgICAgICBjb25zdCBtZXRlclF1ZXJ5ID0gJyhTRUxFQ1QgTWV0ZXIuTG9jYXRpb25JRCBGUk9NIE1ldGVyIFdIRVJFICcgK1xyXG4gICAgICAgICAgICAnIE1ldGVyLkFzc2V0S2V5ICdcclxuXHJcbiAgICAgICAgcmV0dXJuIHNlYXJjaC5tYXAocyA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzLkZpZWxkTmFtZSA9PSAnTWV0ZXInKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGV4dDogc3RyaW5nID0gcy5TZWFyY2hUZXh0O1xyXG4gICAgICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9ICclJztcclxuICAgICAgICAgICAgICAgIHRleHQucmVwbGFjZSgnKicsICclJyk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gXCIgJ1wiICsgdGV4dCArIFwiJ1wiO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgRmllbGROYW1lOiAnSUQnLCBTZWFyY2hUZXh0OiBtZXRlclF1ZXJ5ICsgcy5PcGVyYXRvciArIHRleHQgKyAnIG9yIE1ldGVyLk5hbWUgJyArIHMuT3BlcmF0b3IgKyB0ZXh0ICsgJyApJywgT3BlcmF0b3I6ICdJTicsIFR5cGU6ICdudW1iZXInLCBpc1Bpdm90Q29sdW1uOiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHMuRmllbGROYW1lID09ICdBc3NldCcpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0ZXh0OiBzdHJpbmcgPSBzLlNlYXJjaFRleHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gJyUnO1xyXG4gICAgICAgICAgICAgICAgdGV4dC5yZXBsYWNlKCcqJywgJyUnKTtcclxuICAgICAgICAgICAgICAgIHRleHQgPSBcIiAnXCIgKyB0ZXh0ICsgXCInXCI7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBGaWVsZE5hbWU6ICdJRCcsIFNlYXJjaFRleHQ6IGFzc2V0UXVlcnkgKyBzLk9wZXJhdG9yICsgdGV4dCArICcgb3IgQXNzZXQuQXNzZXRLZXkgJyArIHMuT3BlcmF0b3IgKyB0ZXh0ICsgJyApJywgT3BlcmF0b3I6ICdJTicsIFR5cGU6ICdudW1iZXInLCBpc1Bpdm90Q29sdW1uOiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKFNlYXJjaEZpZWxkcy5Mb2NhdGlvbi5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmtleSA9PSBzLkZpZWxkTmFtZSkgPT0gLTEpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5zLCBpc1Bpdm90Q29sdW1uOiB0cnVlIH07XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHJldHVybiBzO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9