(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{319:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(45),o=n(31),l=n(30),c=n(3),i=n(66),s=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},u=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l};t.default=function(e){Object(c.useHistory)();var t=window.innerWidth-250-30,n=.33*(window.innerHeight-75),h=50,d=t-h-20,y=n-20-20,f=p(a.useState([]),2),m=(f[0],f[1],p(a.useState([]),2)),g=(m[0],m[1],p(a.useState(30),2)),w=g[0],v=g[1],b=p(a.useState(null),2),S=(b[0],b[1],p(a.useState(null),2)),E=(S[0],S[1],p(a.useState("SystemCenter"),2)),k=E[0],x=E[1],j=p(a.useState([]),2),T=j[0],C=j[1],N=p(a.useState("Logins"),2),P=N[0],A=N[1],L=p(a.useState(!1),2),O=L[0],U=L[1];function $(e,t){return s(this,void 0,void 0,(function(){var n,a;return u(this,(function(r){switch(r.label){case 0:return[4,Object(i.a)("SystemCenter",e)];case 1:return n=r.sent(),[4,Object(i.a)("OpenXDA",e)];case 2:return a=r.sent(),function(e,t){var n=e.map((function(n,a){return Math.max(e[a].Count,t[a].Count)})),a=l.scaleTime().rangeRound([0,d]),r=l.scaleLinear().rangeRound([y-15,0]),o=l.line().x((function(e){return a(moment(e.Date))})).y((function(e){return r(e.Count)}));r.domain(l.extent(n,(function(e){return e}))),a.domain(l.extent(e,(function(e){return moment(e.Date)}))),l.select("#yaxis").call(l.axisLeft(r)).call((function(e){return e.select(".domain").remove()})),l.select("#xaxis").call(l.axisBottom(a)).call((function(e){return e.select(".domain").remove()})),l.select("#scapath").datum(e).attr("d",o),l.select("#xdapath").datum(t).attr("d",o)}(n,a),D(t),[2]}}))}))}function D(e){return s(this,void 0,void 0,(function(){var t,n;return u(this,(function(a){switch(a.label){case 0:return[4,Object(i.b)(e,w)];case 1:return t=a.sent(),n=o.orderBy(t,[P],[O?"asc":"desc"]),C(n),[2]}}))}))}return a.useEffect((function(){$(w,k)}),[]),e.Roles.indexOf("Administrator")<0?null:a.createElement("div",{style:{width:"100%",height:"100%",padding:"10px 10px 10px 20px"}},a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("h2",null,"User Statistics")),a.createElement("div",{className:"col"},a.createElement("select",{className:"form-control",value:w,onChange:function(e){v(parseInt(e.target.value)),$(parseInt(e.target.value),k)}},a.createElement("option",{value:"30"},"Last 30 days"),a.createElement("option",{value:"60"},"Last 60 days"),a.createElement("option",{value:"90"},"Last 90 days"),a.createElement("option",{value:"180"},"Last 180 days"),a.createElement("option",{value:"365"},"Last 365 days")))),a.createElement("hr",null),a.createElement("div",{style:{width:"100%",height:"calc( 100%)"}},a.createElement("svg",{width:t,height:n,style:{border:"1px solid lightgray"}},a.createElement("g",{id:"xaxis",transform:"translate("+(h-20)+","+(y+10)+")"}),a.createElement("g",{id:"yaxis",transform:"translate("+(h-20)+",25)"}),a.createElement("g",{transform:"translate("+(h-20)+",25)"},a.createElement("path",{id:"scapath",fill:"none",strokeLinejoin:"round",strokeWidth:"1.5",stroke:"steelblue"}),a.createElement("path",{id:"xdapath",fill:"none",strokeLinejoin:"round",strokeWidth:"1.5",stroke:"red"}))),a.createElement("div",{style:{width:"100%",height:"calc(100% - "+n+"px)"}},a.createElement("ul",{className:"nav nav-tabs"},a.createElement("li",{className:"nav-item"},a.createElement("a",{className:"nav-link"+("SystemCenter"==k?" active":""),onClick:function(){x("SystemCenter"),D("SystemCenter")}},a.createElement("svg",{width:"20",height:"20"},a.createElement("rect",{width:"20",height:"20",fill:"steelblue",strokeWidth:"3",stroke:"rgb(0,0,0)"})),a.createElement("span",{style:{marginLeft:10}},"System Center"))),a.createElement("li",{className:"nav-item"},a.createElement("a",{className:"nav-link"+("OpenXDA"==k?" active":""),onClick:function(){x("OpenXDA"),D("OpenXDA")}},a.createElement("svg",{width:"20",height:"20"},a.createElement("rect",{width:"20",height:"20",fill:"red",strokeWidth:"3",stroke:"rgb(0,0,0)"})),a.createElement("span",{style:{marginLeft:10}},"OpenXDA")))),a.createElement("div",{className:"tab-content",style:{maxHeight:window.innerHeight-235,overflow:"hidden"}},a.createElement("div",{className:"tab-pane  active"},a.createElement(r.a,{cols:[{key:"UserName",label:"User",headerStyle:{width:"10%"},rowStyle:{width:"10%"}},{key:"Logins",label:"Logins for Period",headerStyle:{width:"10%"},rowStyle:{width:"10%"}},{key:"LastAccess",label:"Last Access Time ",headerStyle:{width:"auto"},rowStyle:{width:"auto"}}],tableClass:"table table-hover",data:T,sortField:P,ascending:O,onSort:function(e){if(e.col==P){var t=o.orderBy(T,[e.col],[O?"desc":"asc"]);C(t)}else{t=o.orderBy(T,[e.col],["asc"]);C(t),A(e.col)}U(!O)},onClick:function(){},theadStyle:{fontSize:"smaller",display:"table",tableLayout:"fixed",width:"100%"},tbodyStyle:{display:"block",overflowY:"scroll",maxHeight:window.innerHeight-300,width:"100%"},rowStyle:{fontSize:"smaller",display:"table",tableLayout:"fixed",width:"100%"},selected:function(e){return!1}}))))))}},45:function(e,t,n){"use strict";var a,r=n(0),o=n(31),l=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){return r.createElement("span",{style:{width:10,height:10,margin:3},className:"fa fa-angle-"+(e.ascending?"up":"down")})},i=function(e){function t(t){return e.call(this,t)||this}return l(t,e),t.prototype.componentDidUpdate=function(e,t){},t.prototype.render=function(){var e=this.generateRows(),t=this.generateHeaders();return r.createElement("table",{className:null!=this.props.tableClass?this.props.tableClass:"",style:this.props.tableStyle},r.createElement("thead",{style:this.props.theadStyle},t),r.createElement("tbody",{style:this.props.tbodyStyle},e))},t.prototype.generateHeaders=function(){var e=this;if(0==this.props.cols.length)return null;var t=this.props.cols.map((function(t,n){var a;return null==(a=null!=t.headerStyle?t.headerStyle:{}).cursor&&(a.cursor="pointer"),r.createElement("th",{key:n,style:a,onClick:function(n){return e.handleSort({col:t.key,ascending:e.props.ascending},n)}},t.label,e.props.sortField==t.key?r.createElement(c,{ascending:e.props.ascending}):null)}));return r.createElement("tr",null,t)},t.prototype.generateRows=function(){var e=this;return 0==this.props.data.length?null:this.props.data.map((function(t,n){var a,l=e.props.cols.map((function(a){var l=o.clone(a.rowStyle);return r.createElement("td",{key:n.toString()+t[a.key]+a.key,style:l,onClick:e.handleClick.bind(e,{col:a.key,row:t,data:t[a.key]})},null!=a.content?a.content(t,a.key,l):t[a.key])}));return null==(a=null!=e.props.rowStyle?o.clone(e.props.rowStyle):{}).cursor&&(a.cursor="pointer"),e.props.selected(t)&&(a.backgroundColor="yellow"),r.createElement("tr",{style:a,key:n.toString()},l)}))},t.prototype.handleClick=function(e,t){this.props.onClick(e,t)},t.prototype.handleSort=function(e,t){this.props.onSort(e)},t}(r.Component);t.a=i},66:function(e,t,n){"use strict";function a(e){return $.ajax({type:"POST",url:homePath+"api/SystemCenter/UserAccount/SID",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(e),cache:!1,async:!0})}function r(e){return $.ajax({type:"POST",url:homePath+"api/SystemCenter/UserAccount/IsUser",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(e),cache:!1,async:!0})}function o(e){return $.ajax({type:"POST",url:homePath+"api/SystemCenter/UserAccount/FilledUserAccount",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(e),cache:!1,async:!0})}function l(){return $.ajax({type:"GET",url:homePath+"api/SystemCenter/Role",contentType:"application/json; charset=utf-8",dataType:"json",cache:!0,async:!0})}function c(e){return $.ajax({type:"GET",url:homePath+"api/"+e+"/ApplicationRole",contentType:"application/json; charset=utf-8",dataType:"json",cache:!0,async:!0})}function i(e,t){return $.ajax({type:"PATCH",url:homePath+"api/"+e+"/ApplicationRoleUserAccount/UpdateArray",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(t),cache:!0,async:!0})}function s(e,t){return $.ajax({type:"GET",url:homePath+"api/"+t+"/ApplicationRoleUserAccount/"+e,contentType:"application/json; charset=utf-8",dataType:"json",cache:!0,async:!0})}function u(){return $.ajax({type:"GET",url:homePath+"api/SystemCenter/TSC",contentType:"application/json; charset=utf-8",dataType:"json",cache:!0,async:!0})}function p(e,t){return"AccountName"==t||"Name"==t?null!=e.Name&&e.Name.length>0&&e.Name.length<=200:"Password"==t?null==e.Password||e.Password.length<=200:"FirstName"==t?null==e.FirstName||e.FirstName.length<=200:"LastName"==t?null==e.LastName||e.LastName.length<=200:"Phone"==t?null==e.Phone||e.Phone.length<=200:"Email"==t?null==e.Email||e.Email.length<=200:"Title"==t?null==e.Title||e.Title.length<=200:"MobilePhone"==t&&(null==e.MobilePhone||e.MobilePhone.length<=200)}function h(e,t){return $.ajax({type:"GET",url:homePath+"api/"+e+"/AccessLog/Aggregates/"+t,contentType:"application/json; charset=utf-8",dataType:"json",cache:!1,async:!0})}function d(e,t){return $.ajax({type:"GET",url:homePath+"api/"+e+"/AccessLog/Table/"+t,contentType:"application/json; charset=utf-8",dataType:"json",cache:!1,async:!0})}n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"j",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"k",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return d}))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9UU1gvU3lzdGVtQ2VudGVyL1VzZXJTdGF0aXN0aWNzL1VzZXJTdGF0aXN0aWNzLnRzeCIsIndlYnBhY2s6Ly8vLi9UU1gvU3lzdGVtQ2VudGVyL0NvbW1vbkNvbXBvbmVudHMvVGFibGUudHN4Iiwid2VicGFjazovLy8uL1RTL1NlcnZpY2VzL1VzZXIudHMiXSwibmFtZXMiOlsicHJvcHMiLCJzdmdXaWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJzdmdIZWlnaHQiLCJpbm5lckhlaWdodCIsIm1hcmdpbiIsIndpZHRoIiwiaGVpZ2h0IiwiZGF5cyIsInNldERheXMiLCJ0YWIiLCJzZXRUYWIiLCJ0YWJsZURhdGEiLCJzZXRUYWJsZURhdGEiLCJzb3J0RmllbGQiLCJzZXRTb3J0RmllbGQiLCJhc2NlbmRpbmciLCJzZXRBc2NlbmRpbmciLCJHZXREYXRhIiwiZCIsInQiLCJzY2EiLCJ4ZGFhIiwibWF4Q291bnRzIiwibWFwIiwidmFsdWUiLCJpbmRleCIsIk1hdGgiLCJtYXgiLCJDb3VudCIsIngiLCJyYW5nZVJvdW5kIiwieSIsImxpbmUiLCJtb21lbnQiLCJEYXRlIiwiZG9tYWluIiwiY2FsbCIsImciLCJzZWxlY3QiLCJyZW1vdmUiLCJkYXR1bSIsImF0dHIiLCJEcmF3Q2hhcnQiLCJHZXRUYWJsZURhdGEiLCJkYiIsInRhYmxlIiwib3JkZXJlZCIsIlJvbGVzIiwiaW5kZXhPZiIsInN0eWxlIiwicGFkZGluZyIsImNsYXNzTmFtZSIsIm9uQ2hhbmdlIiwiZSIsInBhcnNlSW50IiwidGFyZ2V0IiwiYm9yZGVyIiwiaWQiLCJ0cmFuc2Zvcm0iLCJmaWxsIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsInN0cm9rZSIsIm9uQ2xpY2siLCJtYXJnaW5MZWZ0IiwibWF4SGVpZ2h0Iiwib3ZlcmZsb3ciLCJjb2xzIiwia2V5IiwibGFiZWwiLCJoZWFkZXJTdHlsZSIsInJvd1N0eWxlIiwidGFibGVDbGFzcyIsImRhdGEiLCJvblNvcnQiLCJjb2wiLCJ0aGVhZFN0eWxlIiwiZm9udFNpemUiLCJkaXNwbGF5IiwidGFibGVMYXlvdXQiLCJ0Ym9keVN0eWxlIiwib3ZlcmZsb3dZIiwic2VsZWN0ZWQiLCJpdGVtIiwiQW5nbGVJY29uIiwiY29tcG9uZW50RGlkVXBkYXRlIiwicHJldlByb3BzIiwicHJldlN0YXRlIiwicmVuZGVyIiwicm93Q29tcG9uZW50cyIsInRoaXMiLCJnZW5lcmF0ZVJvd3MiLCJoZWFkZXJDb21wb25lbnRzIiwiZ2VuZXJhdGVIZWFkZXJzIiwidW5kZWZpbmVkIiwidGFibGVTdHlsZSIsImxlbmd0aCIsImNlbGxzIiwiY29sRGF0YSIsImN1cnNvciIsImhhbmRsZVNvcnQiLCJ0b1N0cmluZyIsImhhbmRsZUNsaWNrIiwiYmluZCIsInJvdyIsImNvbnRlbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJldmVudCIsImdldFNJREZyb21Vc2VyTmFtZSIsImFjY291bnROYW1lIiwiJCIsImFqYXgiLCJ0eXBlIiwidXJsIiwiaG9tZVBhdGgiLCJjb250ZW50VHlwZSIsImRhdGFUeXBlIiwiSlNPTiIsInN0cmluZ2lmeSIsImNhY2hlIiwiYXN5bmMiLCJnZXRJc1VzZXIiLCJzaWQiLCJnZXRGaWxsZWRVc2VyIiwidXNlckFjY291bnQiLCJnZXRSb2xlcyIsImdldFNlY3VyaXR5Um9sZXMiLCJhcHBsaWNhdGlvbk5hbWUiLCJ1cGRhdGVTZWN1cml0eVJvbGVzRm9yVXNlciIsImdldFNlY3VyaXR5Um9sZXNGb3JVc2VyIiwiZ2V0VFNDcyIsInZhbGlkVXNlckFjY291bnRGaWVsZCIsInVzZXIiLCJmaWVsZCIsIk5hbWUiLCJQYXNzd29yZCIsIkZpcnN0TmFtZSIsIkxhc3ROYW1lIiwiUGhvbmUiLCJFbWFpbCIsIlRpdGxlIiwiTW9iaWxlUGhvbmUiLCJHZXRBY2Nlc3NMb2dBZ2dyZWdhdGVzIiwiZGF0YWJhc2UiLCJHZXRBY2Nlc3NMb2dUYWJsZSJdLCJtYXBwaW5ncyI6IjJGQUFBLHlELHVtREFrTWUsVUF2SmtDLFNB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RUFEb0IsTUFBYkQsRUFBS0UsTUFBZ0JGLEVBQUtFLEtBQUt0QyxPQUFTLEdBQUtvQyxFQUFLRSxLQUFLdEMsUUFBVSxJQUcxRCxZQUFUcUMsRUFDbUIsTUFBakJELEVBQUtHLFVBQW9CSCxFQUFLRyxTQUFTdkMsUUFBVSxJQUMxQyxhQUFUcUMsRUFDb0IsTUFBbEJELEVBQUtJLFdBQXFCSixFQUFLSSxVQUFVeEMsUUFBVSxJQUM1QyxZQUFUcUMsRUFDbUIsTUFBakJELEVBQUtLLFVBQW9CTCxFQUFLSyxTQUFTekMsUUFBVSxJQUMxQyxTQUFUcUMsRUFDZ0IsTUFBZEQsRUFBS00sT0FBaUJOLEVBQUtNLE1BQU0xQyxRQUFVLElBQ3BDLFNBQVRxQyxFQUNnQixNQUFkRCxFQUFLTyxPQUFpQlAsRUFBS08sTUFBTTNDLFFBQVUsSUFDcEMsU0FBVHFDLEVBQ2dCLE1BQWRELEVBQUtRLE9BQWlCUixFQUFLUSxNQUFNNUMsUUFBVSxJQUNwQyxlQUFUcUMsSUFDc0IsTUFBcEJELEVBQUtTLGFBQXVCVCxFQUFLUyxZQUFZN0MsUUFBVSxLQU0vRCxTQUFTOEMsRUFBdUJDLEVBQTBDeEksR0FDN0UsT0FBT3VHLEVBQUVDLEtBQUssQ0FDVkMsS0FBTSxNQUNOQyxJQUFRQyxTQUFRLE9BQU82QixFQUFRLHlCQUF5QnhJLEVBQ3hENEcsWUFBYSxrQ0FDYkMsU0FBVSxPQUNWRyxPQUFPLEVBQ1BDLE9BQU8sSUFLUixTQUFTd0IsRUFBa0JELEVBQTBDeEksR0FDeEUsT0FBT3VHLEVBQUVDLEtBQUssQ0FDVkMsS0FBTSxNQUNOQyxJQUFRQyxTQUFRLE9BQU82QixFQUFRLG9CQUFvQnhJLEVBQ25ENEcsWUFBYSxrQ0FDYkMsU0FBVSxPQUNWRyxPQUFPLEVBQ1BDLE9BQU8sSUF0S2YiLCJmaWxlIjoiVXNlclN0YXRpc3RpY3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4vLyAgVXNlclN0YXRpc3RpY3MudHN4IC0gR2J0Y1xyXG4vL1xyXG4vLyAgQ29weXJpZ2h0IMKpIDIwMjAsIEdyaWQgUHJvdGVjdGlvbiBBbGxpYW5jZS4gIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbi8vXHJcbi8vICBMaWNlbnNlZCB0byB0aGUgR3JpZCBQcm90ZWN0aW9uIEFsbGlhbmNlIChHUEEpIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlXHJcbi8vICB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuXHJcbi8vICBUaGUgR1BBIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCB0aGUgXCJMaWNlbnNlXCI7IHlvdSBtYXkgbm90IHVzZSB0aGlzXHJcbi8vICBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcclxuLy9cclxuLy8gICAgICBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXHJcbi8vXHJcbi8vICBVbmxlc3MgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHRoZSBzdWJqZWN0IHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXHJcbi8vICBcIkFTLUlTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBSZWZlciB0byB0aGVcclxuLy8gIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zLlxyXG4vL1xyXG4vLyAgQ29kZSBNb2RpZmljYXRpb24gSGlzdG9yeTpcclxuLy8gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gIDAyLzA3LzIwMjAgLSBCaWxseSBFcm5lc3RcclxuLy8gICAgICAgR2VuZXJhdGVkIG9yaWdpbmFsIHZlcnNpb24gb2Ygc291cmNlIGNvZGUuXHJcbi8vXHJcbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBUYWJsZSBmcm9tICcuLi9Db21tb25Db21wb25lbnRzL1RhYmxlJztcclxuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xyXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XHJcbmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xyXG5pbXBvcnQgeyBTeXN0ZW1DZW50ZXIgfSBmcm9tICcuLi9nbG9iYWwnO1xyXG5pbXBvcnQgeyBHZXRBY2Nlc3NMb2dBZ2dyZWdhdGVzLCBHZXRBY2Nlc3NMb2dUYWJsZSwgfSBmcm9tICcuLy4uLy4uLy4uL1RTL1NlcnZpY2VzL1VzZXInO1xyXG5kZWNsYXJlIHZhciBob21lUGF0aDogc3RyaW5nO1xyXG5cclxuaW50ZXJmYWNlIEFnZ3JlZ2F0ZSB7XHJcbiAgICBEYXRlOiBzdHJpbmcsXHJcbiAgICBDb3VudDogbnVtYmVyXHJcbn1cclxuXHJcbmludGVyZmFjZSBBY2Nlc0xvZ1RhYmxlIHtcclxuICAgIFVzZXJOYW1lOiBzdHJpbmcsXHJcbiAgICBMb2dpbnM6IG51bWJlcixcclxuICAgIExhc3RBY2Nlc3M6IHN0cmluZ1xyXG59XHJcblxyXG5jb25zdCBVc2VyU3RhdGlzdGljczogU3lzdGVtQ2VudGVyLkJ5Q29tcG9uZW50ID0gKHByb3BzKSA9PiB7XHJcbiAgICBsZXQgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTtcclxuICAgIGxldCBzdmdXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gMjUwIC0gMzA7XHJcbiAgICBsZXQgc3ZnSGVpZ2h0ID0gKHdpbmRvdy5pbm5lckhlaWdodCAtIDc1KSAqIC4zMztcclxuICAgIGxldCBtYXJnaW4gPSB7IHRvcDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiAyMCwgbGVmdDogNTAgfTtcclxuICAgIGxldCB3aWR0aCA9IHN2Z1dpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XHJcbiAgICBsZXQgaGVpZ2h0ID0gc3ZnSGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XHJcbiAgICAvL2xldCBzdmcgPSBkMy5zZWxlY3QoJ3N2ZycpLmF0dHIoXCJ3aWR0aFwiLCBzdmdXaWR0aCkuYXR0cihcImhlaWdodFwiLCBzdmdIZWlnaHQpO1xyXG4gICAgXHJcbiAgICBjb25zdCBbc2NBZ2dyZWdhdGVzLCBzZXRTY0FnZ3JlZ2F0ZXNdID0gUmVhY3QudXNlU3RhdGU8QXJyYXk8QWdncmVnYXRlPj4oW10pO1xyXG4gICAgY29uc3QgW3hkYUFnZ3JlZ2F0ZXMsIHNldFhEQUFnZ3JlZ2F0ZXNdID0gUmVhY3QudXNlU3RhdGU8QXJyYXk8QWdncmVnYXRlPj4oW10pO1xyXG4gICAgY29uc3QgW2RheXMsIHNldERheXNdID0gUmVhY3QudXNlU3RhdGU8bnVtYmVyPigzMCk7XHJcbiAgICBjb25zdCBbeCwgc2V0WF0gPSBSZWFjdC51c2VTdGF0ZTxkMy5TY2FsZVRpbWU8bnVtYmVyLCBudW1iZXI+PihudWxsKTtcclxuICAgIGNvbnN0IFtZLCBzZXRZXSA9IFJlYWN0LnVzZVN0YXRlPGQzLlNjYWxlTGluZWFyPG51bWJlciwgbnVtYmVyPj4obnVsbCk7XHJcbiAgICBjb25zdCBbdGFiLCBzZXRUYWJdID0gUmVhY3QudXNlU3RhdGU8U3lzdGVtQ2VudGVyLkF0dGFjaGVkRGF0YWJhc2VzPignU3lzdGVtQ2VudGVyJyk7XHJcbiAgICBjb25zdCBbdGFibGVEYXRhLCBzZXRUYWJsZURhdGFdID0gUmVhY3QudXNlU3RhdGU8QXJyYXk8QWNjZXNMb2dUYWJsZT4+KFtdKTtcclxuICAgIGNvbnN0IFtzb3J0RmllbGQsIHNldFNvcnRGaWVsZF0gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmc+KCdMb2dpbnMnKTtcclxuICAgIGNvbnN0IFthc2NlbmRpbmcsIHNldEFzY2VuZGluZ10gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBHZXREYXRhKGRheXMsIHRhYik7XHJcbiAgICB9LCBbXSk7XHJcblxyXG4gICAgYXN5bmMgZnVuY3Rpb24gR2V0RGF0YShkOiBudW1iZXIsIHQ6IFN5c3RlbUNlbnRlci5BdHRhY2hlZERhdGFiYXNlcykge1xyXG4gICAgICAgIGxldCBzY2EgPSBhd2FpdCBHZXRBY2Nlc3NMb2dBZ2dyZWdhdGVzKFwiU3lzdGVtQ2VudGVyXCIsIGQpO1xyXG4gICAgICAgIGxldCB4ZGFhID0gYXdhaXQgR2V0QWNjZXNzTG9nQWdncmVnYXRlcyhcIk9wZW5YREFcIiwgZCk7XHJcbiAgICAgICAgRHJhd0NoYXJ0KHNjYSwgeGRhYSk7XHJcbiAgICAgICAgR2V0VGFibGVEYXRhKHQpXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZnVuY3Rpb24gR2V0VGFibGVEYXRhKGRiOiBTeXN0ZW1DZW50ZXIuQXR0YWNoZWREYXRhYmFzZXMgKSB7XHJcbiAgICAgICAgbGV0IHRhYmxlID0gYXdhaXQgR2V0QWNjZXNzTG9nVGFibGUoZGIsIGRheXMpO1xyXG4gICAgICAgIHZhciBvcmRlcmVkID0gXy5vcmRlckJ5KHRhYmxlLCBbc29ydEZpZWxkXSwgWyhhc2NlbmRpbmcgPyBcImFzY1wiIDogXCJkZXNjXCIpXSlcclxuICAgICAgICBzZXRUYWJsZURhdGEob3JkZXJlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gRHJhd0NoYXJ0KHNjYTogQXJyYXk8QWdncmVnYXRlPiwgeGRhYTogQXJyYXk8QWdncmVnYXRlPikge1xyXG4gICAgICAgIGxldCBtYXhDb3VudHMgPSBzY2EubWFwKCh2YWx1ZSwgaW5kZXgpID0+IE1hdGgubWF4KHNjYVtpbmRleF0uQ291bnQsIHhkYWFbaW5kZXhdLkNvdW50KSk7XHJcblxyXG4gICAgICAgIGxldCB4ID0gZDMuc2NhbGVUaW1lKCkucmFuZ2VSb3VuZChbMCwgd2lkdGhdKTtcclxuICAgICAgICBsZXQgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2VSb3VuZChbaGVpZ2h0IC0gMTUsIDBdKTtcclxuXHJcbiAgICAgICAgbGV0IGxpbmUgPSBkMy5saW5lPEFnZ3JlZ2F0ZT4oKS54KGQgPT4geChtb21lbnQoZC5EYXRlKSkpLnkoZCA9PiB5KGQuQ291bnQpKTtcclxuICAgICAgICB5LmRvbWFpbihkMy5leHRlbnQobWF4Q291bnRzLCBkID0+IGQpKTtcclxuICAgICAgICB4LmRvbWFpbihkMy5leHRlbnQoc2NhLCBkID0+IG1vbWVudChkLkRhdGUpKSk7XHJcbiAgICAgICAgZDMuc2VsZWN0KCcjeWF4aXMnKS5jYWxsKGQzLmF4aXNMZWZ0KHkpKS5jYWxsKGcgPT4gZy5zZWxlY3QoXCIuZG9tYWluXCIpLnJlbW92ZSgpKTtcclxuICAgICAgICBkMy5zZWxlY3QoJyN4YXhpcycpLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSkuY2FsbChnID0+IGcuc2VsZWN0KFwiLmRvbWFpblwiKS5yZW1vdmUoKSk7XHJcbiAgICAgICAgZDMuc2VsZWN0KCcjc2NhcGF0aCcpLmRhdHVtKHNjYSkuYXR0cignZCcsIGxpbmUpXHJcbiAgICAgICAgZDMuc2VsZWN0KCcjeGRhcGF0aCcpLmRhdHVtKHhkYWEpLmF0dHIoJ2QnLCBsaW5lKVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBpZiAocHJvcHMuUm9sZXMuaW5kZXhPZignQWRtaW5pc3RyYXRvcicpIDwgMCkgcmV0dXJuIG51bGw7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnMTAwJScsIHBhZGRpbmc6ICcxMHB4IDEwcHggMTBweCAyMHB4JyB9fT5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgyPlVzZXIgU3RhdGlzdGljczwvaDI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiB2YWx1ZT17ZGF5c30gb25DaGFuZ2U9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldERheXMocGFyc2VJbnQoZS50YXJnZXQudmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgR2V0RGF0YShwYXJzZUludChlLnRhcmdldC52YWx1ZSksIHRhYik7XHJcbiAgICAgICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9JzMwJz5MYXN0IDMwIGRheXM8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0nNjAnPkxhc3QgNjAgZGF5czwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSc5MCc+TGFzdCA5MCBkYXlzPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9JzE4MCc+TGFzdCAxODAgZGF5czwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSczNjUnPkxhc3QgMzY1IGRheXM8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxoci8+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnY2FsYyggMTAwJSknIH19PlxyXG4gICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD17c3ZnV2lkdGh9IGhlaWdodD17c3ZnSGVpZ2h0IH0gc3R5bGU9e3sgYm9yZGVyOiAnMXB4IHNvbGlkIGxpZ2h0Z3JheScvKiwgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgbGVmdDogMjAqLyB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8ZyBpZD0neGF4aXMnIHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0IC0gMjB9LCR7aGVpZ2h0ICsgMTB9KWB9PjwvZz5cclxuICAgICAgICAgICAgICAgICAgICA8ZyBpZD0neWF4aXMnIHRyYW5zZm9ybT17XCJ0cmFuc2xhdGUoXCIgKyAobWFyZ2luLmxlZnQgLSAyMCkgKyBcIiwyNSlcIn0+PC9nPlxyXG4gICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT17XCJ0cmFuc2xhdGUoXCIgKyAobWFyZ2luLmxlZnQgLSAyMCkgKyBcIiwyNSlcIn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGlkPSdzY2FwYXRoJyBmaWxsPSdub25lJyBzdHJva2VMaW5lam9pbj0ncm91bmQnIHN0cm9rZVdpZHRoPScxLjUnIHN0cm9rZT0nc3RlZWxibHVlJy8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGlkPSd4ZGFwYXRoJyBmaWxsPSdub25lJyBzdHJva2VMaW5lam9pbj0ncm91bmQnIHN0cm9rZVdpZHRoPScxLjUnIHN0cm9rZT0ncmVkJy8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogYGNhbGMoMTAwJSAtICR7c3ZnSGVpZ2h0fXB4KWAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm5hdiBuYXYtdGFic1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibmF2LWl0ZW1cIj4gICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9e1wibmF2LWxpbmtcIiArICh0YWIgPT0gXCJTeXN0ZW1DZW50ZXJcIiA/IFwiIGFjdGl2ZVwiIDogXCJcIil9IG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUYWIoJ1N5c3RlbUNlbnRlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR2V0VGFibGVEYXRhKCdTeXN0ZW1DZW50ZXInKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIGZpbGw9J3N0ZWVsYmx1ZScgc3Ryb2tlV2lkdGg9JzMnIHN0cm9rZT0ncmdiKDAsMCwwKScgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17e21hcmdpbkxlZnQ6IDEwfX0+U3lzdGVtIENlbnRlcjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm5hdi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9e1wibmF2LWxpbmtcIiArICh0YWIgPT0gXCJPcGVuWERBXCIgPyBcIiBhY3RpdmVcIiA6IFwiXCIpfSBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGFiKCdPcGVuWERBJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHZXRUYWJsZURhdGEoJ09wZW5YREEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIGZpbGw9J3JlZCcgc3Ryb2tlV2lkdGg9JzMnIHN0cm9rZT0ncmdiKDAsMCwwKScgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBtYXJnaW5MZWZ0OiAxMCB9fT5PcGVuWERBPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFiLWNvbnRlbnRcIiBzdHlsZT17eyBtYXhIZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCAtIDIzNSwgb3ZlcmZsb3c6ICdoaWRkZW4nIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhYi1wYW5lICBhY3RpdmVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZTxBY2Nlc0xvZ1RhYmxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHM9e1tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdVc2VyTmFtZScsIGxhYmVsOiAnVXNlcicsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnMTAlJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJzEwJScgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogJ0xvZ2lucycsIGxhYmVsOiAnTG9naW5zIGZvciBQZXJpb2QnLCBoZWFkZXJTdHlsZTogeyB3aWR0aDogJzEwJScgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICcxMCUnIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdMYXN0QWNjZXNzJywgbGFiZWw6ICdMYXN0IEFjY2VzcyBUaW1lICcsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZUNsYXNzPVwidGFibGUgdGFibGUtaG92ZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE9e3RhYmxlRGF0YX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0RmllbGQ9e3NvcnRGaWVsZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc2NlbmRpbmc9e2FzY2VuZGluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNvcnQ9eyhkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLmNvbCA9PSBzb3J0RmllbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmRlcmVkID0gXy5vcmRlckJ5KHRhYmxlRGF0YSwgW2QuY29sXSwgWyghYXNjZW5kaW5nID8gXCJhc2NcIiA6IFwiZGVzY1wiKV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGFibGVEYXRhKG9yZGVyZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yZGVyZWQgPSBfLm9yZGVyQnkodGFibGVEYXRhLCBbZC5jb2xdLCBbXCJhc2NcIl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGFibGVEYXRhKG9yZGVyZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U29ydEZpZWxkKGQuY29sKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBc2NlbmRpbmcoIWFzY2VuZGluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZWFkU3R5bGU9e3sgZm9udFNpemU6ICdzbWFsbGVyJywgZGlzcGxheTogJ3RhYmxlJywgdGFibGVMYXlvdXQ6ICdmaXhlZCcsIHdpZHRoOiAnMTAwJScgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Ym9keVN0eWxlPXt7IGRpc3BsYXk6ICdibG9jaycsIG92ZXJmbG93WTogJ3Njcm9sbCcsIG1heEhlaWdodDogd2luZG93LmlubmVySGVpZ2h0IC0gMzAwLCB3aWR0aDogJzEwMCUnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93U3R5bGU9e3sgZm9udFNpemU6ICdzbWFsbGVyJywgZGlzcGxheTogJ3RhYmxlJywgdGFibGVMYXlvdXQ6ICdmaXhlZCcsIHdpZHRoOiAnMTAwJScgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZD17KGl0ZW0pID0+IGZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PiAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgIFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVc2VyU3RhdGlzdGljcztcclxuIiwiLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuLy8gIFRhYmxlLnRzeCAtIEdidGNcclxuLy9cclxuLy8gIENvcHlyaWdodCDCqSAyMDE4LCBHcmlkIFByb3RlY3Rpb24gQWxsaWFuY2UuICBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4vL1xyXG4vLyAgTGljZW5zZWQgdG8gdGhlIEdyaWQgUHJvdGVjdGlvbiBBbGxpYW5jZSAoR1BBKSB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuIFNlZVxyXG4vLyAgdGhlIE5PVElDRSBmaWxlIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLlxyXG4vLyAgVGhlIEdQQSBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgdGhlIFwiTGljZW5zZVwiOyB5b3UgbWF5IG5vdCB1c2UgdGhpc1xyXG4vLyAgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XHJcbi8vXHJcbi8vICAgICAgaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxyXG4vL1xyXG4vLyAgVW5sZXNzIGFncmVlZCB0byBpbiB3cml0aW5nLCB0aGUgc3ViamVjdCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxyXG4vLyAgXCJBUy1JU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gUmVmZXIgdG8gdGhlXHJcbi8vICBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucy5cclxuLy9cclxuLy8gIENvZGUgTW9kaWZpY2F0aW9uIEhpc3Rvcnk6XHJcbi8vICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAwOC8wMi8yMDE4IC0gQmlsbHkgRXJuZXN0XHJcbi8vICAgICAgIEdlbmVyYXRlZCBvcmlnaW5hbCB2ZXJzaW9uIG9mIHNvdXJjZSBjb2RlLlxyXG4vL1xyXG4vLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XHJcblxyXG5jb25zdCBBbmdsZUljb246IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PHsgYXNjZW5kaW5nOiBib29sZWFuIH0+ID0gKHByb3BzKSA9PiA8c3BhbiBzdHlsZT17eyB3aWR0aDogMTAsIGhlaWdodDogMTAsIG1hcmdpbjogMyB9fSBjbGFzc05hbWU9e1wiZmEgZmEtYW5nbGUtXCIgKyAocHJvcHMuYXNjZW5kaW5nID8gJ3VwJyA6ICdkb3duJyl9Pjwvc3Bhbj5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGFibGVQcm9wczxUPiB7XHJcbiAgICBjb2xzOiBBcnJheTx7IGtleToga2V5b2YoVCkgfCBudWxsLCBsYWJlbDogc3RyaW5nLCBoZWFkZXJTdHlsZT86IFJlYWN0LkNTU1Byb3BlcnRpZXMsIHJvd1N0eWxlPzogUmVhY3QuQ1NTUHJvcGVydGllcywgY29udGVudD8oaXRlbTogVCwga2V5OiBrZXlvZihUKSwgc3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMpOiBSZWFjdC5SZWFjdE5vZGUgfT4sXHJcbiAgICBkYXRhOiBBcnJheTxUPixcclxuICAgIG9uQ2xpY2s6IChkYXRhOiB7IGNvbDoga2V5b2YgKFQpLCByb3c6IFQsIGRhdGE6IFRba2V5b2YoVCldIH0sIGV2ZW50OiBhbnkpID0+IHZvaWQsXHJcbiAgICBzb3J0RmllbGQ6IHN0cmluZyxcclxuICAgIGFzY2VuZGluZzogYm9vbGVhbixcclxuICAgIG9uU29ydChkYXRhOiB7IGNvbDoga2V5b2YgKFQpLCBhc2VuZGluZzogYm9vbGVhbn0pOiB2b2lkLFxyXG4gICAgdGFibGVDbGFzcz86IHN0cmluZyxcclxuICAgIHRhYmxlU3R5bGU/OiBSZWFjdC5DU1NQcm9wZXJ0aWVzLFxyXG4gICAgdGhlYWRTdHlsZT86IFJlYWN0LkNTU1Byb3BlcnRpZXMsXHJcbiAgICB0aGVhZENsYXNzPzogc3RyaW5nLFxyXG4gICAgdGJvZHlTdHlsZT86IFJlYWN0LkNTU1Byb3BlcnRpZXMsXHJcbiAgICB0Ym9keUNsYXNzPzogc3RyaW5nLFxyXG4gICAgc2VsZWN0ZWQ/KGRhdGE6IFQpOiBib29sZWFuLFxyXG4gICAgcm93U3R5bGU/OiBSZWFjdC5DU1NQcm9wZXJ0aWVzLFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZTxUPiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxUYWJsZVByb3BzPFQ+LCB7fT4ge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHZhciByb3dDb21wb25lbnRzID0gdGhpcy5nZW5lcmF0ZVJvd3MoKTtcclxuICAgICAgICB2YXIgaGVhZGVyQ29tcG9uZW50cyA9IHRoaXMuZ2VuZXJhdGVIZWFkZXJzKCk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT17KHRoaXMucHJvcHMudGFibGVDbGFzcyAhPSB1bmRlZmluZWQgPyB0aGlzLnByb3BzLnRhYmxlQ2xhc3MgOiAnJyl9IHN0eWxlPXt0aGlzLnByb3BzLnRhYmxlU3R5bGV9PlxyXG4gICAgICAgICAgICAgICAgPHRoZWFkIHN0eWxlPXt0aGlzLnByb3BzLnRoZWFkU3R5bGV9PntoZWFkZXJDb21wb25lbnRzfTwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dGJvZHkgc3R5bGU9e3RoaXMucHJvcHMudGJvZHlTdHlsZX0+e3Jvd0NvbXBvbmVudHN9PC90Ym9keT5cclxuICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlSGVhZGVycygpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jb2xzLmxlbmd0aCA9PSAwKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIGNlbGxzID0gdGhpcy5wcm9wcy5jb2xzLm1hcCgoY29sRGF0YSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHN0eWxlO1xyXG4gICAgICAgICAgICBpZiAoY29sRGF0YS5oZWFkZXJTdHlsZSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlID0gY29sRGF0YS5oZWFkZXJTdHlsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBzdHlsZSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgaWYgKHN0eWxlLmN1cnNvciA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICBzdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gPHRoIGtleT17aW5kZXh9IHN0eWxlPXtzdHlsZX0gb25DbGljaz17KGUpID0+IHRoaXMuaGFuZGxlU29ydCh7IGNvbDogY29sRGF0YS5rZXksIGFzY2VuZGluZzogdGhpcy5wcm9wcy5hc2NlbmRpbmcgfSwgZSl9Pntjb2xEYXRhLmxhYmVsfXsodGhpcy5wcm9wcy5zb3J0RmllbGQgPT0gY29sRGF0YS5rZXkgPyA8QW5nbGVJY29uIGFzY2VuZGluZz17dGhpcy5wcm9wcy5hc2NlbmRpbmd9IC8+IDogbnVsbCl9PC90aD5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIDx0cj57Y2VsbHN9PC90cj47XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVSb3dzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmRhdGEubGVuZ3RoID09IDApIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5kYXRhLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgdmFyIGNlbGxzID0gdGhpcy5wcm9wcy5jb2xzLm1hcChjb2xEYXRhID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IF8uY2xvbmUoY29sRGF0YS5yb3dTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gPHRkXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleC50b1N0cmluZygpICsgaXRlbVtjb2xEYXRhLmtleV0gKyBjb2xEYXRhLmtleX1cclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17c3R5bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMsIHsgY29sOiBjb2xEYXRhLmtleSwgcm93OiBpdGVtLCBkYXRhOiBpdGVtW2NvbERhdGEua2V5XSB9KX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7Y29sRGF0YS5jb250ZW50ICE9IHVuZGVmaW5lZCA/IGNvbERhdGEuY29udGVudChpdGVtLCBjb2xEYXRhLmtleSwgc3R5bGUpIDogaXRlbVtjb2xEYXRhLmtleV19XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnJvd1N0eWxlICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBfLmNsb25lKHRoaXMucHJvcHMucm93U3R5bGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHN0eWxlID0ge307XHJcblxyXG4gICAgICAgICAgICBpZiAoc3R5bGUuY3Vyc29yID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgIHN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdGVkKGl0ZW0pKVxyXG4gICAgICAgICAgICAgICAgc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3llbGxvdyc7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gPHRyIHN0eWxlPXtzdHlsZX0ga2V5PXtpbmRleC50b1N0cmluZygpfT57Y2VsbHN9PC90cj47XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2xpY2soZGF0YTogeyBjb2w6IGtleW9mKFQpLCByb3c6IFQsIGRhdGE6IGFueSB9LCBldmVudCkge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25DbGljayhkYXRhLCBldmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU29ydChkYXRhLCBldmVudCkge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25Tb3J0KGRhdGEpO1xyXG4gICAgfVxyXG59O1xyXG4iLCIvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4vLyAgVXNlci50cyAtIEdidGNcclxuLy9cclxuLy8gIENvcHlyaWdodCDCqSAyMDIwLCBHcmlkIFByb3RlY3Rpb24gQWxsaWFuY2UuICBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4vL1xyXG4vLyAgTGljZW5zZWQgdG8gdGhlIEdyaWQgUHJvdGVjdGlvbiBBbGxpYW5jZSAoR1BBKSB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuIFNlZVxyXG4vLyAgdGhlIE5PVElDRSBmaWxlIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLlxyXG4vLyAgVGhlIEdQQSBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgdGhlIFwiTGljZW5zZVwiOyB5b3UgbWF5IG5vdCB1c2UgdGhpc1xyXG4vLyAgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XHJcbi8vXHJcbi8vICAgICAgaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxyXG4vL1xyXG4vLyAgVW5sZXNzIGFncmVlZCB0byBpbiB3cml0aW5nLCB0aGUgc3ViamVjdCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxyXG4vLyAgXCJBUy1JU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gUmVmZXIgdG8gdGhlXHJcbi8vICBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucy5cclxuLy9cclxuLy8gIENvZGUgTW9kaWZpY2F0aW9uIEhpc3Rvcnk6XHJcbi8vICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAwMi8wNi8yMDIwIC0gQmlsbHkgRXJuZXN0XHJcbi8vICAgICAgIEdlbmVyYXRlZCBvcmlnaW5hbCB2ZXJzaW9uIG9mIHNvdXJjZSBjb2RlLlxyXG4vL1xyXG4vLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuaW1wb3J0IHsgU3lzdGVtQ2VudGVyIH0gZnJvbSBcIi4uLy4uL1RTWC9TeXN0ZW1DZW50ZXIvZ2xvYmFsXCI7XHJcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcclxuZGVjbGFyZSB2YXIgaG9tZVBhdGg6IHN0cmluZztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTSURGcm9tVXNlck5hbWUoYWNjb3VudE5hbWU6IHN0cmluZyk6IEpRdWVyeS5qcVhIUjxzdHJpbmc+IHtcclxuICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgIHVybDogYCR7aG9tZVBhdGh9YXBpL1N5c3RlbUNlbnRlci9Vc2VyQWNjb3VudC9TSURgLFxyXG4gICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcclxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGFjY291bnROYW1lKSxcclxuICAgICAgICBjYWNoZTogZmFsc2UsXHJcbiAgICAgICAgYXN5bmM6IHRydWVcclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldElzVXNlcihzaWQ6IHN0cmluZyk6IEpRdWVyeS5qcVhIUjxib29sZWFuPiB7XHJcbiAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICB1cmw6IGAke2hvbWVQYXRofWFwaS9TeXN0ZW1DZW50ZXIvVXNlckFjY291bnQvSXNVc2VyYCxcclxuICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShzaWQpLFxyXG4gICAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsbGVkVXNlcih1c2VyQWNjb3VudDogU3lzdGVtQ2VudGVyLlVzZXJBY2NvdW50KTogSlF1ZXJ5LmpxWEhSPFN5c3RlbUNlbnRlci5Vc2VyQWNjb3VudD4ge1xyXG4gICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvU3lzdGVtQ2VudGVyL1VzZXJBY2NvdW50L0ZpbGxlZFVzZXJBY2NvdW50YCxcclxuICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh1c2VyQWNjb3VudCksXHJcbiAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgIGFzeW5jOiB0cnVlXHJcbiAgICB9KTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSb2xlcygpOiBKUXVlcnkuanFYSFI8QXJyYXk8U3lzdGVtQ2VudGVyLlJvbGU+PiB7XHJcbiAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgIHVybDogYCR7aG9tZVBhdGh9YXBpL1N5c3RlbUNlbnRlci9Sb2xlYCxcclxuICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICBjYWNoZTogdHJ1ZSxcclxuICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWN1cml0eVJvbGVzPFQ+KGFwcGxpY2F0aW9uTmFtZTogJ1N5c3RlbUNlbnRlcicgfCAnT3BlblhEQScpOiBKUXVlcnkuanFYSFI8QXJyYXk8U3lzdGVtQ2VudGVyLkFwcGxpY2F0aW9uUm9sZTxUPj4+IHtcclxuICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvJHthcHBsaWNhdGlvbk5hbWV9L0FwcGxpY2F0aW9uUm9sZWAsXHJcbiAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgY2FjaGU6IHRydWUsXHJcbiAgICAgICAgYXN5bmM6IHRydWVcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlU2VjdXJpdHlSb2xlc0ZvclVzZXIoYXBwbGljYXRpb25OYW1lOiAnU3lzdGVtQ2VudGVyJyB8ICdPcGVuWERBJywgZGF0YTogQXJyYXk8U3lzdGVtQ2VudGVyLkFwcGxpY2F0aW9uUm9sZVVzZXJBY2NvdW50Pik6IEpRdWVyeS5qcVhIUjxzdHJpbmc+IHtcclxuICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgIHR5cGU6IFwiUEFUQ0hcIixcclxuICAgICAgICB1cmw6IGAke2hvbWVQYXRofWFwaS8ke2FwcGxpY2F0aW9uTmFtZX0vQXBwbGljYXRpb25Sb2xlVXNlckFjY291bnQvVXBkYXRlQXJyYXlgLFxyXG4gICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcclxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgICAgIGNhY2hlOiB0cnVlLFxyXG4gICAgICAgIGFzeW5jOiB0cnVlXHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWN1cml0eVJvbGVzRm9yVXNlcihpZDogc3RyaW5nLCBhcHBsaWNhdGlvbk5hbWU6ICdTeXN0ZW1DZW50ZXInIHwgJ09wZW5YREEnKTogSlF1ZXJ5LmpxWEhSPEFycmF5PFN5c3RlbUNlbnRlci5BcHBsaWNhdGlvblJvbGVVc2VyQWNjb3VudD4+IHtcclxuICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvJHthcHBsaWNhdGlvbk5hbWV9L0FwcGxpY2F0aW9uUm9sZVVzZXJBY2NvdW50LyR7aWR9YCxcclxuICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICBjYWNoZTogdHJ1ZSxcclxuICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUU0NzKCk6IEpRdWVyeS5qcVhIUjxBcnJheTxTeXN0ZW1DZW50ZXIuVFNDPj4ge1xyXG4gICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICB1cmw6IGAke2hvbWVQYXRofWFwaS9TeXN0ZW1DZW50ZXIvVFNDYCxcclxuICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICBjYWNoZTogdHJ1ZSxcclxuICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZFVzZXJBY2NvdW50RmllbGQodXNlcjogU3lzdGVtQ2VudGVyLlVzZXJBY2NvdW50LGZpZWxkOiBrZXlvZiAoU3lzdGVtQ2VudGVyLlVzZXJBY2NvdW50KSk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKGZpZWxkID09ICdBY2NvdW50TmFtZScpXHJcbiAgICAgICAgcmV0dXJuIHVzZXIuTmFtZSAhPSBudWxsICYmIHVzZXIuTmFtZS5sZW5ndGggPiAwICYmIHVzZXIuTmFtZS5sZW5ndGggPD0gMjAwO1xyXG4gICAgaWYgKGZpZWxkID09ICdOYW1lJylcclxuICAgICAgICByZXR1cm4gdXNlci5OYW1lICE9IG51bGwgJiYgdXNlci5OYW1lLmxlbmd0aCA+IDAgJiYgdXNlci5OYW1lLmxlbmd0aCA8PSAyMDA7XHJcbiAgICBlbHNlIGlmIChmaWVsZCA9PSAnUGFzc3dvcmQnKVxyXG4gICAgICAgIHJldHVybiB1c2VyLlBhc3N3b3JkID09IG51bGwgfHwgdXNlci5QYXNzd29yZC5sZW5ndGggPD0gMjAwO1xyXG4gICAgZWxzZSBpZiAoZmllbGQgPT0gJ0ZpcnN0TmFtZScpXHJcbiAgICAgICAgcmV0dXJuIHVzZXIuRmlyc3ROYW1lID09IG51bGwgfHwgdXNlci5GaXJzdE5hbWUubGVuZ3RoIDw9IDIwMDtcclxuICAgIGVsc2UgaWYgKGZpZWxkID09ICdMYXN0TmFtZScpXHJcbiAgICAgICAgcmV0dXJuIHVzZXIuTGFzdE5hbWUgPT0gbnVsbCB8fCB1c2VyLkxhc3ROYW1lLmxlbmd0aCA8PSAyMDA7XHJcbiAgICBlbHNlIGlmIChmaWVsZCA9PSAnUGhvbmUnKVxyXG4gICAgICAgIHJldHVybiB1c2VyLlBob25lID09IG51bGwgfHwgdXNlci5QaG9uZS5sZW5ndGggPD0gMjAwO1xyXG4gICAgZWxzZSBpZiAoZmllbGQgPT0gJ0VtYWlsJylcclxuICAgICAgICByZXR1cm4gdXNlci5FbWFpbCA9PSBudWxsIHx8IHVzZXIuRW1haWwubGVuZ3RoIDw9IDIwMDtcclxuICAgIGVsc2UgaWYgKGZpZWxkID09ICdUaXRsZScpXHJcbiAgICAgICAgcmV0dXJuIHVzZXIuVGl0bGUgPT0gbnVsbCB8fCB1c2VyLlRpdGxlLmxlbmd0aCA8PSAyMDA7XHJcbiAgICBlbHNlIGlmIChmaWVsZCA9PSAnTW9iaWxlUGhvbmUnKVxyXG4gICAgICAgIHJldHVybiB1c2VyLk1vYmlsZVBob25lID09IG51bGwgfHwgdXNlci5Nb2JpbGVQaG9uZS5sZW5ndGggPD0gMjAwO1xyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBHZXRBY2Nlc3NMb2dBZ2dyZWdhdGVzKGRhdGFiYXNlOiBTeXN0ZW1DZW50ZXIuQXR0YWNoZWREYXRhYmFzZXMsIGRheXM6IG51bWJlcikge1xyXG4gICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICB1cmw6IGAke2hvbWVQYXRofWFwaS8ke2RhdGFiYXNlfS9BY2Nlc3NMb2cvQWdncmVnYXRlcy8ke2RheXN9YCxcclxuICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICBjYWNoZTogZmFsc2UsXHJcbiAgICAgICAgYXN5bmM6IHRydWVcclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEdldEFjY2Vzc0xvZ1RhYmxlKGRhdGFiYXNlOiBTeXN0ZW1DZW50ZXIuQXR0YWNoZWREYXRhYmFzZXMsIGRheXM6IG51bWJlcikge1xyXG4gICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICB1cmw6IGAke2hvbWVQYXRofWFwaS8ke2RhdGFiYXNlfS9BY2Nlc3NMb2cvVGFibGUvJHtkYXlzfWAsXHJcbiAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgIGFzeW5jOiB0cnVlXHJcbiAgICB9KTtcclxuXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==