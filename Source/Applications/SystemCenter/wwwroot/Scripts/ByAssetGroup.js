(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{321:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(39),s=n.n(r),o=n(31),l=n(3),i=n(88),u=n(38),c=n(35),d=function(){return(d=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=s.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},m=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e},h=[{label:"Name",key:"Name",type:"string"},{label:"Number of Meter",key:"Meters",type:"integer"},{label:"Number of Transmission Assets",key:"Assets",type:"integer"},{label:"Number of Users",key:"Users",type:"integer"},{label:"Show in PQ Dashboard",key:"DisplayDashboard",type:"boolean"}],f={ID:-1,Name:"",DisplayDashboard:!0,AssetGroups:0,Meters:0,Assets:0,Users:0,MeterList:[],AssetList:[],UserList:[],AssetGroupList:[]};t.default=function(e){var t=Object(l.useHistory)(),n=p(a.useState([]),2),r=n[0],y=n[1],b=p(a.useState([]),2),S=b[0],A=b[1],w=p(a.useState("Name"),2),N=w[0],g=w[1],E=p(a.useState(!0),2),L=E[0],k=E[1],C=p(a.useState(h),2),D=C[0],v=(C[1],p(a.useState("Idle"),2)),G=v[0],x=v[1],T=p(a.useState(o.cloneDeep(f)),2),M=T[0],O=T[1],j=p(a.useState([]),2),I=j[0],F=j[1],P=p(a.useState(!1),2),R=P[0],U=P[1],V=p(a.useState(!1),2),B=V[0],J=V[1],q=p(a.useState(!1),2),z=q[0],X=q[1],H=p(a.useState(!1),2),Q=H[0],W=H[1];a.useEffect((function(){var e=$.ajax({type:"GET",url:homePath+"api/OpenXDA/AssetGroup",contentType:"application/json; charset=utf-8",dataType:"json",cache:!1,async:!0});return e.done((function(e){return F(e)})),function(){null!=e.abort&&e.abort()}}),[]),a.useEffect((function(){var e=function(){x("Loading");var e=r.map((function(e){return-1==h.findIndex((function(t){return t.key==e.FieldName}))?d(d({},e),{isPivotColumn:!0}):e}));return $.ajax({type:"Post",url:homePath+"api/OpenXDA/AssetGroup/SearchableList",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({Searches:e,OrderBy:N,Ascending:L}),cache:!1,async:!0})}();return e.done((function(e){x("Idle"),A(JSON.parse(e))})).fail((function(e){return x("Error")})),function(){null!=e.abort&&e.abort()}}),[r,L,N]);return a.createElement(a.Fragment,null,a.createElement("div",{style:{width:"100%",height:"100%"}},a.createElement(u.SearchBar,{CollumnList:D,SetFilter:function(e){return y(e)},Direction:"left",defaultCollumn:{label:"Name",key:"Name",type:"string"},Width:"50%",Label:"Search",ShowLoading:"Loading"==G,ResultNote:"Error"==G?"Could not complete Search":"Found "+S.length+" Locations",GetEnum:function(e,t){var n=null;return"enum"!=t.type||null==t.enum||1!=t.enum.length?function(){}:((n=$.ajax({type:"GET",url:homePath+"api/ValueList/Group/"+t.enum[0].Value,contentType:"application/json; charset=utf-8",dataType:"json",cache:!0,async:!0})).done((function(t){return e(t.map((function(e){return{Value:e.Value.toString(),Label:e.Text}})))})),function(){null!=n&&null==n.abort&&n.abort()})}},a.createElement("li",{className:"nav-item",style:{width:"15%",paddingRight:10}},a.createElement("fieldset",{className:"border",style:{padding:"10px",height:"100%"}},a.createElement("legend",{className:"w-auto",style:{fontSize:"large"}},"Actions:"),a.createElement("form",null,a.createElement("div",{className:"form-group"},a.createElement("button",{className:"btn btn-primary",hidden:e.Roles.indexOf("Administrator")<0&&e.Roles.indexOf("Transmission SME")<0,onClick:function(e){U(!0)}},"Add New AssetGroup")))))),a.createElement("div",{style:{width:"100%",height:"calc( 100% - 180px)"}},a.createElement(s.a,{cols:[{key:"Name",label:"Name",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"Assets",label:"Num. of Assets",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"Meters",label:"Num. of Meters",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"Users",label:"Num. of Users",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:"AssetGroups",label:"Num. of Asset Groups",headerStyle:{width:"auto"},rowStyle:{width:"auto"}},{key:null,label:"",headerStyle:{width:17,padding:0},rowStyle:{width:0,padding:0}}],tableClass:"table table-hover",data:S,sortField:N,ascending:L,onSort:function(e){e.col==N?k(!L):(k(!0),g(e.col))},onClick:function(e){t.push({pathname:homePath+"index.cshtml",search:"?name=AssetGroup&AssetGroupID="+e.row.ID,state:{}})},theadStyle:{fontSize:"smaller",display:"table",tableLayout:"fixed",width:"100%"},tbodyStyle:{display:"block",overflowY:"scroll",maxHeight:window.innerHeight-300,width:"100%"},rowStyle:{fontSize:"smaller",display:"table",tableLayout:"fixed",width:"100%"},selected:function(e){return!1}}))),a.createElement(u.Modal,{Size:"xlg",Show:R,Title:"Create a New AssetGroup",ShowX:!0,CancelText:"Close",CancelBtnClass:"btn-danger",ConfirmBtnClass:"btn-success",ConfirmText:"Add",CallBack:function(e){e?$.ajax({type:"POST",url:homePath+"api/OpenXDA/Assetgroup/Add",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(M),cache:!1,async:!0}).done((function(e){sessionStorage.clear(),t.push({pathname:homePath+"index.cshtml",search:"?name=AssetGroup&AssetGroupID="+e.ID,state:{}})})).fail((function(e){500==e.status&&alert(e.responseJSON.ExceptionMessage)})):O(o.cloneDeep(f)),U(!1)}},a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement(c.Input,{Record:M,Field:"Name",Label:"Name",Feedback:"A unique name of less than 50 characters is required.",Valid:function(e){return"Name"!=e||null!=M.Name&&0!=M.Name.length&&I.map((function(e){return e.Name.toLowerCase()})).indexOf(M.Name.toLowerCase())<0},Setter:O,Disabled:!1}),a.createElement(c.CheckBox,{Record:M,Field:"DisplayDashboard",Label:"Show Asset Group in Dashboard",Setter:O,Disabled:!1})),a.createElement("div",{className:"col"},a.createElement(c.Input,{Record:M,Field:"Assets",Label:"Num. of Transmission Assets",Valid:function(){return!0},Setter:O,Disabled:!0}),a.createElement("button",{type:"button",className:"btn btn-primary btn-block",onClick:function(){return J(!0)}}," Add Transmission Asset "),a.createElement(c.Input,{Record:M,Field:"Meters",Label:"Num. of Meters",Valid:function(){return!0},Setter:O,Disabled:!0}),a.createElement("button",{type:"button",className:"btn btn-primary btn-block",onClick:function(){return X(!0)}}," Add Meter "),a.createElement(c.Input,{Record:M,Field:"Users",Label:"Num. of Users",Valid:function(){return!0},Setter:O,Disabled:!0}),a.createElement("button",{type:"button",className:"btn btn-primary btn-block",disabled:!0}," Add User Account "),a.createElement(c.Input,{Record:M,Field:"AssetGroups",Label:"Num. of Asset Groups",Valid:function(){return!0},Setter:O,Disabled:!0}),a.createElement("button",{type:"button",className:"btn btn-primary btn-block",onClick:function(){return W(!0)}}," Add Asset Group ")))),a.createElement(i.a,{type:"Asset",onComplete:function(e){return O((function(t){var n,a=o.cloneDeep(t);return(n=a.AssetList).push.apply(n,m(e)),a.AssetList=o.uniq(a.AssetList),a.Assets=a.AssetList.length,a})),null},Show:B,Close:function(){return J(!1)}}),a.createElement(i.a,{type:"Meter",onComplete:function(e){return O((function(t){var n,a=o.cloneDeep(t);return(n=a.MeterList).push.apply(n,m(e)),a.MeterList=o.uniq(a.MeterList),a.Meters=a.MeterList.length,a})),null},Show:z,Close:function(){return X(!1)}}),a.createElement(i.a,{type:"Group",onComplete:function(e){return O((function(t){var n,a=o.cloneDeep(t);return(n=a.AssetGroupList).push.apply(n,m(e)),a.AssetGroupList=o.uniq(a.AssetGroupList),a.AssetGroups=a.AssetGroupList.length,a})),null},Show:Q,Close:function(){return W(!1)}}))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9UU1gvU3lzdGVtQ2VudGVyL0Fzc2V0R3JvdXBzL0J5QXNzZXRHcm91cC50c3giXSwibmFtZXMiOlsiZGVmYXVsdFNlYXJjaGNvbHMiLCJsYWJlbCIsImtleSIsInR5cGUiLCJlbXB0eUFzc2V0R3JvdXAiLCJJRCIsIk5hbWUiLCJEaXNwbGF5RGFzaGJvYXJkIiwiQXNzZXRHcm91cHMiLCJNZXRlcnMiLCJBc3NldHMiLCJVc2VycyIsIk1ldGVyTGlzdCIsIkFzc2V0TGlzdCIsIlVzZXJMaXN0IiwiQXNzZXRHcm91cExpc3QiLCJwcm9wcyIsImhpc3RvcnkiLCJzZWFyY2giLCJzZXRTZWFyY2giLCJkYXRhIiwic2V0RGF0YSIsInNvcnRGaWVsZCIsInNldFNvcnRGaWVsZCIsImFzY2VuZGluZyIsInNldEFzY2VuZGluZyIsImZpbHRlcmFibGVMaXN0Iiwic2VhcmNoU3RhdGUiLCJzZXRTZWFyY2hTdGF0ZSIsIm5ld0Fzc2V0R3JvdXAiLCJzZXROZXdBc3NldEdyb3VwIiwiYWxsQXNzZXRHcm91cHMiLCJzZXRBbGxBc3NldEdyb3VwcyIsInNob3dOZXdHcm91cCIsInNldFNob3dOZXdHcm91cCIsInNob3dBZGRBc3NldCIsInNldFNob3dBZGRBc3NldCIsInNob3dBZGRNZXRlciIsInNldFNob3dBZGRNZXRlciIsInNob3dBZGRHcm91cCIsInNldFNob3dBZGRHcm91cCIsImhhbmRsZTIiLCIkIiwiYWpheCIsInVybCIsImhvbWVQYXRoIiwiY29udGVudFR5cGUiLCJkYXRhVHlwZSIsImNhY2hlIiwiYXN5bmMiLCJkb25lIiwiYWFzIiwiYWJvcnQiLCJoYW5kbGUiLCJzZWFyY2hlcyIsIm1hcCIsInMiLCJmaW5kSW5kZXgiLCJpdGVtIiwiRmllbGROYW1lIiwiaXNQaXZvdENvbHVtbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJTZWFyY2hlcyIsIk9yZGVyQnkiLCJBc2NlbmRpbmciLCJnZXRBc3NldEdyb3VwcyIsInBhcnNlIiwiZmFpbCIsImQiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwiQ29sbHVtbkxpc3QiLCJTZXRGaWx0ZXIiLCJmbGRzIiwiRGlyZWN0aW9uIiwiZGVmYXVsdENvbGx1bW4iLCJXaWR0aCIsIkxhYmVsIiwiU2hvd0xvYWRpbmciLCJSZXN1bHROb3RlIiwibGVuZ3RoIiwiR2V0RW51bSIsInNldE9wdGlvbnMiLCJmaWVsZCIsInVuZGVmaW5lZCIsImVudW0iLCJWYWx1ZSIsInRvU3RyaW5nIiwiVGV4dCIsImNsYXNzTmFtZSIsInBhZGRpbmdSaWdodCIsInBhZGRpbmciLCJmb250U2l6ZSIsImhpZGRlbiIsIlJvbGVzIiwiaW5kZXhPZiIsIm9uQ2xpY2siLCJldmVudCIsImNvbHMiLCJoZWFkZXJTdHlsZSIsInJvd1N0eWxlIiwidGFibGVDbGFzcyIsIm9uU29ydCIsImNvbCIsInB1c2giLCJwYXRobmFtZSIsInJvdyIsInN0YXRlIiwidGhlYWRTdHlsZSIsImRpc3BsYXkiLCJ0YWJsZUxheW91dCIsInRib2R5U3R5bGUiLCJvdmVyZmxvd1kiLCJtYXhIZWlnaHQiLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsInNlbGVjdGVkIiwiU2l6ZSIsIlNob3ciLCJUaXRsZSIsIlNob3dYIiwiQ2FuY2VsVGV4dCIsIkNhbmNlbEJ0bkNsYXNzIiwiQ29uZmlybUJ0bkNsYXNzIiwiQ29uZmlybVRleHQiLCJDYWxsQmFjayIsImNvbmYiLCJzZXNzaW9uU3RvcmFnZSIsImNsZWFyIiwibXNnIiwic3RhdHVzIiwiYWxlcnQiLCJyZXNwb25zZUpTT04iLCJFeGNlcHRpb25NZXNzYWdlIiwiUmVjb3JkIiwiRmllbGQiLCJGZWVkYmFjayIsIlZhbGlkIiwidG9Mb3dlckNhc2UiLCJTZXR0ZXIiLCJEaXNhYmxlZCIsImRpc2FibGVkIiwib25Db21wbGV0ZSIsImxpc3QiLCJncnAiLCJ1cGRhdGVkIiwiQ2xvc2UiXSwibWFwcGluZ3MiOiIwRkFBQSwwRSxva0JBc0NNQSxFQUFzRCxDQUN4RCxDQUFFQyxNQUFPLE9BQVFDLElBQUssT0FBUUMs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SSxFQUFRdkksVUFBVXNFLE9BQzVCaUUsS0FFSixNQUNSM0IsS0FBTW5GLEVBQWMrRyxNQUFPLFdBQU0sT0FBQTlHLEdBQWdCLE1BQ3BELGdCQUFDLElBQWUsQ0FBQ25DLEtBQUssUUFBUTZJLFdBQVksU0FBQ0MsR0FRdkMsT0FQQW5ILEdBQWlCLFNBQUNvSCxHLE1BQ1ZDLEVBQVUsWUFBWUQsR0FJMUIsT0FIQSxFQUFBQyxFQUFRcEksZ0JBQWUyRixLQUFJLFVBQUl1QyxJQUMvQkUsRUFBUXBJLGVBQWlCLE9BQU9vSSxFQUFRcEksZ0JBQ3hDb0ksRUFBUTNJLFlBQWMySSxFQUFRcEksZUFBZW1FLE9BQ3RDaUUsS0FFSixNQUNSM0IsS0FBTWpGLEVBQWM2RyxNQUFPLFdBQU0sT0FBQTVHLEdBQWdCIiwiZmlsZSI6IkJ5QXNzZXRHcm91cC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbi8vICBCeUFzc2V0LnRzeCAtIEdidGNcclxuLy9cclxuLy8gIENvcHlyaWdodCDCqSAyMDIwLCBHcmlkIFByb3RlY3Rpb24gQWxsaWFuY2UuICBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4vL1xyXG4vLyAgTGljZW5zZWQgdG8gdGhlIEdyaWQgUHJvdGVjdGlvbiBBbGxpYW5jZSAoR1BBKSB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuIFNlZVxyXG4vLyAgdGhlIE5PVElDRSBmaWxlIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLlxyXG4vLyAgVGhlIEdQQSBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgdGhlIFwiTGljZW5zZVwiOyB5b3UgbWF5IG5vdCB1c2UgdGhpc1xyXG4vLyAgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XHJcbi8vXHJcbi8vICAgICAgaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxyXG4vL1xyXG4vLyAgVW5sZXNzIGFncmVlZCB0byBpbiB3cml0aW5nLCB0aGUgc3ViamVjdCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxyXG4vLyAgXCJBUy1JU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gUmVmZXIgdG8gdGhlXHJcbi8vICBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucy5cclxuLy9cclxuLy8gIENvZGUgTW9kaWZpY2F0aW9uIEhpc3Rvcnk6XHJcbi8vICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAxMC8xNC8yMDIwIC0gQy4gTGFja25lclxyXG4vLyAgICAgICBHZW5lcmF0ZWQgb3JpZ2luYWwgdmVyc2lvbiBvZiBzb3VyY2UgY29kZS5cclxuLy9cclxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFRhYmxlIGZyb20gJ0BncGEtZ2Vtc3RvbmUvcmVhY3QtdGFibGUnO1xyXG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XHJcbmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xyXG5pbXBvcnQgeyBPcGVuWERBLCBTeXN0ZW1DZW50ZXIgfSBmcm9tICcuLi9nbG9iYWwnO1xyXG5pbXBvcnQgRm9ybUlucHV0IGZyb20gJy4uL0NvbW1vbkNvbXBvbmVudHMvRm9ybUlucHV0JztcclxuaW1wb3J0IEZvcm1DaGVja0JveCBmcm9tICcuLi9Db21tb25Db21wb25lbnRzL0Zvcm1DaGVja0JveCc7XHJcbmltcG9ydCBBZGRUb0dyb3VwUG9wdXAgZnJvbSAnLi9BZGRUb0dyb3VwJztcclxuaW1wb3J0IHsgU2VhcmNoQmFyLCBTZWFyY2gsIE1vZGFsIH0gZnJvbSAnQGdwYS1nZW1zdG9uZS9yZWFjdC1pbnRlcmFjdGl2ZSc7XHJcbmltcG9ydCBBc3NldEdyb3VwIGZyb20gJy4vQXNzZXRHcm91cCc7XHJcbmltcG9ydCB7IENoZWNrQm94LCBJbnB1dCB9IGZyb20gJ0BncGEtZ2Vtc3RvbmUvcmVhY3QtZm9ybXMnO1xyXG5cclxuZGVjbGFyZSB2YXIgaG9tZVBhdGg6IHN0cmluZztcclxuXHJcblxyXG5jb25zdCBkZWZhdWx0U2VhcmNoY29sczogQXJyYXk8U2VhcmNoLklGaWVsZDxBc3NldEdyb3VwPj4gPSBbXHJcbiAgICB7IGxhYmVsOiAnTmFtZScsIGtleTogJ05hbWUnLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgeyBsYWJlbDogJ051bWJlciBvZiBNZXRlcicsIGtleTogJ01ldGVycycsIHR5cGU6ICdpbnRlZ2VyJyB9LFxyXG4gICAgeyBsYWJlbDogJ051bWJlciBvZiBUcmFuc21pc3Npb24gQXNzZXRzJywga2V5OiAnQXNzZXRzJywgdHlwZTogJ2ludGVnZXInIH0sXHJcbiAgICB7IGxhYmVsOiAnTnVtYmVyIG9mIFVzZXJzJywga2V5OiAnVXNlcnMnLCB0eXBlOiAnaW50ZWdlcicgfSxcclxuICAgIHsgbGFiZWw6ICdTaG93IGluIFBRIERhc2hib2FyZCcsIGtleTogJ0Rpc3BsYXlEYXNoYm9hcmQnLCB0eXBlOiAnYm9vbGVhbicgfSxcclxuICAgICAgICBcclxuXTtcclxuXHJcbmludGVyZmFjZSBBc3NldEdyb3VwIHtcclxuICAgIElEOiBudW1iZXIsIE5hbWU6IHN0cmluZywgRGlzcGxheURhc2hib2FyZDogYm9vbGVhbiwgQXNzZXRHcm91cHM6IG51bWJlciwgTWV0ZXJzOiBudW1iZXIsIEFzc2V0czogbnVtYmVyLCBVc2VyczogbnVtYmVyXHJcbn1cclxuXHJcbmludGVyZmFjZSBleHRlbmRlZEFzc2V0R3JvdXAgZXh0ZW5kcyBBc3NldEdyb3VwIHsgTWV0ZXJMaXN0OiBBcnJheTxudW1iZXI+LCBBc3NldExpc3Q6IEFycmF5PG51bWJlcj4sIFVzZXJMaXN0OiBBcnJheTxudW1iZXI+LCBBc3NldEdyb3VwTGlzdDogQXJyYXk8bnVtYmVyPiB9XHJcblxyXG5jb25zdCBlbXB0eUFzc2V0R3JvdXA6IGV4dGVuZGVkQXNzZXRHcm91cCA9IHsgSUQ6IC0xLCBOYW1lOiAnJywgRGlzcGxheURhc2hib2FyZDogdHJ1ZSwgQXNzZXRHcm91cHM6IDAsIE1ldGVyczogMCwgQXNzZXRzOiAwLCBVc2VyczogMCwgTWV0ZXJMaXN0OiBbXSwgQXNzZXRMaXN0OiBbXSwgVXNlckxpc3Q6IFtdLCBBc3NldEdyb3VwTGlzdDogW10gfTtcclxuXHJcbmRlY2xhcmUgdmFyIGhvbWVQYXRoOiBzdHJpbmc7XHJcblxyXG5jb25zdCBCeUFzc2V0R3JvdXA6IFN5c3RlbUNlbnRlci5CeUNvbXBvbmVudCA9IChwcm9wcykgPT4ge1xyXG4gICAgbGV0IGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7XHJcblxyXG4gICAgY29uc3QgW3NlYXJjaCwgc2V0U2VhcmNoXSA9IFJlYWN0LnVzZVN0YXRlPEFycmF5PFNlYXJjaC5JRmlsdGVyPEFzc2V0R3JvdXA+Pj4oW10pO1xyXG4gICAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gUmVhY3QudXNlU3RhdGU8QXJyYXk8QXNzZXRHcm91cD4+KFtdKTtcclxuICAgIGNvbnN0IFtzb3J0RmllbGQsIHNldFNvcnRGaWVsZF0gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmc+KCdOYW1lJyk7XHJcbiAgICBjb25zdCBbYXNjZW5kaW5nLCBzZXRBc2NlbmRpbmddID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSk7XHJcbiAgICBjb25zdCBbZmlsdGVyYWJsZUxpc3QsIHNldEZpbHRlcmFibGVMaXN0XSA9IFJlYWN0LnVzZVN0YXRlPEFycmF5PFNlYXJjaC5JRmllbGQ8QXNzZXRHcm91cD4+PihkZWZhdWx0U2VhcmNoY29scyk7XHJcbiAgICBjb25zdCBbc2VhcmNoU3RhdGUsIHNldFNlYXJjaFN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlPCgnSWRsZScgfCAnTG9hZGluZycgfCAnRXJyb3InKT4oJ0lkbGUnKTtcclxuXHJcblxyXG4gICAgY29uc3QgW25ld0Fzc2V0R3JvdXAsIHNldE5ld0Fzc2V0R3JvdXBdID0gUmVhY3QudXNlU3RhdGU8ZXh0ZW5kZWRBc3NldEdyb3VwPihfLmNsb25lRGVlcChlbXB0eUFzc2V0R3JvdXApKTtcclxuICAgIGNvbnN0IFthbGxBc3NldEdyb3Vwcywgc2V0QWxsQXNzZXRHcm91cHNdID0gUmVhY3QudXNlU3RhdGU8QXJyYXk8QXNzZXRHcm91cD4+KFtdKTtcclxuICAgIGNvbnN0IFtzaG93TmV3R3JvdXAsIHNldFNob3dOZXdHcm91cF0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XHJcblxyXG4gICAgY29uc3QgW3Nob3dBZGRBc3NldCwgc2V0U2hvd0FkZEFzc2V0XSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcclxuICAgIGNvbnN0IFtzaG93QWRkTWV0ZXIsIHNldFNob3dBZGRNZXRlcl0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XHJcbiAgICBjb25zdCBbc2hvd0FkZEdyb3VwLCBzZXRTaG93QWRkR3JvdXBdID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xyXG5cclxuXHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGxldCBoYW5kbGUyID0gZ2V0QWxsQXNzZXRHcm91cHMoKTtcclxuICAgICAgICBoYW5kbGUyLmRvbmUoYWFzID0+IHNldEFsbEFzc2V0R3JvdXBzKGFhcykpO1xyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNsZWFudXAoKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoaGFuZGxlMi5hYm9ydCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgaGFuZGxlMi5hYm9ydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtdKTtcclxuXHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGxldCBoYW5kbGUgPSBnZXRBc3NldEdyb3VwcygpO1xyXG5cclxuICAgICAgICBoYW5kbGUuZG9uZSgoZGF0YTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIHNldFNlYXJjaFN0YXRlKCdJZGxlJyk7XHJcbiAgICAgICAgICAgIHNldERhdGEoSlNPTi5wYXJzZShkYXRhKSBhcyBBc3NldEdyb3VwW10pXHJcbiAgICAgICAgfSkuZmFpbCgoZCkgPT4gc2V0U2VhcmNoU3RhdGUoJ0Vycm9yJykpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChoYW5kbGUuYWJvcnQgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIGhhbmRsZS5hYm9ydCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgfSwgW3NlYXJjaCwgYXNjZW5kaW5nLCBzb3J0RmllbGRdKTtcclxuXHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGdldEFzc2V0R3JvdXBzKCk6IEpRdWVyeVhIUiB7XHJcbiAgICAgICAgc2V0U2VhcmNoU3RhdGUoJ0xvYWRpbmcnKTtcclxuICAgICAgICBsZXQgc2VhcmNoZXMgPSBzZWFyY2gubWFwKHMgPT4geyBpZiAoZGVmYXVsdFNlYXJjaGNvbHMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5rZXkgPT0gcy5GaWVsZE5hbWUpID09IC0xKSByZXR1cm4geyAuLi5zLCBpc1Bpdm90Q29sdW1uOiB0cnVlIH07IGVsc2UgcmV0dXJuIHM7IH0pXHJcblxyXG4gICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBvc3RcIixcclxuICAgICAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvT3BlblhEQS9Bc3NldEdyb3VwL1NlYXJjaGFibGVMaXN0YCxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7IFNlYXJjaGVzOiBzZWFyY2hlcywgT3JkZXJCeTogc29ydEZpZWxkLCBBc2NlbmRpbmc6IGFzY2VuZGluZyB9KSxcclxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEFsbEFzc2V0R3JvdXBzKCk6IEpRdWVyeVhIUiB7XHJcbiAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIHVybDogYCR7aG9tZVBhdGh9YXBpL09wZW5YREEvQXNzZXRHcm91cGAsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkTmV3QXNzZXRHcm91cCgpIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvT3BlblhEQS9Bc3NldGdyb3VwL0FkZGAsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkobmV3QXNzZXRHcm91cCksXHJcbiAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgICAgICAgYXN5bmM6IHRydWVcclxuICAgICAgICB9KS5kb25lKChuZXdBc3NldEdyb3VwOiBPcGVuWERBLkFzc2V0R3JvdXApID0+IHtcclxuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTtcclxuICAgICAgICAgICAgaGlzdG9yeS5wdXNoKHsgcGF0aG5hbWU6IGhvbWVQYXRoICsgJ2luZGV4LmNzaHRtbCcsIHNlYXJjaDogJz9uYW1lPUFzc2V0R3JvdXAmQXNzZXRHcm91cElEPScgKyBuZXdBc3NldEdyb3VwLklELCBzdGF0ZToge30gfSlcclxuICAgICAgICB9KS5mYWlsKChtc2cpID0+IHtcclxuICAgICAgICAgICAgaWYgKG1zZy5zdGF0dXMgPT0gNTAwKVxyXG4gICAgICAgICAgICAgICAgYWxlcnQobXNnLnJlc3BvbnNlSlNPTi5FeGNlcHRpb25NZXNzYWdlKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVTZWxlY3QoaXRlbSkge1xyXG4gICAgICAgIGhpc3RvcnkucHVzaCh7IHBhdGhuYW1lOiBob21lUGF0aCArICdpbmRleC5jc2h0bWwnLCBzZWFyY2g6ICc/bmFtZT1Bc3NldEdyb3VwJkFzc2V0R3JvdXBJRD0nICsgaXRlbS5yb3cuSUQsIHN0YXRlOiB7fSB9KVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHZhbGlkKGZpZWxkOiBrZXlvZiAoT3BlblhEQS5Bc3NldEdyb3VwKSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmIChmaWVsZCA9PSAnTmFtZScpIHtcclxuICAgICAgICAgICAgaWYgKG5ld0Fzc2V0R3JvdXAuTmFtZSA9PSBudWxsIHx8IG5ld0Fzc2V0R3JvdXAuTmFtZS5sZW5ndGggPT0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gYWxsQXNzZXRHcm91cHMubWFwKGl0ZW0gPT4gaXRlbS5OYW1lLnRvTG93ZXJDYXNlKCkpLmluZGV4T2YobmV3QXNzZXRHcm91cC5OYW1lLnRvTG93ZXJDYXNlKCkpIDwgMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3RhbmRhcmRTZWFyY2g6IFNlYXJjaC5JRmllbGQ8QXNzZXRHcm91cD4gPSB7IGxhYmVsOiAnTmFtZScsIGtleTogJ05hbWUnLCB0eXBlOiAnc3RyaW5nJyB9O1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnMTAwJScgfX0+XHJcbiAgICAgICAgICAgIDxTZWFyY2hCYXI8QXNzZXRHcm91cD4gQ29sbHVtbkxpc3Q9e2ZpbHRlcmFibGVMaXN0fSBTZXRGaWx0ZXI9eyhmbGRzKSA9PiBzZXRTZWFyY2goZmxkcyl9IERpcmVjdGlvbj17J2xlZnQnfSBkZWZhdWx0Q29sbHVtbj17c3RhbmRhcmRTZWFyY2h9IFdpZHRoPXsnNTAlJ30gTGFiZWw9eydTZWFyY2gnfVxyXG4gICAgICAgICAgICAgICAgU2hvd0xvYWRpbmc9e3NlYXJjaFN0YXRlID09ICdMb2FkaW5nJ30gUmVzdWx0Tm90ZT17c2VhcmNoU3RhdGUgPT0gJ0Vycm9yJyA/ICdDb3VsZCBub3QgY29tcGxldGUgU2VhcmNoJyA6ICdGb3VuZCAnICsgZGF0YS5sZW5ndGggKyAnIExvY2F0aW9ucyd9XHJcbiAgICAgICAgICAgICAgICBHZXRFbnVtPXsoc2V0T3B0aW9ucywgZmllbGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaGFuZGxlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQudHlwZSAhPSAnZW51bScgfHwgZmllbGQuZW51bSA9PSB1bmRlZmluZWQgfHwgZmllbGQuZW51bS5sZW5ndGggIT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlID0gJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvVmFsdWVMaXN0L0dyb3VwLyR7ZmllbGQuZW51bVswXS5WYWx1ZX1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuZG9uZShkID0+IHNldE9wdGlvbnMoZC5tYXAoaXRlbSA9PiAoeyBWYWx1ZTogaXRlbS5WYWx1ZS50b1N0cmluZygpLCBMYWJlbDogaXRlbS5UZXh0IH0pKSkpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHsgaWYgKGhhbmRsZSAhPSBudWxsICYmIGhhbmRsZS5hYm9ydCA9PSBudWxsKSBoYW5kbGUuYWJvcnQoKTsgfVxyXG4gICAgICAgICAgICAgICAgfX1cclxuXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm5hdi1pdGVtXCIgc3R5bGU9e3sgd2lkdGg6ICcxNSUnLCBwYWRkaW5nUmlnaHQ6IDEwIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkc2V0IGNsYXNzTmFtZT1cImJvcmRlclwiIHN0eWxlPXt7IHBhZGRpbmc6ICcxMHB4JywgaGVpZ2h0OiAnMTAwJScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxlZ2VuZCBjbGFzc05hbWU9XCJ3LWF1dG9cIiBzdHlsZT17eyBmb250U2l6ZTogJ2xhcmdlJyB9fT5BY3Rpb25zOjwvbGVnZW5kPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmb3JtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIiBoaWRkZW49e3Byb3BzLlJvbGVzLmluZGV4T2YoJ0FkbWluaXN0cmF0b3InKSA8IDAgJiYgcHJvcHMuUm9sZXMuaW5kZXhPZignVHJhbnNtaXNzaW9uIFNNRScpIDwgMH0gb25DbGljaz17KGV2ZW50KSA9PiB7IHNldFNob3dOZXdHcm91cCh0cnVlKSB9fT5BZGQgTmV3IEFzc2V0R3JvdXA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9maWVsZHNldD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDwvU2VhcmNoQmFyPlxyXG5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICdjYWxjKCAxMDAlIC0gMTgwcHgpJyB9fT5cclxuICAgICAgICAgICAgICAgIDxUYWJsZTxBc3NldEdyb3VwPlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbHM9e1tcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdOYW1lJywgbGFiZWw6ICdOYW1lJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdBc3NldHMnLCBsYWJlbDogJ051bS4gb2YgQXNzZXRzJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdNZXRlcnMnLCBsYWJlbDogJ051bS4gb2YgTWV0ZXJzJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdVc2VycycsIGxhYmVsOiAnTnVtLiBvZiBVc2VycycsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiAnQXNzZXRHcm91cHMnLCBsYWJlbDogJ051bS4gb2YgQXNzZXQgR3JvdXBzJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6IG51bGwsIGxhYmVsOiAnJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6IDE3LCBwYWRkaW5nOiAwIH0sIHJvd1N0eWxlOiB7IHdpZHRoOiAwLCBwYWRkaW5nOiAwIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICBdfVxyXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlQ2xhc3M9XCJ0YWJsZSB0YWJsZS1ob3ZlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YT17ZGF0YX1cclxuICAgICAgICAgICAgICAgICAgICBzb3J0RmllbGQ9e3NvcnRGaWVsZH1cclxuICAgICAgICAgICAgICAgICAgICBhc2NlbmRpbmc9e2FzY2VuZGluZ31cclxuICAgICAgICAgICAgICAgICAgICBvblNvcnQ9eyhkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLmNvbCA9PSBzb3J0RmllbGQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBc2NlbmRpbmcoIWFzY2VuZGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXNjZW5kaW5nKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U29ydEZpZWxkKGQuY29sKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VsZWN0fVxyXG4gICAgICAgICAgICAgICAgICAgIHRoZWFkU3R5bGU9e3sgZm9udFNpemU6ICdzbWFsbGVyJywgZGlzcGxheTogJ3RhYmxlJywgdGFibGVMYXlvdXQ6ICdmaXhlZCcsIHdpZHRoOiAnMTAwJScgfX1cclxuICAgICAgICAgICAgICAgICAgICB0Ym9keVN0eWxlPXt7IGRpc3BsYXk6ICdibG9jaycsIG92ZXJmbG93WTogJ3Njcm9sbCcsIG1heEhlaWdodDogd2luZG93LmlubmVySGVpZ2h0IC0gMzAwLCB3aWR0aDogJzEwMCUnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgcm93U3R5bGU9e3sgZm9udFNpemU6ICdzbWFsbGVyJywgZGlzcGxheTogJ3RhYmxlJywgdGFibGVMYXlvdXQ6ICdmaXhlZCcsIHdpZHRoOiAnMTAwJScgfX1cclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZD17KGl0ZW0pID0+IGZhbHNlfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8TW9kYWwgU2l6ZT0neGxnJyBTaG93PXtzaG93TmV3R3JvdXB9IFRpdGxlPXsnQ3JlYXRlIGEgTmV3IEFzc2V0R3JvdXAnfSBTaG93WD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgIENhbmNlbFRleHQ9eydDbG9zZSd9IENhbmNlbEJ0bkNsYXNzPXsnYnRuLWRhbmdlcid9IENvbmZpcm1CdG5DbGFzcz17J2J0bi1zdWNjZXNzJ30gQ29uZmlybVRleHQ9eydBZGQnfVxyXG4gICAgICAgICAgICAgICAgQ2FsbEJhY2s9eyhjb25mKSA9PiB7IGlmIChjb25mKSBhZGROZXdBc3NldEdyb3VwKCk7IGVsc2Ugc2V0TmV3QXNzZXRHcm91cChfLmNsb25lRGVlcChlbXB0eUFzc2V0R3JvdXApKTsgc2V0U2hvd05ld0dyb3VwKGZhbHNlKTsgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQ8ZXh0ZW5kZWRBc3NldEdyb3VwPiBSZWNvcmQ9e25ld0Fzc2V0R3JvdXB9IEZpZWxkPXsnTmFtZSd9IExhYmVsPXsnTmFtZSd9IEZlZWRiYWNrPXsnQSB1bmlxdWUgbmFtZSBvZiBsZXNzIHRoYW4gNTAgY2hhcmFjdGVycyBpcyByZXF1aXJlZC4nfSBWYWxpZD17dmFsaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXR0ZXI9e3NldE5ld0Fzc2V0R3JvdXB9IERpc2FibGVkPXtmYWxzZX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrQm94PGV4dGVuZGVkQXNzZXRHcm91cD4gUmVjb3JkPXtuZXdBc3NldEdyb3VwfSBGaWVsZD17J0Rpc3BsYXlEYXNoYm9hcmQnfSBMYWJlbD17J1Nob3cgQXNzZXQgR3JvdXAgaW4gRGFzaGJvYXJkJ30gU2V0dGVyPXtzZXROZXdBc3NldEdyb3VwfSBEaXNhYmxlZD17ZmFsc2V9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2xcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0PGV4dGVuZGVkQXNzZXRHcm91cD4gUmVjb3JkPXtuZXdBc3NldEdyb3VwfSBGaWVsZD17J0Fzc2V0cyd9IExhYmVsPXsnTnVtLiBvZiBUcmFuc21pc3Npb24gQXNzZXRzJ30gVmFsaWQ9eygpID0+IHRydWV9IFNldHRlcj17c2V0TmV3QXNzZXRHcm91cH0gRGlzYWJsZWQ9e3RydWV9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2tcIiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93QWRkQXNzZXQodHJ1ZSl9PiBBZGQgVHJhbnNtaXNzaW9uIEFzc2V0IDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQ8ZXh0ZW5kZWRBc3NldEdyb3VwPiBSZWNvcmQ9e25ld0Fzc2V0R3JvdXB9IEZpZWxkPXsnTWV0ZXJzJ30gTGFiZWw9eydOdW0uIG9mIE1ldGVycyd9IFZhbGlkPXsoKSA9PiB0cnVlfSBTZXR0ZXI9e3NldE5ld0Fzc2V0R3JvdXB9IERpc2FibGVkPXt0cnVlfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrXCIgb25DbGljaz17KCkgPT4gc2V0U2hvd0FkZE1ldGVyKHRydWUpfT4gQWRkIE1ldGVyIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0PGV4dGVuZGVkQXNzZXRHcm91cD4gUmVjb3JkPXtuZXdBc3NldEdyb3VwfSBGaWVsZD17J1VzZXJzJ30gTGFiZWw9eydOdW0uIG9mIFVzZXJzJ30gVmFsaWQ9eygpID0+IHRydWV9IFNldHRlcj17c2V0TmV3QXNzZXRHcm91cH0gRGlzYWJsZWQ9e3RydWV9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2tcIiBkaXNhYmxlZD17dHJ1ZX0+IEFkZCBVc2VyIEFjY291bnQgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dDxleHRlbmRlZEFzc2V0R3JvdXA+IFJlY29yZD17bmV3QXNzZXRHcm91cH0gRmllbGQ9eydBc3NldEdyb3Vwcyd9IExhYmVsPXsnTnVtLiBvZiBBc3NldCBHcm91cHMnfSBWYWxpZD17KCkgPT4gdHJ1ZX0gU2V0dGVyPXtzZXROZXdBc3NldEdyb3VwfSBEaXNhYmxlZD17dHJ1ZX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiIG9uQ2xpY2s9eygpID0+IHNldFNob3dBZGRHcm91cCh0cnVlKX0+IEFkZCBBc3NldCBHcm91cCA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L01vZGFsPlxyXG4gICAgICAgICAgICA8QWRkVG9Hcm91cFBvcHVwIHR5cGU9J0Fzc2V0JyBvbkNvbXBsZXRlPXsobGlzdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0TmV3QXNzZXRHcm91cCgoZ3JwKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHVwZGF0ZWQgPSBfLmNsb25lRGVlcChncnApO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQuQXNzZXRMaXN0LnB1c2goLi4ubGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZC5Bc3NldExpc3QgPSBfLnVuaXEodXBkYXRlZC5Bc3NldExpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQuQXNzZXRzID0gdXBkYXRlZC5Bc3NldExpc3QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfX0gU2hvdz17c2hvd0FkZEFzc2V0fSBDbG9zZT17KCkgPT4gc2V0U2hvd0FkZEFzc2V0KGZhbHNlKX0gLz5cclxuXHJcbiAgICAgICAgICAgIDxBZGRUb0dyb3VwUG9wdXAgdHlwZT0nTWV0ZXInIG9uQ29tcGxldGU9eyhsaXN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXROZXdBc3NldEdyb3VwKChncnApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdXBkYXRlZCA9IF8uY2xvbmVEZWVwKGdycCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZC5NZXRlckxpc3QucHVzaCguLi5saXN0KTtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkLk1ldGVyTGlzdCA9IF8udW5pcSh1cGRhdGVkLk1ldGVyTGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZC5NZXRlcnMgPSB1cGRhdGVkLk1ldGVyTGlzdC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9fSBTaG93PXtzaG93QWRkTWV0ZXJ9IENsb3NlPXsoKSA9PiBzZXRTaG93QWRkTWV0ZXIoZmFsc2UpfSAvPlxyXG4gICAgICAgICAgICA8QWRkVG9Hcm91cFBvcHVwIHR5cGU9J0dyb3VwJyBvbkNvbXBsZXRlPXsobGlzdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0TmV3QXNzZXRHcm91cCgoZ3JwKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHVwZGF0ZWQgPSBfLmNsb25lRGVlcChncnApO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQuQXNzZXRHcm91cExpc3QucHVzaCguLi5saXN0KTtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkLkFzc2V0R3JvdXBMaXN0ID0gXy51bmlxKHVwZGF0ZWQuQXNzZXRHcm91cExpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQuQXNzZXRHcm91cHMgPSB1cGRhdGVkLkFzc2V0R3JvdXBMaXN0Lmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH19IFNob3c9e3Nob3dBZGRHcm91cH0gQ2xvc2U9eygpID0+IHNldFNob3dBZGRHcm91cChmYWxzZSl9IC8+XHJcblxyXG4gICAgICAgICAgICA8Lz5cclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQnlBc3NldEdyb3VwO1xyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==