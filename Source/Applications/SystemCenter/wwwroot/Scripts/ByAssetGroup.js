(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["ByAssetGroup"],{

/***/ "./TSX/SystemCenter/AssetGroups/ByAssetGroup.tsx":
/*!*******************************************************!*\
  !*** ./TSX/SystemCenter/AssetGroups/ByAssetGroup.tsx ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _gpa_gemstone_react_table__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @gpa-gemstone/react-table */ "../../node_modules/@gpa-gemstone/react-table/lib/index.js");
/* harmony import */ var _gpa_gemstone_react_table__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_gpa_gemstone_react_table__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "../../node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "react-router-dom");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _AddToGroup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AddToGroup */ "./TSX/SystemCenter/AssetGroups/AddToGroup.tsx");
/* harmony import */ var _gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @gpa-gemstone/react-interactive */ "../../node_modules/@gpa-gemstone/react-interactive/lib/index.js");
/* harmony import */ var _gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @gpa-gemstone/react-forms */ "../../node_modules/@gpa-gemstone/react-forms/lib/index.js");
/* harmony import */ var _gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_6__);
//******************************************************************************************************
//  ByAsset.tsx - Gbtc
//
//  Copyright Â© 2020, Grid Protection Alliance.  All Rights Reserved.
//
//  Licensed to the Grid Protection Alliance (GPA) under one or more contributor license agreements. See
//  the NOTICE file distributed with this work for additional information regarding copyright ownership.
//  The GPA licenses this file to you under the MIT License (MIT), the "License"; you may not use this
//  file except in compliance with the License. You may obtain a copy of the License at:
//
//      http://opensource.org/licenses/MIT
//
//  Unless agreed to in writing, the subject software distributed under the License is distributed on an
//  "AS-IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. Refer to the
//  License for the specific language governing permissions and limitations.
//
//  Code Modification History:
//  ----------------------------------------------------------------------------------------------------
//  10/14/2020 - C. Lackner
//       Generated original version of source code.
//
//******************************************************************************************************
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};







var defaultSearchcols = [
    { label: 'Name', key: 'Name', type: 'string' },
    { label: 'Number of Meter', key: 'Meters', type: 'integer' },
    { label: 'Number of Transmission Assets', key: 'Assets', type: 'integer' },
    { label: 'Number of Users', key: 'Users', type: 'integer' },
    { label: 'Show in PQ Dashboard', key: 'DisplayDashboard', type: 'boolean' },
];
var emptyAssetGroup = { ID: -1, Name: '', DisplayDashboard: true, AssetGroups: 0, Meters: 0, Assets: 0, Users: 0, MeterList: [], AssetList: [], UserList: [], AssetGroupList: [] };
var ByAssetGroup = function (props) {
    var history = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["useHistory"])();
    var _a = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"]([]), 2), search = _a[0], setSearch = _a[1];
    var _b = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"]([]), 2), data = _b[0], setData = _b[1];
    var _c = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"]('Name'), 2), sortField = _c[0], setSortField = _c[1];
    var _d = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](true), 2), ascending = _d[0], setAscending = _d[1];
    var _e = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](defaultSearchcols), 2), filterableList = _e[0], setFilterableList = _e[1];
    var _f = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"]('Idle'), 2), searchState = _f[0], setSearchState = _f[1];
    var _g = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](lodash__WEBPACK_IMPORTED_MODULE_2__["cloneDeep"](emptyAssetGroup)), 2), newAssetGroup = _g[0], setNewAssetGroup = _g[1];
    var _h = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"]([]), 2), allAssetGroups = _h[0], setAllAssetGroups = _h[1];
    var _j = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](false), 2), showNewGroup = _j[0], setShowNewGroup = _j[1];
    var _k = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](false), 2), showAddAsset = _k[0], setShowAddAsset = _k[1];
    var _l = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](false), 2), showAddMeter = _l[0], setShowAddMeter = _l[1];
    var _m = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](false), 2), showAddGroup = _m[0], setShowAddGroup = _m[1];
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        var handle2 = getAllAssetGroups();
        handle2.done(function (aas) { return setAllAssetGroups(aas); });
        return function cleanup() {
            if (handle2.abort != null)
                handle2.abort();
        };
    }, []);
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        var handle = getAssetGroups();
        handle.done(function (data) {
            setSearchState('Idle');
            setData(JSON.parse(data));
        }).fail(function (d) { return setSearchState('Error'); });
        return function () {
            if (handle.abort != null)
                handle.abort();
        };
    }, [search, ascending, sortField]);
    function getAssetGroups() {
        setSearchState('Loading');
        var searches = search.map(function (s) { if (defaultSearchcols.findIndex(function (item) { return item.key == s.FieldName; }) == -1)
            return __assign(__assign({}, s), { isPivotColumn: true });
        else
            return s; });
        return $.ajax({
            type: "Post",
            url: homePath + "api/OpenXDA/AssetGroup/SearchableList",
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            data: JSON.stringify({ Searches: searches, OrderBy: sortField, Ascending: ascending }),
            cache: false,
            async: true
        });
    }
    function getAllAssetGroups() {
        return $.ajax({
            type: "GET",
            url: homePath + "api/OpenXDA/AssetGroup",
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            cache: false,
            async: true
        });
    }
    function addNewAssetGroup() {
        $.ajax({
            type: "POST",
            url: homePath + "api/OpenXDA/Assetgroup/Add",
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            data: JSON.stringify(newAssetGroup),
            cache: false,
            async: true
        }).done(function (newAssetGroup) {
            sessionStorage.clear();
            history.push({ pathname: homePath + 'index.cshtml', search: '?name=AssetGroup&AssetGroupID=' + newAssetGroup.ID, state: {} });
        }).fail(function (msg) {
            if (msg.status == 500)
                alert(msg.responseJSON.ExceptionMessage);
        });
    }
    function handleSelect(item) {
        history.push({ pathname: homePath + 'index.cshtml', search: '?name=AssetGroup&AssetGroupID=' + item.row.ID, state: {} });
    }
    function valid(field) {
        if (field == 'Name') {
            if (newAssetGroup.Name == null || newAssetGroup.Name.length == 0)
                return false;
            return allAssetGroups.map(function (item) { return item.Name.toLowerCase(); }).indexOf(newAssetGroup.Name.toLowerCase()) < 0;
        }
        return true;
    }
    var standardSearch = { label: 'Name', key: 'Name', type: 'string' };
    return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null,
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { style: { width: '100%', height: '100%' } },
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_5__["SearchBar"], { CollumnList: filterableList, SetFilter: function (flds) { return setSearch(flds); }, Direction: 'left', defaultCollumn: standardSearch, Width: '50%', Label: 'Search', ShowLoading: searchState == 'Loading', ResultNote: searchState == 'Error' ? 'Could not complete Search' : 'Found ' + data.length + ' Locations', GetEnum: function (setOptions, field) {
                    var handle = null;
                    if (field.type != 'enum' || field.enum == undefined || field.enum.length != 1)
                        return function () { };
                    handle = $.ajax({
                        type: "GET",
                        url: homePath + "api/ValueList/Group/" + field.enum[0].Value,
                        contentType: "application/json; charset=utf-8",
                        dataType: 'json',
                        cache: true,
                        async: true
                    });
                    handle.done(function (d) { return setOptions(d.map(function (item) { return ({ Value: item.Value.toString(), Label: item.Text }); })); });
                    return function () { if (handle != null && handle.abort == null)
                        handle.abort(); };
                } },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("li", { className: "nav-item", style: { width: '15%', paddingRight: 10 } },
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("fieldset", { className: "border", style: { padding: '10px', height: '100%' } },
                        react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("legend", { className: "w-auto", style: { fontSize: 'large' } }, "Actions:"),
                        react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("form", null,
                            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "form-group" },
                                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("button", { className: "btn btn-primary", hidden: props.Roles.indexOf('Administrator') < 0 && props.Roles.indexOf('Transmission SME') < 0, onClick: function (event) { setShowNewGroup(true); } }, "Add New AssetGroup")))))),
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { style: { width: '100%', height: 'calc( 100% - 180px)' } },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_table__WEBPACK_IMPORTED_MODULE_1___default.a, { cols: [
                        { key: 'Name', label: 'Name', headerStyle: { width: 'auto' }, rowStyle: { width: 'auto' } },
                        { key: 'Assets', label: 'Num. of Assets', headerStyle: { width: 'auto' }, rowStyle: { width: 'auto' } },
                        { key: 'Meters', label: 'Num. of Meters', headerStyle: { width: 'auto' }, rowStyle: { width: 'auto' } },
                        { key: 'Users', label: 'Num. of Users', headerStyle: { width: 'auto' }, rowStyle: { width: 'auto' } },
                        { key: 'AssetGroups', label: 'Num. of Asset Groups', headerStyle: { width: 'auto' }, rowStyle: { width: 'auto' } },
                        { key: null, label: '', headerStyle: { width: 17, padding: 0 }, rowStyle: { width: 0, padding: 0 } },
                    ], tableClass: "table table-hover", data: data, sortField: sortField, ascending: ascending, onSort: function (d) {
                        if (d.col == sortField)
                            setAscending(!ascending);
                        else {
                            setAscending(true);
                            setSortField(d.col);
                        }
                    }, onClick: handleSelect, theadStyle: { fontSize: 'smaller', display: 'table', tableLayout: 'fixed', width: '100%' }, tbodyStyle: { display: 'block', overflowY: 'scroll', maxHeight: window.innerHeight - 300, width: '100%' }, rowStyle: { fontSize: 'smaller', display: 'table', tableLayout: 'fixed', width: '100%' }, selected: function (item) { return false; } }))),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_5__["Modal"], { Size: 'xlg', Show: showNewGroup, Title: 'Create a New AssetGroup', ShowX: true, CancelText: 'Close', CancelBtnClass: 'btn-danger', ConfirmBtnClass: 'btn-success', ConfirmText: 'Add', CallBack: function (conf) { if (conf)
                addNewAssetGroup();
            else
                setNewAssetGroup(lodash__WEBPACK_IMPORTED_MODULE_2__["cloneDeep"](emptyAssetGroup)); setShowNewGroup(false); } },
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "row" },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "col" },
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_6__["Input"], { Record: newAssetGroup, Field: 'Name', Label: 'Name', Feedback: 'A unique name of less than 50 characters is required.', Valid: valid, Setter: setNewAssetGroup, Disabled: false }),
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_6__["CheckBox"], { Record: newAssetGroup, Field: 'DisplayDashboard', Label: 'Show Asset Group in Dashboard', Setter: setNewAssetGroup, Disabled: false })),
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "col" },
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_6__["Input"], { Record: newAssetGroup, Field: 'Assets', Label: 'Num. of Transmission Assets', Valid: function () { return true; }, Setter: setNewAssetGroup, Disabled: true }),
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("button", { type: "button", className: "btn btn-primary btn-block", onClick: function () { return setShowAddAsset(true); } }, " Add Transmission Asset "),
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_6__["Input"], { Record: newAssetGroup, Field: 'Meters', Label: 'Num. of Meters', Valid: function () { return true; }, Setter: setNewAssetGroup, Disabled: true }),
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("button", { type: "button", className: "btn btn-primary btn-block", onClick: function () { return setShowAddMeter(true); } }, " Add Meter "),
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_6__["Input"], { Record: newAssetGroup, Field: 'Users', Label: 'Num. of Users', Valid: function () { return true; }, Setter: setNewAssetGroup, Disabled: true }),
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("button", { type: "button", className: "btn btn-primary btn-block", disabled: true }, " Add User Account "),
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_6__["Input"], { Record: newAssetGroup, Field: 'AssetGroups', Label: 'Num. of Asset Groups', Valid: function () { return true; }, Setter: setNewAssetGroup, Disabled: true }),
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("button", { type: "button", className: "btn btn-primary btn-block", onClick: function () { return setShowAddGroup(true); } }, " Add Asset Group ")))),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_AddToGroup__WEBPACK_IMPORTED_MODULE_4__["default"], { type: 'Asset', onComplete: function (list) {
                setNewAssetGroup(function (grp) {
                    var _a;
                    var updated = lodash__WEBPACK_IMPORTED_MODULE_2__["cloneDeep"](grp);
                    (_a = updated.AssetList).push.apply(_a, __spread(list));
                    updated.AssetList = lodash__WEBPACK_IMPORTED_MODULE_2__["uniq"](updated.AssetList);
                    updated.Assets = updated.AssetList.length;
                    return updated;
                });
                return null;
            }, Show: showAddAsset, Close: function () { return setShowAddAsset(false); } }),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_AddToGroup__WEBPACK_IMPORTED_MODULE_4__["default"], { type: 'Meter', onComplete: function (list) {
                setNewAssetGroup(function (grp) {
                    var _a;
                    var updated = lodash__WEBPACK_IMPORTED_MODULE_2__["cloneDeep"](grp);
                    (_a = updated.MeterList).push.apply(_a, __spread(list));
                    updated.MeterList = lodash__WEBPACK_IMPORTED_MODULE_2__["uniq"](updated.MeterList);
                    updated.Meters = updated.MeterList.length;
                    return updated;
                });
                return null;
            }, Show: showAddMeter, Close: function () { return setShowAddMeter(false); } }),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_AddToGroup__WEBPACK_IMPORTED_MODULE_4__["default"], { type: 'Group', onComplete: function (list) {
                setNewAssetGroup(function (grp) {
                    var _a;
                    var updated = lodash__WEBPACK_IMPORTED_MODULE_2__["cloneDeep"](grp);
                    (_a = updated.AssetGroupList).push.apply(_a, __spread(list));
                    updated.AssetGroupList = lodash__WEBPACK_IMPORTED_MODULE_2__["uniq"](updated.AssetGroupList);
                    updated.AssetGroups = updated.AssetGroupList.length;
                    return updated;
                });
                return null;
            }, Show: showAddGroup, Close: function () { return setShowAddGroup(false); } })));
};
/* harmony default export */ __webpack_exports__["default"] = (ByAssetGroup);


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9UU1gvU3lzdGVtQ2VudGVyL0Fzc2V0R3JvdXBzL0J5QXNzZXRHcm91cC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSx3R0FBd0c7QUFDeEcsc0JBQXNCO0FBQ3RCLEVBQUU7QUFDRixxRUFBcUU7QUFDckUsRUFBRTtBQUNGLHdHQUF3RztBQUN4Ryx3R0FBd0c7QUFDeEcsc0dBQXNHO0FBQ3RHLHdGQUF3RjtBQUN4RixFQUFFO0FBQ0YsMENBQTBDO0FBQzFDLEVBQUU7QUFDRix3R0FBd0c7QUFDeEcsd0dBQXdHO0FBQ3hHLDRFQUE0RTtBQUM1RSxFQUFFO0FBQ0YsOEJBQThCO0FBQzlCLHdHQUF3RztBQUN4RywyQkFBMkI7QUFDM0IsbURBQW1EO0FBQ25ELEVBQUU7QUFDRix3R0FBd0c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXpFO0FBQ2U7QUFDbEI7QUFDa0I7QUFJSDtBQUNnQztBQUVmO0FBSzVELElBQU0saUJBQWlCLEdBQXFDO0lBQ3hELEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUU7SUFDOUMsRUFBRSxLQUFLLEVBQUUsaUJBQWlCLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFO0lBQzVELEVBQUUsS0FBSyxFQUFFLCtCQUErQixFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRTtJQUMxRSxFQUFFLEtBQUssRUFBRSxpQkFBaUIsRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUU7SUFDM0QsRUFBRSxLQUFLLEVBQUUsc0JBQXNCLEVBQUUsR0FBRyxFQUFFLGtCQUFrQixFQUFFLElBQUks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Q2hCLENBQUMsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxjQUFNLHNCQUFlLENBQUMsS0FBSyxDQUFDLEVBQXRCLENBQXNCLEdBQUksQ0FFM0QsQ0FDVjtBQUNMLENBQUM7QUFFYywyRUFBWSxFQUFDIiwiZmlsZSI6IkJ5QXNzZXRHcm91cC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbi8vICBCeUFzc2V0LnRzeCAtIEdidGNcclxuLy9cclxuLy8gIENvcHlyaWdodCDCqSAyMDIwLCBHcmlkIFByb3RlY3Rpb24gQWxsaWFuY2UuICBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4vL1xyXG4vLyAgTGljZW5zZWQgdG8gdGhlIEdyaWQgUHJvdGVjdGlvbiBBbGxpYW5jZSAoR1BBKSB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuIFNlZVxyXG4vLyAgdGhlIE5PVElDRSBmaWxlIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLlxyXG4vLyAgVGhlIEdQQSBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgdGhlIFwiTGljZW5zZVwiOyB5b3UgbWF5IG5vdCB1c2UgdGhpc1xyXG4vLyAgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XHJcbi8vXHJcbi8vICAgICAgaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxyXG4vL1xyXG4vLyAgVW5sZXNzIGFncmVlZCB0byBpbiB3cml0aW5nLCB0aGUgc3ViamVjdCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxyXG4vLyAgXCJBUy1JU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gUmVmZXIgdG8gdGhlXHJcbi8vICBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucy5cclxuLy9cclxuLy8gIENvZGUgTW9kaWZpY2F0aW9uIEhpc3Rvcnk6XHJcbi8vICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAxMC8xNC8yMDIwIC0gQy4gTGFja25lclxyXG4vLyAgICAgICBHZW5lcmF0ZWQgb3JpZ2luYWwgdmVyc2lvbiBvZiBzb3VyY2UgY29kZS5cclxuLy9cclxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFRhYmxlIGZyb20gJ0BncGEtZ2Vtc3RvbmUvcmVhY3QtdGFibGUnO1xyXG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XHJcbmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xyXG5pbXBvcnQgeyBPcGVuWERBLCBTeXN0ZW1DZW50ZXIgfSBmcm9tICcuLi9nbG9iYWwnO1xyXG5pbXBvcnQgRm9ybUlucHV0IGZyb20gJy4uL0NvbW1vbkNvbXBvbmVudHMvRm9ybUlucHV0JztcclxuaW1wb3J0IEZvcm1DaGVja0JveCBmcm9tICcuLi9Db21tb25Db21wb25lbnRzL0Zvcm1DaGVja0JveCc7XHJcbmltcG9ydCBBZGRUb0dyb3VwUG9wdXAgZnJvbSAnLi9BZGRUb0dyb3VwJztcclxuaW1wb3J0IHsgU2VhcmNoQmFyLCBTZWFyY2gsIE1vZGFsIH0gZnJvbSAnQGdwYS1nZW1zdG9uZS9yZWFjdC1pbnRlcmFjdGl2ZSc7XHJcbmltcG9ydCBBc3NldEdyb3VwIGZyb20gJy4vQXNzZXRHcm91cCc7XHJcbmltcG9ydCB7IENoZWNrQm94LCBJbnB1dCB9IGZyb20gJ0BncGEtZ2Vtc3RvbmUvcmVhY3QtZm9ybXMnO1xyXG5cclxuZGVjbGFyZSB2YXIgaG9tZVBhdGg6IHN0cmluZztcclxuXHJcblxyXG5jb25zdCBkZWZhdWx0U2VhcmNoY29sczogQXJyYXk8U2VhcmNoLklGaWVsZDxBc3NldEdyb3VwPj4gPSBbXHJcbiAgICB7IGxhYmVsOiAnTmFtZScsIGtleTogJ05hbWUnLCB0eXBlOiAnc3RyaW5nJyB9LFxyXG4gICAgeyBsYWJlbDogJ051bWJlciBvZiBNZXRlcicsIGtleTogJ01ldGVycycsIHR5cGU6ICdpbnRlZ2VyJyB9LFxyXG4gICAgeyBsYWJlbDogJ051bWJlciBvZiBUcmFuc21pc3Npb24gQXNzZXRzJywga2V5OiAnQXNzZXRzJywgdHlwZTogJ2ludGVnZXInIH0sXHJcbiAgICB7IGxhYmVsOiAnTnVtYmVyIG9mIFVzZXJzJywga2V5OiAnVXNlcnMnLCB0eXBlOiAnaW50ZWdlcicgfSxcclxuICAgIHsgbGFiZWw6ICdTaG93IGluIFBRIERhc2hib2FyZCcsIGtleTogJ0Rpc3BsYXlEYXNoYm9hcmQnLCB0eXBlOiAnYm9vbGVhbicgfSxcclxuICAgICAgICBcclxuXTtcclxuXHJcbmludGVyZmFjZSBBc3NldEdyb3VwIHtcclxuICAgIElEOiBudW1iZXIsIE5hbWU6IHN0cmluZywgRGlzcGxheURhc2hib2FyZDogYm9vbGVhbiwgQXNzZXRHcm91cHM6IG51bWJlciwgTWV0ZXJzOiBudW1iZXIsIEFzc2V0czogbnVtYmVyLCBVc2VyczogbnVtYmVyXHJcbn1cclxuXHJcbmludGVyZmFjZSBleHRlbmRlZEFzc2V0R3JvdXAgZXh0ZW5kcyBBc3NldEdyb3VwIHsgTWV0ZXJMaXN0OiBBcnJheTxudW1iZXI+LCBBc3NldExpc3Q6IEFycmF5PG51bWJlcj4sIFVzZXJMaXN0OiBBcnJheTxudW1iZXI+LCBBc3NldEdyb3VwTGlzdDogQXJyYXk8bnVtYmVyPiB9XHJcblxyXG5jb25zdCBlbXB0eUFzc2V0R3JvdXA6IGV4dGVuZGVkQXNzZXRHcm91cCA9IHsgSUQ6IC0xLCBOYW1lOiAnJywgRGlzcGxheURhc2hib2FyZDogdHJ1ZSwgQXNzZXRHcm91cHM6IDAsIE1ldGVyczogMCwgQXNzZXRzOiAwLCBVc2VyczogMCwgTWV0ZXJMaXN0OiBbXSwgQXNzZXRMaXN0OiBbXSwgVXNlckxpc3Q6IFtdLCBBc3NldEdyb3VwTGlzdDogW10gfTtcclxuXHJcbmRlY2xhcmUgdmFyIGhvbWVQYXRoOiBzdHJpbmc7XHJcblxyXG5jb25zdCBCeUFzc2V0R3JvdXA6IFN5c3RlbUNlbnRlci5CeUNvbXBvbmVudCA9IChwcm9wcykgPT4ge1xyXG4gICAgbGV0IGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7XHJcblxyXG4gICAgY29uc3QgW3NlYXJjaCwgc2V0U2VhcmNoXSA9IFJlYWN0LnVzZVN0YXRlPEFycmF5PFNlYXJjaC5JRmlsdGVyPEFzc2V0R3JvdXA+Pj4oW10pO1xyXG4gICAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gUmVhY3QudXNlU3RhdGU8QXJyYXk8QXNzZXRHcm91cD4+KFtdKTtcclxuICAgIGNvbnN0IFtzb3J0RmllbGQsIHNldFNvcnRGaWVsZF0gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmc+KCdOYW1lJyk7XHJcbiAgICBjb25zdCBbYXNjZW5kaW5nLCBzZXRBc2NlbmRpbmddID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSk7XHJcbiAgICBjb25zdCBbZmlsdGVyYWJsZUxpc3QsIHNldEZpbHRlcmFibGVMaXN0XSA9IFJlYWN0LnVzZVN0YXRlPEFycmF5PFNlYXJjaC5JRmllbGQ8QXNzZXRHcm91cD4+PihkZWZhdWx0U2VhcmNoY29scyk7XHJcbiAgICBjb25zdCBbc2VhcmNoU3RhdGUsIHNldFNlYXJjaFN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlPCgnSWRsZScgfCAnTG9hZGluZycgfCAnRXJyb3InKT4oJ0lkbGUnKTtcclxuXHJcblxyXG4gICAgY29uc3QgW25ld0Fzc2V0R3JvdXAsIHNldE5ld0Fzc2V0R3JvdXBdID0gUmVhY3QudXNlU3RhdGU8ZXh0ZW5kZWRBc3NldEdyb3VwPihfLmNsb25lRGVlcChlbXB0eUFzc2V0R3JvdXApKTtcclxuICAgIGNvbnN0IFthbGxBc3NldEdyb3Vwcywgc2V0QWxsQXNzZXRHcm91cHNdID0gUmVhY3QudXNlU3RhdGU8QXJyYXk8QXNzZXRHcm91cD4+KFtdKTtcclxuICAgIGNvbnN0IFtzaG93TmV3R3JvdXAsIHNldFNob3dOZXdHcm91cF0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XHJcblxyXG4gICAgY29uc3QgW3Nob3dBZGRBc3NldCwgc2V0U2hvd0FkZEFzc2V0XSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcclxuICAgIGNvbnN0IFtzaG93QWRkTWV0ZXIsIHNldFNob3dBZGRNZXRlcl0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XHJcbiAgICBjb25zdCBbc2hvd0FkZEdyb3VwLCBzZXRTaG93QWRkR3JvdXBdID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xyXG5cclxuXHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGxldCBoYW5kbGUyID0gZ2V0QWxsQXNzZXRHcm91cHMoKTtcclxuICAgICAgICBoYW5kbGUyLmRvbmUoYWFzID0+IHNldEFsbEFzc2V0R3JvdXBzKGFhcykpO1xyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNsZWFudXAoKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoaGFuZGxlMi5hYm9ydCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgaGFuZGxlMi5hYm9ydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtdKTtcclxuXHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGxldCBoYW5kbGUgPSBnZXRBc3NldEdyb3VwcygpO1xyXG5cclxuICAgICAgICBoYW5kbGUuZG9uZSgoZGF0YTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIHNldFNlYXJjaFN0YXRlKCdJZGxlJyk7XHJcbiAgICAgICAgICAgIHNldERhdGEoSlNPTi5wYXJzZShkYXRhKSBhcyBBc3NldEdyb3VwW10pXHJcbiAgICAgICAgfSkuZmFpbCgoZCkgPT4gc2V0U2VhcmNoU3RhdGUoJ0Vycm9yJykpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChoYW5kbGUuYWJvcnQgIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIGhhbmRsZS5hYm9ydCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgfSwgW3NlYXJjaCwgYXNjZW5kaW5nLCBzb3J0RmllbGRdKTtcclxuXHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGdldEFzc2V0R3JvdXBzKCk6IEpRdWVyeVhIUiB7XHJcbiAgICAgICAgc2V0U2VhcmNoU3RhdGUoJ0xvYWRpbmcnKTtcclxuICAgICAgICBsZXQgc2VhcmNoZXMgPSBzZWFyY2gubWFwKHMgPT4geyBpZiAoZGVmYXVsdFNlYXJjaGNvbHMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5rZXkgPT0gcy5GaWVsZE5hbWUpID09IC0xKSByZXR1cm4geyAuLi5zLCBpc1Bpdm90Q29sdW1uOiB0cnVlIH07IGVsc2UgcmV0dXJuIHM7IH0pXHJcblxyXG4gICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBvc3RcIixcclxuICAgICAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvT3BlblhEQS9Bc3NldEdyb3VwL1NlYXJjaGFibGVMaXN0YCxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7IFNlYXJjaGVzOiBzZWFyY2hlcywgT3JkZXJCeTogc29ydEZpZWxkLCBBc2NlbmRpbmc6IGFzY2VuZGluZyB9KSxcclxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEFsbEFzc2V0R3JvdXBzKCk6IEpRdWVyeVhIUiB7XHJcbiAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIHVybDogYCR7aG9tZVBhdGh9YXBpL09wZW5YREEvQXNzZXRHcm91cGAsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkTmV3QXNzZXRHcm91cCgpIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvT3BlblhEQS9Bc3NldGdyb3VwL0FkZGAsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkobmV3QXNzZXRHcm91cCksXHJcbiAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgICAgICAgYXN5bmM6IHRydWVcclxuICAgICAgICB9KS5kb25lKChuZXdBc3NldEdyb3VwOiBPcGVuWERBLkFzc2V0R3JvdXApID0+IHtcclxuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTtcclxuICAgICAgICAgICAgaGlzdG9yeS5wdXNoKHsgcGF0aG5hbWU6IGhvbWVQYXRoICsgJ2luZGV4LmNzaHRtbCcsIHNlYXJjaDogJz9uYW1lPUFzc2V0R3JvdXAmQXNzZXRHcm91cElEPScgKyBuZXdBc3NldEdyb3VwLklELCBzdGF0ZToge30gfSlcclxuICAgICAgICB9KS5mYWlsKChtc2cpID0+IHtcclxuICAgICAgICAgICAgaWYgKG1zZy5zdGF0dXMgPT0gNTAwKVxyXG4gICAgICAgICAgICAgICAgYWxlcnQobXNnLnJlc3BvbnNlSlNPTi5FeGNlcHRpb25NZXNzYWdlKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVTZWxlY3QoaXRlbSkge1xyXG4gICAgICAgIGhpc3RvcnkucHVzaCh7IHBhdGhuYW1lOiBob21lUGF0aCArICdpbmRleC5jc2h0bWwnLCBzZWFyY2g6ICc/bmFtZT1Bc3NldEdyb3VwJkFzc2V0R3JvdXBJRD0nICsgaXRlbS5yb3cuSUQsIHN0YXRlOiB7fSB9KVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHZhbGlkKGZpZWxkOiBrZXlvZiAoT3BlblhEQS5Bc3NldEdyb3VwKSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmIChmaWVsZCA9PSAnTmFtZScpIHtcclxuICAgICAgICAgICAgaWYgKG5ld0Fzc2V0R3JvdXAuTmFtZSA9PSBudWxsIHx8IG5ld0Fzc2V0R3JvdXAuTmFtZS5sZW5ndGggPT0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gYWxsQXNzZXRHcm91cHMubWFwKGl0ZW0gPT4gaXRlbS5OYW1lLnRvTG93ZXJDYXNlKCkpLmluZGV4T2YobmV3QXNzZXRHcm91cC5OYW1lLnRvTG93ZXJDYXNlKCkpIDwgMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3RhbmRhcmRTZWFyY2g6IFNlYXJjaC5JRmllbGQ8QXNzZXRHcm91cD4gPSB7IGxhYmVsOiAnTmFtZScsIGtleTogJ05hbWUnLCB0eXBlOiAnc3RyaW5nJyB9O1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnMTAwJScgfX0+XHJcbiAgICAgICAgICAgIDxTZWFyY2hCYXI8QXNzZXRHcm91cD4gQ29sbHVtbkxpc3Q9e2ZpbHRlcmFibGVMaXN0fSBTZXRGaWx0ZXI9eyhmbGRzKSA9PiBzZXRTZWFyY2goZmxkcyl9IERpcmVjdGlvbj17J2xlZnQnfSBkZWZhdWx0Q29sbHVtbj17c3RhbmRhcmRTZWFyY2h9IFdpZHRoPXsnNTAlJ30gTGFiZWw9eydTZWFyY2gnfVxyXG4gICAgICAgICAgICAgICAgU2hvd0xvYWRpbmc9e3NlYXJjaFN0YXRlID09ICdMb2FkaW5nJ30gUmVzdWx0Tm90ZT17c2VhcmNoU3RhdGUgPT0gJ0Vycm9yJyA/ICdDb3VsZCBub3QgY29tcGxldGUgU2VhcmNoJyA6ICdGb3VuZCAnICsgZGF0YS5sZW5ndGggKyAnIExvY2F0aW9ucyd9XHJcbiAgICAgICAgICAgICAgICBHZXRFbnVtPXsoc2V0T3B0aW9ucywgZmllbGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaGFuZGxlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQudHlwZSAhPSAnZW51bScgfHwgZmllbGQuZW51bSA9PSB1bmRlZmluZWQgfHwgZmllbGQuZW51bS5sZW5ndGggIT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlID0gJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvVmFsdWVMaXN0L0dyb3VwLyR7ZmllbGQuZW51bVswXS5WYWx1ZX1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuZG9uZShkID0+IHNldE9wdGlvbnMoZC5tYXAoaXRlbSA9PiAoeyBWYWx1ZTogaXRlbS5WYWx1ZS50b1N0cmluZygpLCBMYWJlbDogaXRlbS5UZXh0IH0pKSkpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHsgaWYgKGhhbmRsZSAhPSBudWxsICYmIGhhbmRsZS5hYm9ydCA9PSBudWxsKSBoYW5kbGUuYWJvcnQoKTsgfVxyXG4gICAgICAgICAgICAgICAgfX1cclxuXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm5hdi1pdGVtXCIgc3R5bGU9e3sgd2lkdGg6ICcxNSUnLCBwYWRkaW5nUmlnaHQ6IDEwIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkc2V0IGNsYXNzTmFtZT1cImJvcmRlclwiIHN0eWxlPXt7IHBhZGRpbmc6ICcxMHB4JywgaGVpZ2h0OiAnMTAwJScgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxlZ2VuZCBjbGFzc05hbWU9XCJ3LWF1dG9cIiBzdHlsZT17eyBmb250U2l6ZTogJ2xhcmdlJyB9fT5BY3Rpb25zOjwvbGVnZW5kPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmb3JtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIiBoaWRkZW49e3Byb3BzLlJvbGVzLmluZGV4T2YoJ0FkbWluaXN0cmF0b3InKSA8IDAgJiYgcHJvcHMuUm9sZXMuaW5kZXhPZignVHJhbnNtaXNzaW9uIFNNRScpIDwgMH0gb25DbGljaz17KGV2ZW50KSA9PiB7IHNldFNob3dOZXdHcm91cCh0cnVlKSB9fT5BZGQgTmV3IEFzc2V0R3JvdXA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9maWVsZHNldD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgIDwvU2VhcmNoQmFyPlxyXG5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICdjYWxjKCAxMDAlIC0gMTgwcHgpJyB9fT5cclxuICAgICAgICAgICAgICAgIDxUYWJsZTxBc3NldEdyb3VwPlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbHM9e1tcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdOYW1lJywgbGFiZWw6ICdOYW1lJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdBc3NldHMnLCBsYWJlbDogJ051bS4gb2YgQXNzZXRzJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdNZXRlcnMnLCBsYWJlbDogJ051bS4gb2YgTWV0ZXJzJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdVc2VycycsIGxhYmVsOiAnTnVtLiBvZiBVc2VycycsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiAnQXNzZXRHcm91cHMnLCBsYWJlbDogJ051bS4gb2YgQXNzZXQgR3JvdXBzJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6IG51bGwsIGxhYmVsOiAnJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6IDE3LCBwYWRkaW5nOiAwIH0sIHJvd1N0eWxlOiB7IHdpZHRoOiAwLCBwYWRkaW5nOiAwIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICBdfVxyXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlQ2xhc3M9XCJ0YWJsZSB0YWJsZS1ob3ZlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YT17ZGF0YX1cclxuICAgICAgICAgICAgICAgICAgICBzb3J0RmllbGQ9e3NvcnRGaWVsZH1cclxuICAgICAgICAgICAgICAgICAgICBhc2NlbmRpbmc9e2FzY2VuZGluZ31cclxuICAgICAgICAgICAgICAgICAgICBvblNvcnQ9eyhkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLmNvbCA9PSBzb3J0RmllbGQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBc2NlbmRpbmcoIWFzY2VuZGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXNjZW5kaW5nKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U29ydEZpZWxkKGQuY29sKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VsZWN0fVxyXG4gICAgICAgICAgICAgICAgICAgIHRoZWFkU3R5bGU9e3sgZm9udFNpemU6ICdzbWFsbGVyJywgZGlzcGxheTogJ3RhYmxlJywgdGFibGVMYXlvdXQ6ICdmaXhlZCcsIHdpZHRoOiAnMTAwJScgfX1cclxuICAgICAgICAgICAgICAgICAgICB0Ym9keVN0eWxlPXt7IGRpc3BsYXk6ICdibG9jaycsIG92ZXJmbG93WTogJ3Njcm9sbCcsIG1heEhlaWdodDogd2luZG93LmlubmVySGVpZ2h0IC0gMzAwLCB3aWR0aDogJzEwMCUnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgcm93U3R5bGU9e3sgZm9udFNpemU6ICdzbWFsbGVyJywgZGlzcGxheTogJ3RhYmxlJywgdGFibGVMYXlvdXQ6ICdmaXhlZCcsIHdpZHRoOiAnMTAwJScgfX1cclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZD17KGl0ZW0pID0+IGZhbHNlfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8TW9kYWwgU2l6ZT0neGxnJyBTaG93PXtzaG93TmV3R3JvdXB9IFRpdGxlPXsnQ3JlYXRlIGEgTmV3IEFzc2V0R3JvdXAnfSBTaG93WD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgIENhbmNlbFRleHQ9eydDbG9zZSd9IENhbmNlbEJ0bkNsYXNzPXsnYnRuLWRhbmdlcid9IENvbmZpcm1CdG5DbGFzcz17J2J0bi1zdWNjZXNzJ30gQ29uZmlybVRleHQ9eydBZGQnfVxyXG4gICAgICAgICAgICAgICAgQ2FsbEJhY2s9eyhjb25mKSA9PiB7IGlmIChjb25mKSBhZGROZXdBc3NldEdyb3VwKCk7IGVsc2Ugc2V0TmV3QXNzZXRHcm91cChfLmNsb25lRGVlcChlbXB0eUFzc2V0R3JvdXApKTsgc2V0U2hvd05ld0dyb3VwKGZhbHNlKTsgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQ8ZXh0ZW5kZWRBc3NldEdyb3VwPiBSZWNvcmQ9e25ld0Fzc2V0R3JvdXB9IEZpZWxkPXsnTmFtZSd9IExhYmVsPXsnTmFtZSd9IEZlZWRiYWNrPXsnQSB1bmlxdWUgbmFtZSBvZiBsZXNzIHRoYW4gNTAgY2hhcmFjdGVycyBpcyByZXF1aXJlZC4nfSBWYWxpZD17dmFsaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXR0ZXI9e3NldE5ld0Fzc2V0R3JvdXB9IERpc2FibGVkPXtmYWxzZX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrQm94PGV4dGVuZGVkQXNzZXRHcm91cD4gUmVjb3JkPXtuZXdBc3NldEdyb3VwfSBGaWVsZD17J0Rpc3BsYXlEYXNoYm9hcmQnfSBMYWJlbD17J1Nob3cgQXNzZXQgR3JvdXAgaW4gRGFzaGJvYXJkJ30gU2V0dGVyPXtzZXROZXdBc3NldEdyb3VwfSBEaXNhYmxlZD17ZmFsc2V9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2xcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0PGV4dGVuZGVkQXNzZXRHcm91cD4gUmVjb3JkPXtuZXdBc3NldEdyb3VwfSBGaWVsZD17J0Fzc2V0cyd9IExhYmVsPXsnTnVtLiBvZiBUcmFuc21pc3Npb24gQXNzZXRzJ30gVmFsaWQ9eygpID0+IHRydWV9IFNldHRlcj17c2V0TmV3QXNzZXRHcm91cH0gRGlzYWJsZWQ9e3RydWV9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2tcIiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93QWRkQXNzZXQodHJ1ZSl9PiBBZGQgVHJhbnNtaXNzaW9uIEFzc2V0IDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQ8ZXh0ZW5kZWRBc3NldEdyb3VwPiBSZWNvcmQ9e25ld0Fzc2V0R3JvdXB9IEZpZWxkPXsnTWV0ZXJzJ30gTGFiZWw9eydOdW0uIG9mIE1ldGVycyd9IFZhbGlkPXsoKSA9PiB0cnVlfSBTZXR0ZXI9e3NldE5ld0Fzc2V0R3JvdXB9IERpc2FibGVkPXt0cnVlfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrXCIgb25DbGljaz17KCkgPT4gc2V0U2hvd0FkZE1ldGVyKHRydWUpfT4gQWRkIE1ldGVyIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0PGV4dGVuZGVkQXNzZXRHcm91cD4gUmVjb3JkPXtuZXdBc3NldEdyb3VwfSBGaWVsZD17J1VzZXJzJ30gTGFiZWw9eydOdW0uIG9mIFVzZXJzJ30gVmFsaWQ9eygpID0+IHRydWV9IFNldHRlcj17c2V0TmV3QXNzZXRHcm91cH0gRGlzYWJsZWQ9e3RydWV9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2tcIiBkaXNhYmxlZD17dHJ1ZX0+IEFkZCBVc2VyIEFjY291bnQgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dDxleHRlbmRlZEFzc2V0R3JvdXA+IFJlY29yZD17bmV3QXNzZXRHcm91cH0gRmllbGQ9eydBc3NldEdyb3Vwcyd9IExhYmVsPXsnTnVtLiBvZiBBc3NldCBHcm91cHMnfSBWYWxpZD17KCkgPT4gdHJ1ZX0gU2V0dGVyPXtzZXROZXdBc3NldEdyb3VwfSBEaXNhYmxlZD17dHJ1ZX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiIG9uQ2xpY2s9eygpID0+IHNldFNob3dBZGRHcm91cCh0cnVlKX0+IEFkZCBBc3NldCBHcm91cCA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L01vZGFsPlxyXG4gICAgICAgICAgICA8QWRkVG9Hcm91cFBvcHVwIHR5cGU9J0Fzc2V0JyBvbkNvbXBsZXRlPXsobGlzdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0TmV3QXNzZXRHcm91cCgoZ3JwKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHVwZGF0ZWQgPSBfLmNsb25lRGVlcChncnApO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQuQXNzZXRMaXN0LnB1c2goLi4ubGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZC5Bc3NldExpc3QgPSBfLnVuaXEodXBkYXRlZC5Bc3NldExpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQuQXNzZXRzID0gdXBkYXRlZC5Bc3NldExpc3QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfX0gU2hvdz17c2hvd0FkZEFzc2V0fSBDbG9zZT17KCkgPT4gc2V0U2hvd0FkZEFzc2V0KGZhbHNlKX0gLz5cclxuXHJcbiAgICAgICAgICAgIDxBZGRUb0dyb3VwUG9wdXAgdHlwZT0nTWV0ZXInIG9uQ29tcGxldGU9eyhsaXN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXROZXdBc3NldEdyb3VwKChncnApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdXBkYXRlZCA9IF8uY2xvbmVEZWVwKGdycCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZC5NZXRlckxpc3QucHVzaCguLi5saXN0KTtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkLk1ldGVyTGlzdCA9IF8udW5pcSh1cGRhdGVkLk1ldGVyTGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZC5NZXRlcnMgPSB1cGRhdGVkLk1ldGVyTGlzdC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9fSBTaG93PXtzaG93QWRkTWV0ZXJ9IENsb3NlPXsoKSA9PiBzZXRTaG93QWRkTWV0ZXIoZmFsc2UpfSAvPlxyXG4gICAgICAgICAgICA8QWRkVG9Hcm91cFBvcHVwIHR5cGU9J0dyb3VwJyBvbkNvbXBsZXRlPXsobGlzdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0TmV3QXNzZXRHcm91cCgoZ3JwKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHVwZGF0ZWQgPSBfLmNsb25lRGVlcChncnApO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQuQXNzZXRHcm91cExpc3QucHVzaCguLi5saXN0KTtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkLkFzc2V0R3JvdXBMaXN0ID0gXy51bmlxKHVwZGF0ZWQuQXNzZXRHcm91cExpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQuQXNzZXRHcm91cHMgPSB1cGRhdGVkLkFzc2V0R3JvdXBMaXN0Lmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH19IFNob3c9e3Nob3dBZGRHcm91cH0gQ2xvc2U9eygpID0+IHNldFNob3dBZGRHcm91cChmYWxzZSl9IC8+XHJcblxyXG4gICAgICAgICAgICA8Lz5cclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQnlBc3NldEdyb3VwO1xyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==