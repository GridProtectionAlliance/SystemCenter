(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["Asset~Company~Customer~Location~Meter"],{

/***/ "./TSX/SystemCenter/CommonComponents/AdditionalFieldsWindow.tsx":
/*!**********************************************************************!*\
  !*** ./TSX/SystemCenter/CommonComponents/AdditionalFieldsWindow.tsx ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ "../../node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _AssetAttribute_Asset__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../AssetAttribute/Asset */ "./TSX/SystemCenter/AssetAttribute/Asset.tsx");
/* harmony import */ var _gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @gpa-gemstone/react-interactive */ "../../node_modules/@gpa-gemstone/react-interactive/lib/index.js");
/* harmony import */ var _gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @gpa-gemstone/react-forms */ "../../node_modules/@gpa-gemstone/react-forms/lib/index.js");
/* harmony import */ var _gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _gpa_gemstone_react_table__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @gpa-gemstone/react-table */ "../../node_modules/@gpa-gemstone/react-table/lib/index.js");
/* harmony import */ var _gpa_gemstone_react_table__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_gpa_gemstone_react_table__WEBPACK_IMPORTED_MODULE_5__);
//******************************************************************************************************
//  AdditionalFieldsWindow.tsx - Gbtc
//
//  Copyright © 2020, Grid Protection Alliance.  All Rights Reserved.
//
//  Licensed to the Grid Protection Alliance (GPA) under one or more contributor license agreements. See
//  the NOTICE file distributed with this work for additional information regarding copyright ownership.
//  The GPA licenses this file to you under the MIT License (MIT), the "License"; you may not use this
//  file except in compliance with the License. You may obtain a copy of the License at:
//
//      http://opensource.org/licenses/MIT
//
//  Unless agreed to in writing, the subject software distributed under the License is distributed on an
//  "AS-IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. Refer to the
//  License for the specific language governing permissions and limitations.
//
//  Code Modification History:
//  ----------------------------------------------------------------------------------------------------
//  01/28/2020 - Billy Ernest
//       Generated original version of source code.
//
//******************************************************************************************************
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};






function AdditionalFieldsWindow(props) {
    var _a = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"]([]), 2), valueListGroups = _a[0], setValueListGroups = _a[1];
    var _b = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"]([]), 2), externalDBs = _b[0], setExternalDBs = _b[1];
    var _c = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"]([]), 2), externalDBTables = _c[0], setExternalDBTables = _c[1];
    var _d = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"]([]), 2), additionalFields = _d[0], setAdditionalFields = _d[1];
    var _e = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"]([]), 2), additionalFieldValues = _e[0], setAdditionalFieldVaules = _e[1];
    var _f = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"]([]), 2), additionalFieldValuesWorking = _f[0], setAdditionalFieldValuesWorking = _f[1];
    var _g = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](false), 2), edit = _g[0], setEdit = _g[1];
    var _h = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"]('FieldName'), 2), sortFields = _h[0], setSortField = _h[1];
    var _j = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](false), 2), ascending = _j[0], setAscending = _j[1];
    var _k = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"]({ ID: 0, FieldName: '', Type: 'string', OpenXDAParentTable: props.Type, ExternalDB: '', ExternalDBTable: '', ExternalDBTableKey: '', IsSecure: false }), 2), newField = _k[0], setNewField = _k[1];
    var _l = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](false), 2), showWarning = _l[0], setShowWarning = _l[1];
    var _m = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](false), 2), showLoading = _m[0], setShowLoading = _m[1];
    var _o = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](false), 2), showEdit = _o[0], setShowEdit = _o[1];
    var _p = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"]('None'), 2), hover = _p[0], setHover = _p[1];
    var _q = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](true), 2), newFieldNameValid = _q[0], setNewFieldNameValid = _q[1];
    var EmptyField = { ID: 0, FieldName: '', Type: 'string', OpenXDAParentTable: props.Type, ExternalDB: '', ExternalDBTable: '', ExternalDBTableKey: '', IsSecure: false };
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        return getData();
    }, [props.ID, props.Type, props.Tab]);
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () { setAdditionalFieldValuesWorking(additionalFieldValues); }, [additionalFieldValues]);
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        var h = getFields();
        return function () { if (h.abort != undefined)
            h.abort(); };
    }, [sortFields, ascending]);
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        var h = validateFieldName();
        return function () { if (h != null && h.abort != null)
            h.abort(); };
    }, [newField.ID, newField.FieldName]);
    function getData() {
        var handle1 = getFields();
        var handle2 = getFieldValues();
        var handle3 = getValueLists();
        var handle4 = getExternalDataBase();
        var handle5 = getExternalDataBaseTables();
        setNewField({ ID: 0, FieldName: '', Type: 'string', OpenXDAParentTable: props.Type, ExternalDB: '', ExternalDBTable: '', ExternalDBTableKey: '', IsSecure: false });
        return function () {
            if (handle1.abort != undefined)
                handle1.abort();
            if (handle2.abort != undefined)
                handle2.abort();
            if (handle3.abort != undefined)
                handle3.abort();
            if (handle4.abort != undefined)
                handle4.abort();
            if (handle5.abort != undefined)
                handle5.abort();
        };
    }
    function getFields() {
        var handle = $.ajax({
            type: "GET",
            url: homePath + "api/SystemCenter/AdditionalField/ParentTable/" + props.Type + "/" + sortFields + "/" + (ascending ? '1' : '0'),
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            cache: true,
            async: true
        });
        handle.done(function (data) {
            setAdditionalFields(data);
        });
        return handle;
    }
    function getFieldValues() {
        var handle = $.ajax({
            type: "GET",
            url: homePath + "api/SystemCenter/AdditionalFieldValue/" + props.ID,
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            cache: true,
            async: true
        });
        handle.done(function (data) {
            setAdditionalFieldVaules(data);
        });
        return handle;
    }
    function getValueLists() {
        var handle = $.ajax({
            type: "GET",
            url: homePath + "api/ValueListGroup",
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            cache: true,
            async: true
        });
        handle.done(function (data) {
            setValueListGroups(data);
        });
        return handle;
    }
    function getExternalDataBase() {
        var handle = $.ajax({
            type: "GET",
            url: homePath + "api/SystemCenter/AdditionalField/ExternalDataBase",
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            cache: true,
            async: true
        });
        handle.done(function (data) {
            setExternalDBs(data.map(function (item) { return item.ExternalDB; }));
        });
        return handle;
    }
    function getExternalDataBaseTables() {
        var handle = $.ajax({
            type: "GET",
            url: homePath + "api/SystemCenter/ExternalDBTables/TableName/0",
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            cache: true,
            async: true
        });
        handle.done(function (data) {
            var d = JSON.parse(data);
            setExternalDBTables(d.map(function (item) { return item.TableName; }));
        });
        return handle;
    }
    function validateFieldName() {
        if (newField.FieldName == null || newField.FieldName.length == 0)
            return null;
        var h = $.ajax({
            type: "Post",
            url: homePath + "api/SystemCenter/AdditionalField/SearchableList",
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            data: JSON.stringify({ Searches: [{ FieldName: 'FieldName', Operator: "=", SearchText: newField.FieldName, Type: 'string' }], OrderBy: "FieldName", Ascending: true }),
            cache: false,
            async: true
        });
        h.done(function (d) {
            var fields = JSON.parse(d);
            if (fields.length == 0)
                setNewFieldNameValid(true);
            else if (fields.length > 1)
                setNewFieldNameValid(false);
            else if (fields[0].ID == newField.ID)
                setNewFieldNameValid(true);
            else
                setNewFieldNameValid(false);
        });
        return h;
    }
    function addOrUpdateValues() {
        $.ajax({
            type: "PATCH",
            url: homePath + "api/SystemCenter/AdditionalFieldValue/Array",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(additionalFieldValuesWorking),
            dataType: 'json',
            cache: true,
            async: true
        }).done(function (e) {
            getData();
        });
    }
    function addNewField() {
        setShowLoading(true);
        $.ajax({
            type: "PATCH",
            url: homePath + "api/SystemCenter/AdditionalField/Update",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(newField),
            dataType: 'json',
            cache: true,
            async: true
        }).done(function (e) {
            getData();
            setShowLoading(false);
        });
    }
    function deleteField(field) {
        setShowLoading(true);
        $.ajax({
            type: "DELETE",
            url: homePath + "api/SystemCenter/AdditionalField/Delete",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(field),
            dataType: 'json',
            cache: true,
            async: true
        }).done(function (e) {
            getData();
            setShowLoading(false);
        });
    }
    function ValidField() {
        return newFieldNameValid && newField.FieldName != null && newField.FieldName.length > 0 &&
            (newField.ExternalDB == null || newField.ExternalDB.length == 0 ||
                (!(newField.ExternalDBTable == null || newField.ExternalDBTable.length == 0) &&
                    !(newField.ExternalDBTableKey == null || newField.ExternalDBTableKey.length == 0)));
    }
    function HasValueChanged() {
        return additionalFieldValuesWorking.some(function (item, index) {
            var i = additionalFieldValues.findIndex(function (val) { return val.AdditionalFieldID == item.AdditionalFieldID; });
            if (i == -1 && item.Value == null)
                return false;
            if (i == -1)
                return true;
            return item.Value != additionalFieldValues[i].Value;
        });
    }
    function ChangedValues(warning) {
        var result = [];
        additionalFieldValuesWorking.forEach(function (item, index) {
            var iFld = additionalFields.findIndex(function (fld) { return fld.ID == item.AdditionalFieldID; });
            var iWVal = additionalFieldValues.findIndex(function (val) { return val.AdditionalFieldID == item.AdditionalFieldID; });
            if (iFld == -1 || (iWVal == -1 && item.Value == null))
                return;
            if (iWVal == -1) {
                result.push((warning ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("p", { key: index },
                    " ",
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("i", { style: { marginRight: '10px', color: '#ffc107' }, className: "fa fa-exclamation-triangle" }),
                    " Changes to '",
                    additionalFields[iFld].FieldName,
                    "' will be lost.") :
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("p", { key: index },
                        " ",
                        react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("i", { style: { marginRight: '10px', color: '#28A745' }, className: "fa fa-check-circle" }),
                        " Changes to '",
                        additionalFields[iFld].FieldName,
                        "' are valid.")));
                return;
            }
            if (item.Value == additionalFieldValues[iWVal].Value)
                return;
            result.push((warning ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("p", { key: index },
                " ",
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("i", { style: { marginRight: '10px', color: '#ffc107' }, className: "fa fa-exclamation-triangle" }),
                " Changes to '",
                additionalFields[iFld].FieldName,
                "' will be lost.") :
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("p", { key: index },
                    " ",
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("i", { style: { marginRight: '10px', color: '#28A745' }, className: "fa fa-check-circle" }),
                    " Changes to '",
                    additionalFields[iFld].FieldName,
                    "' are valid.")));
        });
        return result;
    }
    function HasInvalidChanges() {
        return additionalFieldValuesWorking.some(function (item) {
            var i = additionalFields.findIndex(function (fld) { return fld.ID == item.AdditionalFieldID; });
            if (i == -1)
                return false;
            if (additionalFields[i].Type == 'integer')
                return !(item.Value == null || _AssetAttribute_Asset__WEBPACK_IMPORTED_MODULE_2__["AssetAttributes"].isInteger(item.Value));
            return false;
        });
    }
    function InvalidChanges() {
        if (!HasInvalidChanges())
            return [];
        var result = [];
        additionalFieldValuesWorking.forEach(function (item, index) {
            var i = additionalFields.findIndex(function (fld) { return fld.ID == item.AdditionalFieldID; });
            if (i == -1)
                return;
            if (additionalFields[i].Type == 'integer' && !(item.Value == null || _AssetAttribute_Asset__WEBPACK_IMPORTED_MODULE_2__["AssetAttributes"].isInteger(item.Value)))
                result.push(react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("p", { key: index },
                    " ",
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("i", { style: { marginRight: '10px', color: '#dc3545' }, className: "fa fa-exclamation-circle" }),
                    " Value for '",
                    additionalFields[i].FieldName,
                    "' is required to be an integer."));
        });
        return result;
    }
    return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "card", style: { marginBottom: 10, maxHeight: window.innerHeight - 215 } },
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "card-header" },
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "row" },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "col" },
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("h4", null, "Additional Fields:")),
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "col" },
                    (edit) ?
                        react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("button", { className: "btn btn-default pull-right", "data-tooltip": 'View', onClick: function () { setEdit(false); getFieldValues(); }, onMouseEnter: function () { return setHover('View'); }, onMouseLeave: function () { return setHover('None'); } }, "View") :
                        react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("button", { className: "btn btn-primary pull-right", onClick: function () { return setEdit(true); } }, "Edit"),
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_3__["ToolTip"], { Show: hover == 'View' && (HasValueChanged()), Position: 'left', Theme: 'dark', Target: "View" }, ChangedValues(true))))),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "card-body", style: { maxHeight: window.innerHeight - 315, overflowY: 'auto' } },
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_table__WEBPACK_IMPORTED_MODULE_5___default.a, { cols: [
                    { key: 'FieldName', label: 'Field', headerStyle: { width: 'auto' }, rowStyle: { width: 'auto' } },
                    { key: 'ExternalDB', label: 'Ext DB', headerStyle: { width: 'auto' }, rowStyle: { width: 'auto' } },
                    { key: 'Type', label: 'Type', headerStyle: { width: 'auto' }, rowStyle: { width: 'auto' } },
                    {
                        key: 'IsSecure', label: 'Value', headerStyle: { width: 'auto' }, rowStyle: { width: 'auto' }, content: function (item) {
                            var index = additionalFieldValues.findIndex(function (value) { return value.AdditionalFieldID == item.ID; });
                            if (!edit)
                                return (index > -1 && additionalFieldValues[index].Value != null ? additionalFieldValues[index].Value.toString() : '');
                            return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](ValueField, { Field: item, ParentTableID: props.ID, Values: additionalFieldValuesWorking, Setter: function (val) { return setAdditionalFieldValuesWorking(val); } });
                        }
                    },
                    { key: 'ID', label: '', headerStyle: { width: 40, paddingRight: 0, paddingLeft: 10 }, rowStyle: { width: 40, paddingRight: 0, paddingLeft: 10, paddingTop: 36 }, content: function (item) { return (edit ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("button", { className: "btn btn-sm", onClick: function () { setNewField(item); setShowEdit(true); } },
                            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", null,
                                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("i", { className: "fa fa-pencil" }))) : ''); } },
                    { key: null, label: '', headerStyle: { width: 40, paddingLeft: 0, paddingRight: 10 }, rowStyle: { width: 40, paddingLeft: 0, paddingTop: 36, paddingRight: 10 }, content: function (item) { return (edit ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("button", { className: "btn btn-sm", onClick: function () { setNewField(item); setShowWarning(true); } },
                            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", null,
                                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("i", { className: "fa fa-times" }))) : ''); } },
                ], tableClass: "table table-hover", data: additionalFields, sortField: sortFields, ascending: ascending, onSort: function (d) {
                    if (d.col == null || d.col == 'ID' || d.col == 'IsSecure')
                        return;
                    if (d.col == sortFields)
                        setAscending(!ascending);
                    else {
                        setAscending(true);
                        setSortField(d.col);
                    }
                }, onClick: function (fld) { }, theadStyle: { fontSize: 'smaller', display: 'table', tableLayout: 'fixed', width: '100%' }, tbodyStyle: { display: 'block', overflowY: 'scroll', maxHeight: window.innerHeight - 455, }, rowStyle: { display: 'table', tableLayout: 'fixed', width: '100%' }, selected: function (item) { return false; } })),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "card-footer" },
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "btn-group mr-2" },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("button", { className: "btn btn-primary" + (!edit ? ' disabled' : ''), onMouseEnter: function () { return setHover('New'); }, onMouseLeave: function () { return setHover('None'); }, onClick: function () { if (edit) {
                        setShowEdit(true);
                        setNewField(EmptyField);
                    } }, "data-tooltip": 'New' }, "Add Field")),
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_3__["ToolTip"], { Show: hover == 'New' && !edit, Position: 'top', Theme: 'dark', Target: "New" }, !edit ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("p", null, " To add a new Field switch to Edit mode by clicking on the Edit Button on the upper right corner.") : null),
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "btn-group mr-2" },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("button", { className: "btn btn-primary" + (!HasValueChanged() || !edit || HasInvalidChanges() ? ' disabled' : ''), onClick: function () { if (HasValueChanged() && !HasInvalidChanges() && edit)
                        addOrUpdateValues(); }, onMouseEnter: function () { return setHover('Save'); }, onMouseLeave: function () { return setHover('None'); }, "data-tooltip": 'SaveValues' }, "Save Changes")),
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_3__["ToolTip"], { Show: hover == 'Save' && (!edit || HasValueChanged()), Position: 'top', Theme: 'dark', Target: "SaveValues" },
                !edit ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("p", null, " To change any Fields switch to Edit mode by clicking on the Edit Button on the upper right corner.") : null,
                HasValueChanged() && !HasInvalidChanges() ? ChangedValues(false) : null,
                HasValueChanged() && HasInvalidChanges() ? InvalidChanges() : null),
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "btn-group mr-2" },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("button", { className: "btn btn-default" + (!(HasValueChanged()) || !edit ? ' disabled' : ''), onClick: function () { if (HasValueChanged() && edit)
                        getFieldValues(); }, onMouseEnter: function () { return setHover('Clear'); }, onMouseLeave: function () { return setHover('None'); }, "data-tooltip": 'Clear' }, "Reset")),
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_3__["ToolTip"], { Show: hover == 'Clear' && (!edit || HasValueChanged()), Position: 'top', Theme: 'dark', Target: "Clear" },
                !edit ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("p", null, " To change any Fields switch to Edit mode by clicking on the Edit Button on the upper right corner.") : null,
                HasValueChanged() ? ChangedValues(true) : null)),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_3__["LoadingScreen"], { Show: showLoading }),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_3__["Warning"], { Show: showWarning, Title: 'Delete ' + newField.FieldName, Message: "This will delete the field '" + newField.FieldName + "' from all " + props.Type + "s and will also delete all information assigned to these fields.", CallBack: function (confirm) { if (confirm)
                deleteField(newField); setShowWarning(false); } }),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_3__["Modal"], { Title: 'Additional Field', ConfirmText: 'Save', CancelText: 'Close', ConfirmBtnClass: 'btn-primary' + (!ValidField() ? ' disabled' : ''), Show: showEdit, Size: 'lg', ShowX: true, CallBack: function (confirmation, btn) { if (!ValidField() && confirmation)
                return; if (confirmation)
                addNewField(); setShowEdit(false); }, ConfirmShowToolTip: !ValidField(), ConfirmToolTipContent: react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null,
                newField.FieldName == null || newField.FieldName.length == 0 || !newFieldNameValid ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("p", null,
                    " ",
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("i", { style: { marginRight: '10px', color: '#dc3545' }, className: "fa fa-exclamation-circle" }),
                    " Field Name is required and has to be unique.") : null,
                newField.ExternalDB != null && newField.ExternalDBTable == null ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("p", null,
                    " ",
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("i", { style: { marginRight: '10px', color: '#dc3545' }, className: "fa fa-exclamation-circle" }),
                    " A Field from an External Database requires an External Database Table.") : null,
                newField.ExternalDB != null && newField.ExternalDBTableKey == null ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("p", null,
                    " ",
                    react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("i", { style: { marginRight: '10px', color: '#dc3545' }, className: "fa fa-exclamation-circle" }),
                    " A Field from an External Database requires an External Database Table Key.") : null) },
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_4__["Input"], { Record: newField, Field: 'FieldName', Valid: function (field) { return newField.FieldName != null && newField.FieldName.length > 0 && newFieldNameValid; }, Label: "Field Name", Setter: setNewField, Feedback: 'The additional field needs to have a unique Field Name' }),
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_4__["Select"], { Record: newField, Field: 'Type', Options: [{ Value: 'string', Label: 'string' }, { Value: 'integer', Label: 'integer' }, { Value: 'number', Label: 'number' }].concat(valueListGroups.filter(function (x) { return x.Enabled; }).map(function (x) { return { Value: x.Name, Label: x.Name }; })), Label: "Field Type", Setter: setNewField }),
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_4__["Select"], { Record: newField, Field: 'ExternalDB', Label: "External Database", Setter: function (fld) {
                    if (fld.ExternalDB == null || fld.ExternalDB == '')
                        fld = __assign(__assign({}, fld), { ExternalDB: null, ExternalDBTable: null, ExternalDBTableKey: null });
                    setNewField(fld);
                }, EmptyOption: true, Options: externalDBs.map(function (item) { return ({ Value: item, Label: item }); }) }),
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { "data-tooltip": "ExternalDB", onMouseEnter: function () { return setHover('ExternalDB'); }, onMouseLeave: function () { return setHover('None'); } },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_4__["Select"], { EmptyOption: true, Disabled: newField.ExternalDB == null || newField.ExternalDB.length == 0, Record: newField, Field: 'ExternalDBTable', Options: externalDBTables.map(function (item) { return ({ Value: item, Label: item }); }), Label: "External Database Table", Setter: setNewField })),
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_4__["Input"], { Disabled: newField.ExternalDB == null || newField.ExternalDB.length == 0, Record: newField, Field: 'ExternalDBTableKey', Valid: function (field) { return true; }, Label: "External Database Table Key", Setter: setNewField }),
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_4__["CheckBox"], { Record: newField, Field: 'IsSecure', Label: "Secure Data", Setter: setNewField })),
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_3__["ToolTip"], { Zindex: 9999, Show: hover == 'ExternalDB' && (newField.ExternalDB == null || newField.ExternalDB.length == 0), Position: 'bottom', Theme: 'dark', Target: "ExternalDB" },
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("p", null, " No External Database selected."))));
}
/* harmony default export */ __webpack_exports__["default"] = (AdditionalFieldsWindow);
var ValueField = function (props) {
    var _a = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"]([]), 2), valueListItems = _a[0], setValueListItems = _a[1];
    var _b = __read(react__WEBPACK_IMPORTED_MODULE_0__["useState"](-1), 2), valueIndex = _b[0], setValueIndex = _b[1];
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        var index = props.Values.findIndex(function (value) { return value.AdditionalFieldID == props.Field.ID; });
        setValueIndex(index);
        if (index == -1)
            props.Setter(__spread(props.Values, [{ ID: 0, AdditionalFieldID: props.Field.ID, OpenXDAParentTableID: props.ParentTableID, Value: null }]));
    }, [props.Values, props.Field]);
    react__WEBPACK_IMPORTED_MODULE_0__["useEffect"](function () {
        if ((["integer", "number", "boolean", "string"]).indexOf(props.Field.Type) < 0) {
            var handle_1 = $.ajax({
                type: "GET",
                url: homePath + "api/ValueList/Group/" + props.Field.Type,
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                cache: true,
                async: true
            });
            handle_1.done(function (vl) {
                setValueListItems(vl);
            });
            return function () {
                if (handle_1.abort != undefined)
                    handle_1.abort();
            };
        }
    }, [props.Field.Type]);
    function Setter(record) {
        var updated = lodash__WEBPACK_IMPORTED_MODULE_1__["cloneDeep"](props.Values);
        updated[valueIndex] = record;
        props.Setter(updated);
    }
    function Valid(type) {
        if (props.Field.Type == "integer")
            return props.Values[valueIndex].Value == null || _AssetAttribute_Asset__WEBPACK_IMPORTED_MODULE_2__["AssetAttributes"].isInteger(props.Values[valueIndex].Value);
        else if (props.Field.Type == "number")
            return props.Values[valueIndex].Value == null || _AssetAttribute_Asset__WEBPACK_IMPORTED_MODULE_2__["AssetAttributes"].isRealNumber(props.Values[valueIndex].Value);
        else if (props.Field.Type == "boolean")
            return true;
        else
            return true;
    }
    if (valueIndex == -1 || props.Values[valueIndex] == undefined) {
        return null;
    }
    if (props.Field.Type == 'number' || props.Field.Type == 'integer')
        return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_4__["Input"], { Record: props.Values[valueIndex], Field: 'Value', Valid: Valid, Label: '', Type: 'number', Setter: Setter, Feedback: props.Field.FieldName + ' is an integer field.' });
    if (props.Field.Type == 'string')
        return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_4__["Input"], { Record: props.Values[valueIndex], Field: 'Value', Valid: Valid, Label: '', Type: 'text', Setter: Setter });
    if (props.Field.Type == 'boolean')
        return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_4__["CheckBox"], { Record: props.Values[valueIndex], Field: 'Value', Label: '', Setter: Setter });
    return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_4__["Select"], { EmptyOption: true, Record: props.Values[valueIndex], Field: 'Value', Label: '', Setter: Setter, Options: valueListItems.map(function (x) { return ({ Value: x.ID.toString(), Label: x.Text }); }) });
};


/***/ }),

/***/ "./TSX/SystemCenter/CommonComponents/NoteWindow.tsx":
/*!**********************************************************!*\
  !*** ./TSX/SystemCenter/CommonComponents/NoteWindow.tsx ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @gpa-gemstone/react-forms */ "../../node_modules/@gpa-gemstone/react-forms/lib/index.js");
/* harmony import */ var _gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @gpa-gemstone/react-interactive */ "../../node_modules/@gpa-gemstone/react-interactive/lib/index.js");
/* harmony import */ var _gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _gpa_gemstone_react_table__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @gpa-gemstone/react-table */ "../../node_modules/@gpa-gemstone/react-table/lib/index.js");
/* harmony import */ var _gpa_gemstone_react_table__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_gpa_gemstone_react_table__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "../../node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
//******************************************************************************************************
//  AssetNote.tsx - Gbtc
//
//  Copyright © 2020, Grid Protection Alliance.  All Rights Reserved.
//
//  Licensed to the Grid Protection Alliance (GPA) under one or more contributor license agreements. See
//  the NOTICE file distributed with this work for additional information regarding copyright ownership.
//  The GPA licenses this file to you under the MIT License (MIT), the "License"; you may not use this
//  file except in compliance with the License. You may obtain a copy of the License at:
//
//      http://opensource.org/licenses/MIT
//
//  Unless agreed to in writing, the subject software distributed under the License is distributed on an
//  "AS-IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. Refer to the
//  License for the specific language governing permissions and limitations.
//
//  Code Modification History:
//  ----------------------------------------------------------------------------------------------------
//  01/22/2020 - Billy Ernest
//       Generated original version of source code.
//
//******************************************************************************************************
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};





function NoteWindow(props) {
    var _a = __read(react__WEBPACK_IMPORTED_MODULE_4__["useState"](0), 2), noteTypeID = _a[0], setNoteTypeID = _a[1];
    var _b = __read(react__WEBPACK_IMPORTED_MODULE_4__["useState"]({ ID: -1, UserAccount: '', Note: '', NoteTypeID: -1, ReferenceTableID: -1, Timestamp: '' }), 2), note = _b[0], setNote = _b[1];
    var _c = __read(react__WEBPACK_IMPORTED_MODULE_4__["useState"](false), 2), showEdit = _c[0], setEdit = _c[1];
    var _d = __read(react__WEBPACK_IMPORTED_MODULE_4__["useState"]([]), 2), noteList = _d[0], setNoteList = _d[1];
    var _e = __read(react__WEBPACK_IMPORTED_MODULE_4__["useState"]('Timestamp'), 2), sortField = _e[0], setSortField = _e[1];
    var _f = __read(react__WEBPACK_IMPORTED_MODULE_4__["useState"](false), 2), ascending = _f[0], setAscending = _f[1];
    var _g = __read(react__WEBPACK_IMPORTED_MODULE_4__["useState"](false), 2), hoverAdd = _g[0], setHoverAdd = _g[1];
    var _h = __read(react__WEBPACK_IMPORTED_MODULE_4__["useState"](false), 2), hoverClear = _h[0], setHoverClear = _h[1];
    react__WEBPACK_IMPORTED_MODULE_4__["useEffect"](function () {
        var typeHandle = getNoteTypeID();
        getNotes();
        return function () { if (typeHandle != null && typeHandle.abort != null)
            typeHandle.abort(); };
    }, [props.Type]);
    react__WEBPACK_IMPORTED_MODULE_4__["useEffect"](function () {
        var handle = getNotes();
        return function () { if (handle != null && handle.abort != null)
            handle.abort(); };
    }, [props.ID, sortField, ascending]);
    function handleEdit(d) {
        setNote(d);
        setEdit(true);
        //deleteNote(d);
    }
    function closeEdit(confirm) {
        if (note.Note.length == 0 && confirm)
            return;
        setEdit(false);
        if (confirm) {
            var n = lodash__WEBPACK_IMPORTED_MODULE_3___default.a.cloneDeep(note);
            deleteNote(n);
            addNote(n);
        }
        setNote({ ID: -1, UserAccount: '', Note: '', NoteTypeID: -1, ReferenceTableID: -1, Timestamp: '' });
    }
    function getNotes() {
        var h = $.ajax({
            type: "POST",
            url: homePath + "api/OpenXDA/Note/ForObject/" + props.Type + "/" + props.ID + "/Search",
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            data: JSON.stringify({ Searches: [], OrderBy: sortField, Ascending: ascending }),
            cache: false,
            async: true
        });
        h.done(function (data) {
            var d = JSON.parse(data);
            setNoteList(d);
        });
        ;
        return h;
    }
    function getNoteTypeID() {
        var handle = $.ajax({
            type: "GET",
            url: homePath + "api/OpenXDA/NoteType",
            contentType: "application/json; charset=utf-8",
            dataType: 'json',
            cache: true,
            async: true
        });
        handle.then(function (d) {
            var record = d.find(function (d) { return d.ReferenceTableName == props.Type; });
            setNoteTypeID(record.ID);
        });
        return handle;
    }
    function deleteNote(d) {
        $.ajax({
            type: "DELETE",
            url: homePath + "api/OpenXDA/Note/Delete",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(d),
            cache: true,
            async: true
        }).done(function () { return getNotes(); });
    }
    function addNote(currentNote) {
        setNote({ ID: -1, UserAccount: '', Note: '', NoteTypeID: -1, ReferenceTableID: -1, Timestamp: '' });
        $.ajax({
            type: "POST",
            url: homePath + "api/OpenXDA/Note/Add",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify({ ID: 0, NoteTypeID: noteTypeID, ReferenceTableID: props.ID, Note: currentNote.Note, Timestamp: moment().format('MM/DD/YYYY HH:mm'), UserAccount: '' }),
            dataType: 'json',
            cache: true,
            async: true
        }).done(function (e) {
            getNotes();
        });
    }
    return (react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("div", { className: "card", style: { marginBottom: 10, maxHeight: window.innerHeight - 215 } },
        react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("div", { className: "card-header" },
            react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("div", { className: "row" },
                react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("div", { className: "col" },
                    react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("h4", null, "Notes:")))),
        react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("div", { className: "card-body", style: { maxHeight: window.innerHeight - 315, overflowY: 'auto' } },
            react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("div", null,
                react__WEBPACK_IMPORTED_MODULE_4__["createElement"](_gpa_gemstone_react_table__WEBPACK_IMPORTED_MODULE_2___default.a, { cols: [
                        { key: 'Note', label: 'Note', headerStyle: { width: '50%' }, rowStyle: { width: '50%' } },
                        { key: 'Timestamp', label: 'Time', headerStyle: { width: 'auto' }, rowStyle: { width: 'auto' }, content: function (item) { return moment.utc(item.Timestamp).format("MM/DD/YYYY HH:mm"); } },
                        { key: 'UserAccount', label: 'User', headerStyle: { width: 'auto' }, rowStyle: { width: 'auto' } },
                        {
                            key: null, label: '', headerStyle: { width: 'auto' }, rowStyle: { width: 'auto' }, content: function (item) { return react__WEBPACK_IMPORTED_MODULE_4__["createElement"](react__WEBPACK_IMPORTED_MODULE_4__["Fragment"], null,
                                react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("button", { className: "btn btn-sm", onClick: function (e) { return handleEdit(item); } },
                                    react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("span", null,
                                        react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("i", { className: "fa fa-pencil" }))),
                                react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("button", { className: "btn btn-sm", onClick: function (e) { return deleteNote(item); } },
                                    react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("span", null,
                                        react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("i", { className: "fa fa-times" })))); }
                        },
                    ], tableClass: "table table-hover", data: noteList, sortField: sortField, ascending: ascending, onSort: function (d) {
                        if (d.col == sortField)
                            setAscending(!ascending);
                        else {
                            setAscending(true);
                            setSortField(d.col);
                        }
                    }, onClick: function () { }, theadStyle: { fontSize: 'smaller', display: 'table', tableLayout: 'fixed', width: '100%' }, tbodyStyle: { display: 'block', overflowY: 'scroll', maxHeight: window.innerHeight - 615, width: '100%' }, rowStyle: { fontSize: 'smaller', display: 'table', tableLayout: 'fixed', width: '100%' }, selected: function (item) { return item.ID == note.ID; } })),
            react__WEBPACK_IMPORTED_MODULE_4__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_0__["TextArea"], { Record: note, Rows: 4, Field: 'Note', Setter: function (n) { return setNote(n); }, Valid: function () { return note.Note.length > 0; }, Label: '' }),
            react__WEBPACK_IMPORTED_MODULE_4__["createElement"](_gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_1__["Modal"], { Show: showEdit, Title: 'Edit Note', ShowCancel: true, CallBack: closeEdit, DisableConfirm: note.Note.length == 0, ShowX: true, ConfirmShowToolTip: note.Note.length == 0, ConfirmToolTipContent: react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("p", null,
                    " ",
                    react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("i", { style: { marginRight: '10px', color: '#dc3545' }, className: "fa fa-exclamation-circle" }),
                    "An empty Note can not be saved. ") },
                react__WEBPACK_IMPORTED_MODULE_4__["createElement"](_gpa_gemstone_react_forms__WEBPACK_IMPORTED_MODULE_0__["TextArea"], { Record: note, Rows: 4, Field: 'Note', Setter: function (n) { if (n.Note == null)
                        setNote(__assign(__assign({}, n), { Note: '' }));
                    else
                        setNote(n); }, Valid: function () { return note.Note.length > 0; }, Label: '' }))),
        react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("div", { className: "card-footer" },
            react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("div", { className: "btn-group mr-2" },
                react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("button", { className: "btn btn-primary" + (note.Note.length == 0 ? ' disabled' : ''), onClick: function () { if (note.Note.length > 0)
                        addNote(note); }, "data-tooltip": "Add", style: { cursor: note.Note.length == 0 ? 'not-allowed' : 'pointer' }, onMouseOver: function () { return setHoverAdd(true); }, onMouseOut: function () { return setHoverAdd(false); } }, "Add Note"),
                react__WEBPACK_IMPORTED_MODULE_4__["createElement"](_gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_1__["ToolTip"], { Show: hoverAdd && note.Note.length == 0, Position: 'top', Theme: 'dark', Target: "Add" },
                    react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("p", null, " A note needs to be entered. "))),
            react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("div", { className: "btn-group mr-2" },
                react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("button", { className: "btn btn-default" + (note.Note.length == 0 ? ' disabled' : ''), onClick: function () { return setNote(function (note) { return (__assign(__assign({}, note), { Note: '' })); }); }, style: { cursor: note.Note.length == 0 ? 'not-allowed' : 'pointer' }, "data-tooltip": "Remove", onMouseOver: function () { return setHoverClear(true); }, onMouseOut: function () { return setHoverClear(false); } }, "Clear"),
                react__WEBPACK_IMPORTED_MODULE_4__["createElement"](_gpa_gemstone_react_interactive__WEBPACK_IMPORTED_MODULE_1__["ToolTip"], { Show: hoverClear && note.Note.length == 0, Position: 'top', Theme: 'dark', Target: "Remove" },
                    react__WEBPACK_IMPORTED_MODULE_4__["createElement"]("p", null, " The note field is already empty. "))))));
}
/* harmony default export */ __webpack_exports__["default"] = (NoteWindow);


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9UU1gvU3lzdGVtQ2VudGVyL0NvbW1vbkNvbXBvbmVudHMvQWRkaXRpb25hbEZpZWxkc1dpbmRvdy50c3giLCJ3ZWJwYWNrOi8vLy4vVFNYL1N5c3RlbUNlbnRlci9Db21tb25Db21wb25lbnRzL05vdGVXaW5kb3cudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSx3R0FBd0c7QUFDeEcscUNBQXFDO0FBQ3JDLEVBQUU7QUFDRixxRUFBcUU7QUFDckUsRUFBRTtBQUNGLHdHQUF3RztBQUN4Ryx3R0FBd0c7QUFDeEcsc0dBQXNHO0FBQ3RHLHdGQUF3RjtBQUN4RixFQUFFO0FBQ0YsMENBQTBDO0FBQzFDLEVBQUU7QUFDRix3R0FBd0c7QUFDeEcsd0dBQXdHO0FBQ3hHLDRFQUE0RTtBQUM1RSxFQUFFO0FBQ0YsOEJBQThCO0FBQzlCLHdHQUF3RztBQUN4Ryw2QkFBNkI7QUFDN0IsbURBQW1EO0FBQ25ELEVBQUU7QUFDRix3R0FBd0c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXpFO0FBQ0g7QUFFOEI7QUFFdUM7QUFDN0I7QUFDdEI7QUFNOUMsU0FBUyxzQkFBc0IsQ0FBQyxLQUFhO0lBRW5DLHNFQUE4RixFQUE3Rix1QkFBZSxFQUFFLDBCQUE0RSxDQUFDO0lBQy9GLHNFQUFpRSxFQUFoRSxtQkFBVyxFQUFFLHNCQUFtRCxDQUFDO0lBQ2xFLHNFQUEyRSxFQUExRSx3QkFBZ0IsRUFBRSwyQkFBd0QsQ0FBQztJQUU1RSxzRUFBaUcsRUFBaEcsd0JBQWdCLEVBQUUsMkJBQThFLENBQUM7SUFDbEcsc0VBQWdILEVBQS9HLDZCQUFxQixFQUFFLGdDQUF3RixDQUFDO0lBRWpILHNFQUE4SCxFQUE3SCxvQ0FBNEIsRUFBRSx1Q0FBK0YsQ0FBQztJQUMvSCx5RUFBZ0QsRUFBL0MsWUFBSSxF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LENBQUMsVUFBQyxJQUFJLElBQUssOEJBQUssSUFBSSxLQUFFLElBQUksRUFBRSxFQUFFLElBQUUsRUFBckIsQ0FBcUIsQ0FBQyxFQUF4QyxDQUF3QyxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLGtCQUFnQixRQUFRLEVBQUUsV0FBVyxFQUFFLGNBQU0sb0JBQWEsQ0FBQyxJQUFJLENBQUMsRUFBbkIsQ0FBbUIsRUFBRSxVQUFVLEVBQUUsY0FBTSxvQkFBYSxDQUFDLEtBQUssQ0FBQyxFQUFwQixDQUFvQixZQUFpQjtnQkFDelUsb0RBQUMsdUVBQU8sSUFBQyxJQUFJLEVBQUUsVUFBVSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVE7b0JBQ2hHLG9HQUF5QyxDQUNuQyxDQUNSLENBQ0osQ0FDSixDQUNULENBQUM7QUFDTixDQUFDO0FBRWMseUVBQVUsRUFBQyIsImZpbGUiOiJBc3NldH5Db21wYW55fkN1c3RvbWVyfkxvY2F0aW9ufk1ldGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuLy8gIEFkZGl0aW9uYWxGaWVsZHNXaW5kb3cudHN4IC0gR2J0Y1xyXG4vL1xyXG4vLyAgQ29weXJpZ2h0IMKpIDIwMjAsIEdyaWQgUHJvdGVjdGlvbiBBbGxpYW5jZS4gIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbi8vXHJcbi8vICBMaWNlbnNlZCB0byB0aGUgR3JpZCBQcm90ZWN0aW9uIEFsbGlhbmNlIChHUEEpIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlXHJcbi8vICB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuXHJcbi8vICBUaGUgR1BBIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCB0aGUgXCJMaWNlbnNlXCI7IHlvdSBtYXkgbm90IHVzZSB0aGlzXHJcbi8vICBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcclxuLy9cclxuLy8gICAgICBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXHJcbi8vXHJcbi8vICBVbmxlc3MgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHRoZSBzdWJqZWN0IHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXHJcbi8vICBcIkFTLUlTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBSZWZlciB0byB0aGVcclxuLy8gIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zLlxyXG4vL1xyXG4vLyAgQ29kZSBNb2RpZmljYXRpb24gSGlzdG9yeTpcclxuLy8gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gIDAxLzI4LzIwMjAgLSBCaWxseSBFcm5lc3RcclxuLy8gICAgICAgR2VuZXJhdGVkIG9yaWdpbmFsIHZlcnNpb24gb2Ygc291cmNlIGNvZGUuXHJcbi8vXHJcbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcclxuaW1wb3J0IHtTeXN0ZW1DZW50ZXIsIE9wZW5YREEgfSBmcm9tICcuLi9nbG9iYWwnO1xyXG5pbXBvcnQgeyBBc3NldEF0dHJpYnV0ZXMgfSBmcm9tICcuLi9Bc3NldEF0dHJpYnV0ZS9Bc3NldCc7XHJcblxyXG5pbXBvcnQgeyBMb2FkaW5nU2NyZWVuLCBNb2RhbCwgU2VhcmNoLCBUb29sVGlwLCBXYXJuaW5nIH0gZnJvbSAnQGdwYS1nZW1zdG9uZS9yZWFjdC1pbnRlcmFjdGl2ZSc7XHJcbmltcG9ydCB7IENoZWNrQm94LCBJbnB1dCwgU2VsZWN0IH0gZnJvbSAnQGdwYS1nZW1zdG9uZS9yZWFjdC1mb3Jtcyc7XHJcbmltcG9ydCBUYWJsZSBmcm9tICdAZ3BhLWdlbXN0b25lL3JlYWN0LXRhYmxlJztcclxuXHJcbmRlY2xhcmUgdmFyIGhvbWVQYXRoOiBzdHJpbmc7XHJcbmRlY2xhcmUgdHlwZSBBZGRpdGlvbmFsRmllbGRUeXBlID0gJ01ldGVyJyB8ICdMb2NhdGlvbicgfCAnQ3VzdG9tZXInfCAnQ29tcGFueScgfCAnTGluZScgfCAnQnVzJyB8ICdCcmVha2VyJyB8ICdUcmFuc2Zvcm1lcicgfCAnTGluZVNlZ21lbnQnIHwgJ0NhcGFjaXRvckJhbmsnIHwgJ0Fzc2V0JyB8ICdDYXBhY2l0b3JCYW5rUmVsYXknXHJcbmludGVyZmFjZSBJUHJvcHMgeyBJRDogbnVtYmVyLCBUeXBlOiBBZGRpdGlvbmFsRmllbGRUeXBlLCBUYWI6IHN0cmluZyB9XHJcblxyXG5mdW5jdGlvbiBBZGRpdGlvbmFsRmllbGRzV2luZG93KHByb3BzOiBJUHJvcHMpOiBKU1guRWxlbWVudCB7XHJcblxyXG4gICAgY29uc3QgW3ZhbHVlTGlzdEdyb3Vwcywgc2V0VmFsdWVMaXN0R3JvdXBzXSA9IFJlYWN0LnVzZVN0YXRlPEFycmF5PFN5c3RlbUNlbnRlci5WYWx1ZUxpc3RHcm91cD4+KFtdKTtcclxuICAgIGNvbnN0IFtleHRlcm5hbERCcywgc2V0RXh0ZXJuYWxEQnNdID0gUmVhY3QudXNlU3RhdGU8QXJyYXk8c3RyaW5nPj4oW10pO1xyXG4gICAgY29uc3QgW2V4dGVybmFsREJUYWJsZXMsIHNldEV4dGVybmFsREJUYWJsZXNdID0gUmVhY3QudXNlU3RhdGU8QXJyYXk8c3RyaW5nPj4oW10pO1xyXG5cclxuICAgIGNvbnN0IFthZGRpdGlvbmFsRmllbGRzLCBzZXRBZGRpdGlvbmFsRmllbGRzXSA9IFJlYWN0LnVzZVN0YXRlPEFycmF5PFN5c3RlbUNlbnRlci5BZGRpdGlvbmFsRmllbGQ+PihbXSk7XHJcbiAgICBjb25zdCBbYWRkaXRpb25hbEZpZWxkVmFsdWVzLCBzZXRBZGRpdGlvbmFsRmllbGRWYXVsZXNdID0gUmVhY3QudXNlU3RhdGU8QXJyYXk8U3lzdGVtQ2VudGVyLkFkZGl0aW9uYWxGaWVsZFZhbHVlPj4oW10pO1xyXG5cclxuICAgIGNvbnN0IFthZGRpdGlvbmFsRmllbGRWYWx1ZXNXb3JraW5nLCBzZXRBZGRpdGlvbmFsRmllbGRWYWx1ZXNXb3JraW5nXSA9IFJlYWN0LnVzZVN0YXRlPEFycmF5PFN5c3RlbUNlbnRlci5BZGRpdGlvbmFsRmllbGRWYWx1ZT4+KFtdKTtcclxuICAgIGNvbnN0IFtlZGl0LCBzZXRFZGl0XSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcclxuXHJcbiAgICBjb25zdCBbc29ydEZpZWxkcywgc2V0U29ydEZpZWxkXSA9IFJlYWN0LnVzZVN0YXRlPGtleW9mIFN5c3RlbUNlbnRlci5BZGRpdGlvbmFsRmllbGQ+KCdGaWVsZE5hbWUnKTtcclxuICAgIGNvbnN0IFthc2NlbmRpbmcsIHNldEFzY2VuZGluZ10gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XHJcblxyXG4gICAgY29uc3QgW25ld0ZpZWxkLCBzZXROZXdGaWVsZF0gPSBSZWFjdC51c2VTdGF0ZTxTeXN0ZW1DZW50ZXIuQWRkaXRpb25hbEZpZWxkPih7IElEOiAwLCBGaWVsZE5hbWU6ICcnLCBUeXBlOiAnc3RyaW5nJywgT3BlblhEQVBhcmVudFRhYmxlOiBwcm9wcy5UeXBlLCBFeHRlcm5hbERCOiAnJywgRXh0ZXJuYWxEQlRhYmxlOiAnJywgRXh0ZXJuYWxEQlRhYmxlS2V5OiAnJywgSXNTZWN1cmU6IGZhbHNlIH0pO1xyXG5cclxuICAgIGNvbnN0IFtzaG93V2FybmluZywgc2V0U2hvd1dhcm5pbmddID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xyXG4gICAgY29uc3QgW3Nob3dMb2FkaW5nLCBzZXRTaG93TG9hZGluZ10gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSlcclxuICAgIGNvbnN0IFtzaG93RWRpdCwgc2V0U2hvd0VkaXRdID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpXHJcblxyXG4gICAgY29uc3QgW2hvdmVyLCBzZXRIb3Zlcl0gPSBSZWFjdC51c2VTdGF0ZTwoJ05vbmUnIHwgJ1NhdmUnIHwgJ05ldycgfCAnVmlldycgfCAnQ2xlYXInIHwgJ0V4dGVybmFsREInICk+KCdOb25lJyk7XHJcblxyXG4gICAgY29uc3QgW25ld0ZpZWxkTmFtZVZhbGlkLCBzZXROZXdGaWVsZE5hbWVWYWxpZF0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPih0cnVlKTtcclxuXHJcbiAgICBjb25zdCBFbXB0eUZpZWxkOiBTeXN0ZW1DZW50ZXIuQWRkaXRpb25hbEZpZWxkID0geyBJRDogMCwgRmllbGROYW1lOiAnJywgVHlwZTogJ3N0cmluZycsIE9wZW5YREFQYXJlbnRUYWJsZTogcHJvcHMuVHlwZSwgRXh0ZXJuYWxEQjogJycsIEV4dGVybmFsREJUYWJsZTogJycsIEV4dGVybmFsREJUYWJsZUtleTogJycsIElzU2VjdXJlOiBmYWxzZSB9O1xyXG5cclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGdldERhdGEoKTtcclxuICAgIH0sIFtwcm9wcy5JRCwgcHJvcHMuVHlwZSwgcHJvcHMuVGFiXSk7XHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHsgc2V0QWRkaXRpb25hbEZpZWxkVmFsdWVzV29ya2luZyhhZGRpdGlvbmFsRmllbGRWYWx1ZXMpIH0sIFthZGRpdGlvbmFsRmllbGRWYWx1ZXNdKVxyXG5cclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgbGV0IGggPSBnZXRGaWVsZHMoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICgpID0+IHsgaWYgKGguYWJvcnQgIT0gdW5kZWZpbmVkKSBoLmFib3J0KCkgfVxyXG4gICAgfSwgW3NvcnRGaWVsZHMsIGFzY2VuZGluZ10pXHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBsZXQgaCA9IHZhbGlkYXRlRmllbGROYW1lKCk7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHsgaWYgKGggIT0gbnVsbCAmJiBoLmFib3J0ICE9IG51bGwpIGguYWJvcnQoKTsgfVxyXG4gICAgfSwgW25ld0ZpZWxkLklELCBuZXdGaWVsZC5GaWVsZE5hbWVdKVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldERhdGEoKSB7XHJcbiAgICAgICAgbGV0IGhhbmRsZTEgPSBnZXRGaWVsZHMoKTtcclxuICAgICAgICBsZXQgaGFuZGxlMiA9IGdldEZpZWxkVmFsdWVzKCk7XHJcbiAgICAgICAgbGV0IGhhbmRsZTMgPSBnZXRWYWx1ZUxpc3RzKCk7XHJcbiAgICAgICAgbGV0IGhhbmRsZTQgPSBnZXRFeHRlcm5hbERhdGFCYXNlKCk7XHJcbiAgICAgICAgbGV0IGhhbmRsZTUgPSBnZXRFeHRlcm5hbERhdGFCYXNlVGFibGVzKCk7XHJcbiAgICAgICAgc2V0TmV3RmllbGQoeyBJRDogMCwgRmllbGROYW1lOiAnJywgVHlwZTogJ3N0cmluZycsIE9wZW5YREFQYXJlbnRUYWJsZTogcHJvcHMuVHlwZSwgRXh0ZXJuYWxEQjogJycsIEV4dGVybmFsREJUYWJsZTogJycsIEV4dGVybmFsREJUYWJsZUtleTogJycsIElzU2VjdXJlOiBmYWxzZSB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhhbmRsZTEuYWJvcnQgIT0gdW5kZWZpbmVkKSBoYW5kbGUxLmFib3J0KCk7XHJcbiAgICAgICAgICAgIGlmIChoYW5kbGUyLmFib3J0ICE9IHVuZGVmaW5lZCkgaGFuZGxlMi5hYm9ydCgpO1xyXG4gICAgICAgICAgICBpZiAoaGFuZGxlMy5hYm9ydCAhPSB1bmRlZmluZWQpIGhhbmRsZTMuYWJvcnQoKTtcclxuICAgICAgICAgICAgaWYgKGhhbmRsZTQuYWJvcnQgIT0gdW5kZWZpbmVkKSBoYW5kbGU0LmFib3J0KCk7XHJcbiAgICAgICAgICAgIGlmIChoYW5kbGU1LmFib3J0ICE9IHVuZGVmaW5lZCkgaGFuZGxlNS5hYm9ydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRGaWVsZHMoKTogSlF1ZXJ5LmpxWEhSIHtcclxuICAgICAgICBsZXQgaGFuZGxlID0gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvU3lzdGVtQ2VudGVyL0FkZGl0aW9uYWxGaWVsZC9QYXJlbnRUYWJsZS8ke3Byb3BzLlR5cGV9LyR7c29ydEZpZWxkc30vJHsoYXNjZW5kaW5nPyAnMScgOiAnMCcpfWAsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgY2FjaGU6IHRydWUsXHJcbiAgICAgICAgICAgIGFzeW5jOiB0cnVlXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaGFuZGxlLmRvbmUoKGRhdGE6IEFycmF5PFN5c3RlbUNlbnRlci5BZGRpdGlvbmFsRmllbGQ+KSA9PiB7XHJcbiAgICAgICAgICAgIHNldEFkZGl0aW9uYWxGaWVsZHMoZGF0YSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBoYW5kbGU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0RmllbGRWYWx1ZXMoKTogSlF1ZXJ5LmpxWEhSIHtcclxuXHJcbiAgICAgICAgbGV0IGhhbmRsZSA9ICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIHVybDogYCR7aG9tZVBhdGh9YXBpL1N5c3RlbUNlbnRlci9BZGRpdGlvbmFsRmllbGRWYWx1ZS8ke3Byb3BzLklEfWAsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgY2FjaGU6IHRydWUsXHJcbiAgICAgICAgICAgIGFzeW5jOiB0cnVlXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaGFuZGxlLmRvbmUoKGRhdGE6IEFycmF5PFN5c3RlbUNlbnRlci5BZGRpdGlvbmFsRmllbGRWYWx1ZT4pID0+IHtcclxuICAgICAgICAgICAgc2V0QWRkaXRpb25hbEZpZWxkVmF1bGVzKGRhdGEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaGFuZGxlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFZhbHVlTGlzdHMoKTogSlF1ZXJ5LmpxWEhSIHtcclxuXHJcbiAgICAgICAgbGV0IGhhbmRsZSA9ICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIHVybDogYCR7aG9tZVBhdGh9YXBpL1ZhbHVlTGlzdEdyb3VwYCxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBjYWNoZTogdHJ1ZSxcclxuICAgICAgICAgICAgYXN5bmM6IHRydWVcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBoYW5kbGUuZG9uZSgoZGF0YTogQXJyYXk8U3lzdGVtQ2VudGVyLlZhbHVlTGlzdEdyb3VwPikgPT4ge1xyXG4gICAgICAgICAgICBzZXRWYWx1ZUxpc3RHcm91cHMoZGF0YSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBoYW5kbGU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0RXh0ZXJuYWxEYXRhQmFzZSgpOiBKUXVlcnkuanFYSFIge1xyXG5cclxuICAgICAgICBsZXQgaGFuZGxlID0gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvU3lzdGVtQ2VudGVyL0FkZGl0aW9uYWxGaWVsZC9FeHRlcm5hbERhdGFCYXNlYCxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBjYWNoZTogdHJ1ZSxcclxuICAgICAgICAgICAgYXN5bmM6IHRydWVcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBoYW5kbGUuZG9uZSgoZGF0YTogQXJyYXk8YW55PikgPT4ge1xyXG4gICAgICAgICAgICBzZXRFeHRlcm5hbERCcyhkYXRhLm1hcChpdGVtID0+IGl0ZW0uRXh0ZXJuYWxEQikpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaGFuZGxlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEV4dGVybmFsRGF0YUJhc2VUYWJsZXMoKTogSlF1ZXJ5LmpxWEhSIHtcclxuXHJcbiAgICAgICAgbGV0IGhhbmRsZSA9ICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIHVybDogYCR7aG9tZVBhdGh9YXBpL1N5c3RlbUNlbnRlci9FeHRlcm5hbERCVGFibGVzL1RhYmxlTmFtZS8wYCxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBjYWNoZTogdHJ1ZSxcclxuICAgICAgICAgICAgYXN5bmM6IHRydWVcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBoYW5kbGUuZG9uZSgoZGF0YTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBkID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgc2V0RXh0ZXJuYWxEQlRhYmxlcyhkLm1hcChpdGVtID0+IGl0ZW0uVGFibGVOYW1lKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBoYW5kbGU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdmFsaWRhdGVGaWVsZE5hbWUoKTogSlF1ZXJ5LmpxWEhSPHN0cmluZz4ge1xyXG4gICAgICAgIGlmIChuZXdGaWVsZC5GaWVsZE5hbWUgPT0gbnVsbCB8fCBuZXdGaWVsZC5GaWVsZE5hbWUubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICBsZXQgaCA9ICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUG9zdFwiLFxyXG4gICAgICAgICAgICB1cmw6IGAke2hvbWVQYXRofWFwaS9TeXN0ZW1DZW50ZXIvQWRkaXRpb25hbEZpZWxkL1NlYXJjaGFibGVMaXN0YCxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7IFNlYXJjaGVzOiBbeyBGaWVsZE5hbWU6ICdGaWVsZE5hbWUnLCBPcGVyYXRvcjogXCI9XCIsIFNlYXJjaFRleHQ6IG5ld0ZpZWxkLkZpZWxkTmFtZSwgVHlwZTogJ3N0cmluZycgfSBhcyBTZWFyY2guSUZpbHRlcjxTeXN0ZW1DZW50ZXIuQWRkaXRpb25hbEZpZWxkPl0sIE9yZGVyQnk6IFwiRmllbGROYW1lXCIsIEFzY2VuZGluZzogdHJ1ZSB9KSxcclxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGguZG9uZSgoZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBmaWVsZHMgPSBKU09OLnBhcnNlKGQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZpZWxkcy5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAgICAgIHNldE5ld0ZpZWxkTmFtZVZhbGlkKHRydWUpO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChmaWVsZHMubGVuZ3RoID4gMSlcclxuICAgICAgICAgICAgICAgIHNldE5ld0ZpZWxkTmFtZVZhbGlkKGZhbHNlKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAoZmllbGRzWzBdLklEID09IG5ld0ZpZWxkLklEKVxyXG4gICAgICAgICAgICAgICAgc2V0TmV3RmllbGROYW1lVmFsaWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHNldE5ld0ZpZWxkTmFtZVZhbGlkKGZhbHNlKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBoO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRPclVwZGF0ZVZhbHVlcygpOiB2b2lkIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICAgIHVybDogYCR7aG9tZVBhdGh9YXBpL1N5c3RlbUNlbnRlci9BZGRpdGlvbmFsRmllbGRWYWx1ZS9BcnJheWAsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcclxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoYWRkaXRpb25hbEZpZWxkVmFsdWVzV29ya2luZyksXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIGNhY2hlOiB0cnVlLFxyXG4gICAgICAgICAgICBhc3luYzogdHJ1ZVxyXG4gICAgICAgIH0pLmRvbmUoZSA9PiB7XHJcbiAgICAgICAgICAgIGdldERhdGEoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGROZXdGaWVsZCgpOiB2b2lkIHtcclxuICAgICAgICBzZXRTaG93TG9hZGluZyh0cnVlKVxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUEFUQ0hcIixcclxuICAgICAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvU3lzdGVtQ2VudGVyL0FkZGl0aW9uYWxGaWVsZC9VcGRhdGVgLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KG5ld0ZpZWxkKSxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgY2FjaGU6IHRydWUsXHJcbiAgICAgICAgICAgIGFzeW5jOiB0cnVlXHJcbiAgICAgICAgfSkuZG9uZShlID0+IHtcclxuICAgICAgICAgICAgZ2V0RGF0YSgpO1xyXG4gICAgICAgICAgICBzZXRTaG93TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVsZXRlRmllbGQoZmllbGQ6IFN5c3RlbUNlbnRlci5BZGRpdGlvbmFsRmllbGQpOiB2b2lkIHtcclxuICAgICAgICBzZXRTaG93TG9hZGluZyh0cnVlKTtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICB1cmw6IGAke2hvbWVQYXRofWFwaS9TeXN0ZW1DZW50ZXIvQWRkaXRpb25hbEZpZWxkL0RlbGV0ZWAsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcclxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZmllbGQpLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBjYWNoZTogdHJ1ZSxcclxuICAgICAgICAgICAgYXN5bmM6IHRydWVcclxuICAgICAgICB9KS5kb25lKGUgPT4ge1xyXG4gICAgICAgICAgICBnZXREYXRhKCk7XHJcbiAgICAgICAgICAgIHNldFNob3dMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gVmFsaWRGaWVsZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gbmV3RmllbGROYW1lVmFsaWQgJiYgIG5ld0ZpZWxkLkZpZWxkTmFtZSAhPSBudWxsICYmIG5ld0ZpZWxkLkZpZWxkTmFtZS5sZW5ndGggPiAwICYmXHJcbiAgICAgICAgICAgIChuZXdGaWVsZC5FeHRlcm5hbERCID09IG51bGwgfHwgbmV3RmllbGQuRXh0ZXJuYWxEQi5sZW5ndGggPT0gMCB8fFxyXG4gICAgICAgICAgICAgICAgKCEobmV3RmllbGQuRXh0ZXJuYWxEQlRhYmxlID09IG51bGwgfHwgbmV3RmllbGQuRXh0ZXJuYWxEQlRhYmxlLmxlbmd0aCA9PSAwKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICEobmV3RmllbGQuRXh0ZXJuYWxEQlRhYmxlS2V5ID09IG51bGwgfHwgbmV3RmllbGQuRXh0ZXJuYWxEQlRhYmxlS2V5Lmxlbmd0aCA9PSAwKSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIEhhc1ZhbHVlQ2hhbmdlZCgpOiBib29sZWFuIHtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gYWRkaXRpb25hbEZpZWxkVmFsdWVzV29ya2luZy5zb21lKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaSA9IGFkZGl0aW9uYWxGaWVsZFZhbHVlcy5maW5kSW5kZXgodmFsID0+IHZhbC5BZGRpdGlvbmFsRmllbGRJRCA9PSBpdGVtLkFkZGl0aW9uYWxGaWVsZElEKVxyXG4gICAgICAgICAgICBpZiAoaSA9PSAtMSAmJiBpdGVtLlZhbHVlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChpID09IC0xKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtLlZhbHVlICE9IGFkZGl0aW9uYWxGaWVsZFZhbHVlc1tpXS5WYWx1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBDaGFuZ2VkVmFsdWVzKHdhcm5pbmc6IGJvb2xlYW4pOiBBcnJheTxKU1guRWxlbWVudD4ge1xyXG5cclxuICAgICAgICBsZXQgcmVzdWx0OiBKU1guRWxlbWVudFtdID0gW107XHJcbiAgICAgICAgYWRkaXRpb25hbEZpZWxkVmFsdWVzV29ya2luZy5mb3JFYWNoKChpdGVtLGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpRmxkID0gYWRkaXRpb25hbEZpZWxkcy5maW5kSW5kZXgoZmxkID0+IGZsZC5JRCA9PSBpdGVtLkFkZGl0aW9uYWxGaWVsZElEKTtcclxuICAgICAgICAgICAgbGV0IGlXVmFsID0gYWRkaXRpb25hbEZpZWxkVmFsdWVzLmZpbmRJbmRleCh2YWwgPT4gdmFsLkFkZGl0aW9uYWxGaWVsZElEID09IGl0ZW0uQWRkaXRpb25hbEZpZWxkSUQpXHJcblxyXG4gICAgICAgICAgICBpZiAoaUZsZCA9PSAtMSB8fCAoaVdWYWwgPT0gLTEgJiYgaXRlbS5WYWx1ZSA9PSBudWxsKSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgaWYgKGlXVmFsID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgod2FybmluZyA/IDxwIGtleT17aW5kZXh9PiA8aSBzdHlsZT17eyBtYXJnaW5SaWdodDogJzEwcHgnLCBjb2xvcjogJyNmZmMxMDcnIH19IGNsYXNzTmFtZT1cImZhIGZhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlXCI+PC9pPiBDaGFuZ2VzIHRvICd7YWRkaXRpb25hbEZpZWxkc1tpRmxkXS5GaWVsZE5hbWV9JyB3aWxsIGJlIGxvc3QuPC9wPiA6XHJcbiAgICAgICAgICAgICAgICAgICAgPHAga2V5PXtpbmRleH0+IDxpIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnMTBweCcsIGNvbG9yOiAnIzI4QTc0NScgfX0gY2xhc3NOYW1lPVwiZmEgZmEtY2hlY2stY2lyY2xlXCI+PC9pPiBDaGFuZ2VzIHRvICd7YWRkaXRpb25hbEZpZWxkc1tpRmxkXS5GaWVsZE5hbWV9JyBhcmUgdmFsaWQuPC9wPikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpdGVtLlZhbHVlID09IGFkZGl0aW9uYWxGaWVsZFZhbHVlc1tpV1ZhbF0uVmFsdWUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICByZXN1bHQucHVzaCgod2FybmluZyA/IDxwIGtleT17aW5kZXh9PiA8aSBzdHlsZT17eyBtYXJnaW5SaWdodDogJzEwcHgnLCBjb2xvcjogJyNmZmMxMDcnIH19IGNsYXNzTmFtZT1cImZhIGZhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlXCI+PC9pPiBDaGFuZ2VzIHRvICd7YWRkaXRpb25hbEZpZWxkc1tpRmxkXS5GaWVsZE5hbWV9JyB3aWxsIGJlIGxvc3QuPC9wPiA6XHJcbiAgICAgICAgICAgICAgICA8cCBrZXk9e2luZGV4fT4gPGkgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6ICcxMHB4JywgY29sb3I6ICcjMjhBNzQ1JyB9fSBjbGFzc05hbWU9XCJmYSBmYS1jaGVjay1jaXJjbGVcIj48L2k+IENoYW5nZXMgdG8gJ3thZGRpdGlvbmFsRmllbGRzW2lGbGRdLkZpZWxkTmFtZX0nIGFyZSB2YWxpZC48L3A+KSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gSGFzSW52YWxpZENoYW5nZXMoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGFkZGl0aW9uYWxGaWVsZFZhbHVlc1dvcmtpbmcuc29tZShpdGVtID0+IHtcclxuICAgICAgICAgICAgbGV0IGkgPSBhZGRpdGlvbmFsRmllbGRzLmZpbmRJbmRleChmbGQgPT4gZmxkLklEID09IGl0ZW0uQWRkaXRpb25hbEZpZWxkSUQpO1xyXG4gICAgICAgICAgICBpZiAoaSA9PSAtMSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKGFkZGl0aW9uYWxGaWVsZHNbaV0uVHlwZSA9PSAnaW50ZWdlcicpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gIShpdGVtLlZhbHVlID09IG51bGwgfHwgQXNzZXRBdHRyaWJ1dGVzLmlzSW50ZWdlcihpdGVtLlZhbHVlKSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIEludmFsaWRDaGFuZ2VzKCk6IEFycmF5PEpTWC5FbGVtZW50PiB7XHJcbiAgICAgICAgaWYgKCFIYXNJbnZhbGlkQ2hhbmdlcygpKVxyXG4gICAgICAgICAgICByZXR1cm4gW11cclxuICAgICAgICBsZXQgcmVzdWx0ID0gW107XHJcbiAgICAgICAgYWRkaXRpb25hbEZpZWxkVmFsdWVzV29ya2luZy5mb3JFYWNoKChpdGVtLGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpID0gYWRkaXRpb25hbEZpZWxkcy5maW5kSW5kZXgoZmxkID0+IGZsZC5JRCA9PSBpdGVtLkFkZGl0aW9uYWxGaWVsZElEKTtcclxuICAgICAgICAgICAgaWYgKGkgPT0gLTEpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChhZGRpdGlvbmFsRmllbGRzW2ldLlR5cGUgPT0gJ2ludGVnZXInICYmICEoaXRlbS5WYWx1ZSA9PSBudWxsIHx8IEFzc2V0QXR0cmlidXRlcy5pc0ludGVnZXIoaXRlbS5WYWx1ZSkpKVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goPHAga2V5PXtpbmRleH0+IDxpIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnMTBweCcsIGNvbG9yOiAnI2RjMzU0NScgfX0gY2xhc3NOYW1lPVwiZmEgZmEtZXhjbGFtYXRpb24tY2lyY2xlXCI+PC9pPiBWYWx1ZSBmb3IgJ3thZGRpdGlvbmFsRmllbGRzW2ldLkZpZWxkTmFtZX0nIGlzIHJlcXVpcmVkIHRvIGJlIGFuIGludGVnZXIuPC9wPilcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCIgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAxMCwgbWF4SGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQgLSAyMTUgfX0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2xcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0PkFkZGl0aW9uYWwgRmllbGRzOjwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2xcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyhlZGl0KSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBwdWxsLXJpZ2h0XCIgZGF0YS10b29sdGlwPSdWaWV3JyBvbkNsaWNrPXsoKSA9PiB7IHNldEVkaXQoZmFsc2UpOyBnZXRGaWVsZFZhbHVlcygpOyB9fSBvbk1vdXNlRW50ZXI9eygpID0+IHNldEhvdmVyKCdWaWV3Jyl9IG9uTW91c2VMZWF2ZT17KCkgPT4gc2V0SG92ZXIoJ05vbmUnKX0+VmlldzwvYnV0dG9uPiA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBwdWxsLXJpZ2h0XCIgb25DbGljaz17KCkgPT4gc2V0RWRpdCh0cnVlKX0+RWRpdDwvYnV0dG9uPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRvb2xUaXAgU2hvdz17aG92ZXIgPT0gJ1ZpZXcnICYmIChIYXNWYWx1ZUNoYW5nZWQoKSl9IFBvc2l0aW9uPXsnbGVmdCd9IFRoZW1lPXsnZGFyayd9IFRhcmdldD17XCJWaWV3XCJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge0NoYW5nZWRWYWx1ZXModHJ1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvVG9vbFRpcD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYm9keVwiIHN0eWxlPXt7IG1heEhlaWdodDogd2luZG93LmlubmVySGVpZ2h0IC0gMzE1LCBvdmVyZmxvd1k6ICdhdXRvJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8VGFibGU8U3lzdGVtQ2VudGVyLkFkZGl0aW9uYWxGaWVsZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29scz17W1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdGaWVsZE5hbWUnLCBsYWJlbDogJ0ZpZWxkJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiAnRXh0ZXJuYWxEQicsIGxhYmVsOiAnRXh0IERCJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiAnVHlwZScsIGxhYmVsOiAnVHlwZScsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnSXNTZWN1cmUnLCBsYWJlbDogJ1ZhbHVlJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCByb3dTdHlsZTogeyB3aWR0aDogJ2F1dG8nIH0sIGNvbnRlbnQ6IChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleDogbnVtYmVyID0gYWRkaXRpb25hbEZpZWxkVmFsdWVzLmZpbmRJbmRleCh2YWx1ZSA9PiB2YWx1ZS5BZGRpdGlvbmFsRmllbGRJRCA9PSBpdGVtLklEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlZGl0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpbmRleCA+IC0xICYmIGFkZGl0aW9uYWxGaWVsZFZhbHVlc1tpbmRleF0uVmFsdWUgIT0gbnVsbCA/IGFkZGl0aW9uYWxGaWVsZFZhbHVlc1tpbmRleF0uVmFsdWUudG9TdHJpbmcoKSA6ICcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxWYWx1ZUZpZWxkIEZpZWxkPXtpdGVtfSBQYXJlbnRUYWJsZUlEPXtwcm9wcy5JRH0gVmFsdWVzPXthZGRpdGlvbmFsRmllbGRWYWx1ZXNXb3JraW5nfSBTZXR0ZXI9eyh2YWw6IFN5c3RlbUNlbnRlci5BZGRpdGlvbmFsRmllbGRWYWx1ZVtdKSA9PiBzZXRBZGRpdGlvbmFsRmllbGRWYWx1ZXNXb3JraW5nKHZhbCl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiAnSUQnLCBsYWJlbDogJycsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiA0MCwgcGFkZGluZ1JpZ2h0OiAwLCBwYWRkaW5nTGVmdDogMTAgfSwgcm93U3R5bGU6IHsgd2lkdGg6IDQwLCBwYWRkaW5nUmlnaHQ6IDAsIHBhZGRpbmdMZWZ0OiAxMCwgcGFkZGluZ1RvcDogMzYgfSwgY29udGVudDogKGl0ZW0pID0+IChlZGl0ID8gPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXNtXCIgb25DbGljaz17KCkgPT4geyBzZXROZXdGaWVsZChpdGVtKTsgc2V0U2hvd0VkaXQodHJ1ZSk7IH19PjxzcGFuPjxpIGNsYXNzTmFtZT1cImZhIGZhLXBlbmNpbFwiPjwvaT48L3NwYW4+PC9idXR0b24+IDogJycpIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBudWxsLCBsYWJlbDogJycsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiA0MCwgcGFkZGluZ0xlZnQ6IDAsIHBhZGRpbmdSaWdodDogMTAgfSwgcm93U3R5bGU6IHsgd2lkdGg6IDQwLCBwYWRkaW5nTGVmdDogMCwgcGFkZGluZ1RvcDogMzYsIHBhZGRpbmdSaWdodDogMTAgfSwgY29udGVudDogKGl0ZW0pID0+IChlZGl0ID8gPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXNtXCIgb25DbGljaz17KCkgPT4geyBzZXROZXdGaWVsZChpdGVtKTsgc2V0U2hvd1dhcm5pbmcodHJ1ZSk7IH19PjxzcGFuPjxpIGNsYXNzTmFtZT1cImZhIGZhLXRpbWVzXCI+PC9pPjwvc3Bhbj48L2J1dHRvbj4gOiAnJykgfSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlQ2xhc3M9XCJ0YWJsZSB0YWJsZS1ob3ZlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE9e2FkZGl0aW9uYWxGaWVsZHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRGaWVsZD17c29ydEZpZWxkc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXNjZW5kaW5nPXthc2NlbmRpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU29ydD17KGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLmNvbCA9PSBudWxsIHx8IGQuY29sID09ICdJRCcgfHwgZC5jb2wgPT0gJ0lzU2VjdXJlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZC5jb2wgPT0gc29ydEZpZWxkcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBc2NlbmRpbmcoIWFzY2VuZGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBc2NlbmRpbmcodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U29ydEZpZWxkKGQuY29sKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGZsZCkgPT4geyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVhZFN0eWxlPXt7IGZvbnRTaXplOiAnc21hbGxlcicsIGRpc3BsYXk6ICd0YWJsZScsIHRhYmxlTGF5b3V0OiAnZml4ZWQnLCB3aWR0aDogJzEwMCUnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRib2R5U3R5bGU9e3sgZGlzcGxheTogJ2Jsb2NrJywgb3ZlcmZsb3dZOiAnc2Nyb2xsJywgbWF4SGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQgLSA0NTUsfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93U3R5bGU9e3tkaXNwbGF5OiAndGFibGUnLCB0YWJsZUxheW91dDogJ2ZpeGVkJywgd2lkdGg6ICcxMDAlJyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZD17KGl0ZW0pID0+IGZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtZm9vdGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBtci0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e1wiYnRuIGJ0bi1wcmltYXJ5XCIgKyAoIWVkaXQgPyAnIGRpc2FibGVkJyA6ICcnKX0gb25Nb3VzZUVudGVyPXsoKSA9PiBzZXRIb3ZlcignTmV3Jyl9IG9uTW91c2VMZWF2ZT17KCkgPT4gc2V0SG92ZXIoJ05vbmUnKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyBpZiAoZWRpdCkgeyBzZXRTaG93RWRpdCh0cnVlKTsgc2V0TmV3RmllbGQoRW1wdHlGaWVsZCkgfSB9fSBkYXRhLXRvb2x0aXA9eydOZXcnfSA+QWRkIEZpZWxkPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxUb29sVGlwIFNob3c9e2hvdmVyID09ICdOZXcnICYmICFlZGl0fSBQb3NpdGlvbj17J3RvcCd9IFRoZW1lPXsnZGFyayd9IFRhcmdldD17XCJOZXdcIn0+XHJcbiAgICAgICAgICAgICAgICAgICAgeyFlZGl0PyA8cD4gVG8gYWRkIGEgbmV3IEZpZWxkIHN3aXRjaCB0byBFZGl0IG1vZGUgYnkgY2xpY2tpbmcgb24gdGhlIEVkaXQgQnV0dG9uIG9uIHRoZSB1cHBlciByaWdodCBjb3JuZXIuPC9wPiA6IG51bGx9XHJcbiAgICAgICAgICAgICAgICA8L1Rvb2xUaXA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBtci0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e1wiYnRuIGJ0bi1wcmltYXJ5XCIgKyAoIUhhc1ZhbHVlQ2hhbmdlZCgpIHx8ICFlZGl0IHx8IEhhc0ludmFsaWRDaGFuZ2VzKCkgPyAnIGRpc2FibGVkJyA6ICcnKX0gb25DbGljaz17KCkgPT4geyBpZiAoSGFzVmFsdWVDaGFuZ2VkKCkgJiYgIUhhc0ludmFsaWRDaGFuZ2VzKCkgJiYgZWRpdCkgYWRkT3JVcGRhdGVWYWx1ZXMoKTsgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoKSA9PiBzZXRIb3ZlcignU2F2ZScpfSBvbk1vdXNlTGVhdmU9eygpID0+IHNldEhvdmVyKCdOb25lJyl9IGRhdGEtdG9vbHRpcD17J1NhdmVWYWx1ZXMnfT5TYXZlIENoYW5nZXM8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPFRvb2xUaXAgU2hvdz17aG92ZXIgPT0gJ1NhdmUnICYmICghZWRpdCB8fCBIYXNWYWx1ZUNoYW5nZWQoKSl9IFBvc2l0aW9uPXsndG9wJ30gVGhlbWU9eydkYXJrJ30gVGFyZ2V0PXtcIlNhdmVWYWx1ZXNcIn0+XHJcbiAgICAgICAgICAgICAgICAgICAgeyFlZGl0ID8gPHA+IFRvIGNoYW5nZSBhbnkgRmllbGRzIHN3aXRjaCB0byBFZGl0IG1vZGUgYnkgY2xpY2tpbmcgb24gdGhlIEVkaXQgQnV0dG9uIG9uIHRoZSB1cHBlciByaWdodCBjb3JuZXIuPC9wPiA6IG51bGx9XHJcbiAgICAgICAgICAgICAgICAgICAge0hhc1ZhbHVlQ2hhbmdlZCgpICYmICFIYXNJbnZhbGlkQ2hhbmdlcygpID8gQ2hhbmdlZFZhbHVlcyhmYWxzZSkgOiBudWxsfVxyXG4gICAgICAgICAgICAgICAgICAgIHtIYXNWYWx1ZUNoYW5nZWQoKSAmJiBIYXNJbnZhbGlkQ2hhbmdlcygpID8gSW52YWxpZENoYW5nZXMoKSA6IG51bGx9XHJcbiAgICAgICAgICAgICAgICA8L1Rvb2xUaXA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBtci0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e1wiYnRuIGJ0bi1kZWZhdWx0XCIgKyAoIShIYXNWYWx1ZUNoYW5nZWQoKSkgfHwgIWVkaXQgPyAnIGRpc2FibGVkJyA6ICcnKX0gb25DbGljaz17KCkgPT4geyBpZiAoSGFzVmFsdWVDaGFuZ2VkKCkgJiYgZWRpdCkgZ2V0RmllbGRWYWx1ZXMoKTsgfX0gb25Nb3VzZUVudGVyPXsoKSA9PiBzZXRIb3ZlcignQ2xlYXInKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiBzZXRIb3ZlcignTm9uZScpfSBkYXRhLXRvb2x0aXA9eydDbGVhcid9PlJlc2V0PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxUb29sVGlwIFNob3c9e2hvdmVyID09ICdDbGVhcicgJiYgKCFlZGl0IHx8IEhhc1ZhbHVlQ2hhbmdlZCgpKX0gUG9zaXRpb249eyd0b3AnfSBUaGVtZT17J2RhcmsnfSBUYXJnZXQ9e1wiQ2xlYXJcIn0+XHJcbiAgICAgICAgICAgICAgICAgICAgeyFlZGl0ID8gPHA+IFRvIGNoYW5nZSBhbnkgRmllbGRzIHN3aXRjaCB0byBFZGl0IG1vZGUgYnkgY2xpY2tpbmcgb24gdGhlIEVkaXQgQnV0dG9uIG9uIHRoZSB1cHBlciByaWdodCBjb3JuZXIuPC9wPiA6IG51bGx9XHJcbiAgICAgICAgICAgICAgICAgICAge0hhc1ZhbHVlQ2hhbmdlZCgpID8gQ2hhbmdlZFZhbHVlcyh0cnVlKSA6IG51bGwgfVxyXG4gICAgICAgICAgICAgICAgPC9Ub29sVGlwPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPExvYWRpbmdTY3JlZW4gU2hvdz17c2hvd0xvYWRpbmd9IC8+XHJcbiAgICAgICAgICAgIDxXYXJuaW5nIFNob3c9e3Nob3dXYXJuaW5nfSBUaXRsZT17J0RlbGV0ZSAnICsgbmV3RmllbGQuRmllbGROYW1lfVxyXG4gICAgICAgICAgICAgICAgTWVzc2FnZT17XCJUaGlzIHdpbGwgZGVsZXRlIHRoZSBmaWVsZCAnXCIgKyBuZXdGaWVsZC5GaWVsZE5hbWUgKyBcIicgZnJvbSBhbGwgXCIgKyBwcm9wcy5UeXBlICsgXCJzIGFuZCB3aWxsIGFsc28gZGVsZXRlIGFsbCBpbmZvcm1hdGlvbiBhc3NpZ25lZCB0byB0aGVzZSBmaWVsZHMuXCJ9XHJcbiAgICAgICAgICAgICAgICBDYWxsQmFjaz17KGNvbmZpcm06IGJvb2xlYW4pID0+IHsgaWYgKGNvbmZpcm0pIGRlbGV0ZUZpZWxkKG5ld0ZpZWxkKTsgc2V0U2hvd1dhcm5pbmcoZmFsc2UpIH19IC8+XHJcblxyXG4gICAgICAgICAgICA8TW9kYWxcclxuICAgICAgICAgICAgICAgIFRpdGxlPXsnQWRkaXRpb25hbCBGaWVsZCd9IENvbmZpcm1UZXh0PXsnU2F2ZSd9IENhbmNlbFRleHQ9eydDbG9zZSd9XHJcbiAgICAgICAgICAgICAgICBDb25maXJtQnRuQ2xhc3M9eydidG4tcHJpbWFyeScgKyAoIVZhbGlkRmllbGQoKSA/ICcgZGlzYWJsZWQnIDogJycpfVxyXG4gICAgICAgICAgICAgICAgU2hvdz17c2hvd0VkaXR9IFNpemU9eydsZyd9IFNob3dYPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgQ2FsbEJhY2s9eyhjb25maXJtYXRpb246IGJvb2xlYW4sIGJ0bjogYm9vbGVhbikgPT4geyBpZiAoIVZhbGlkRmllbGQoKSAmJiBjb25maXJtYXRpb24pIHJldHVybjsgaWYgKGNvbmZpcm1hdGlvbikgYWRkTmV3RmllbGQoKTsgc2V0U2hvd0VkaXQoZmFsc2UpOyB9fVxyXG4gICAgICAgICAgICAgICAgQ29uZmlybVNob3dUb29sVGlwPXshVmFsaWRGaWVsZCgpfVxyXG4gICAgICAgICAgICAgICAgQ29uZmlybVRvb2xUaXBDb250ZW50PXtcclxuICAgICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7bmV3RmllbGQuRmllbGROYW1lID09IG51bGwgfHwgbmV3RmllbGQuRmllbGROYW1lLmxlbmd0aCA9PSAwIHx8ICFuZXdGaWVsZE5hbWVWYWxpZCA/IDxwPiA8aSBzdHlsZT17eyBtYXJnaW5SaWdodDogJzEwcHgnLCBjb2xvcjogJyNkYzM1NDUnIH19IGNsYXNzTmFtZT1cImZhIGZhLWV4Y2xhbWF0aW9uLWNpcmNsZVwiPjwvaT4gRmllbGQgTmFtZSBpcyByZXF1aXJlZCBhbmQgaGFzIHRvIGJlIHVuaXF1ZS48L3A+IDogbnVsbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAge25ld0ZpZWxkLkV4dGVybmFsREIgIT0gbnVsbCAmJiBuZXdGaWVsZC5FeHRlcm5hbERCVGFibGUgPT0gbnVsbCA/IDxwPiA8aSBzdHlsZT17eyBtYXJnaW5SaWdodDogJzEwcHgnLCBjb2xvcjogJyNkYzM1NDUnIH19IGNsYXNzTmFtZT1cImZhIGZhLWV4Y2xhbWF0aW9uLWNpcmNsZVwiPjwvaT4gQSBGaWVsZCBmcm9tIGFuIEV4dGVybmFsIERhdGFiYXNlIHJlcXVpcmVzIGFuIEV4dGVybmFsIERhdGFiYXNlIFRhYmxlLjwvcD4gOiBudWxsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7bmV3RmllbGQuRXh0ZXJuYWxEQiAhPSBudWxsICYmIG5ld0ZpZWxkLkV4dGVybmFsREJUYWJsZUtleSA9PSBudWxsID8gPHA+IDxpIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnMTBweCcsIGNvbG9yOiAnI2RjMzU0NScgfX0gY2xhc3NOYW1lPVwiZmEgZmEtZXhjbGFtYXRpb24tY2lyY2xlXCI+PC9pPiBBIEZpZWxkIGZyb20gYW4gRXh0ZXJuYWwgRGF0YWJhc2UgcmVxdWlyZXMgYW4gRXh0ZXJuYWwgRGF0YWJhc2UgVGFibGUgS2V5LjwvcD4gOiBudWxsfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxJbnB1dDxTeXN0ZW1DZW50ZXIuQWRkaXRpb25hbEZpZWxkPiBSZWNvcmQ9e25ld0ZpZWxkfSBGaWVsZD0nRmllbGROYW1lJyBWYWxpZD17KGZpZWxkKSA9PiBuZXdGaWVsZC5GaWVsZE5hbWUgIT0gbnVsbCAmJiBuZXdGaWVsZC5GaWVsZE5hbWUubGVuZ3RoID4gMCAmJiBuZXdGaWVsZE5hbWVWYWxpZH0gTGFiZWw9XCJGaWVsZCBOYW1lXCIgU2V0dGVyPXtzZXROZXdGaWVsZH0gRmVlZGJhY2s9eydUaGUgYWRkaXRpb25hbCBmaWVsZCBuZWVkcyB0byBoYXZlIGEgdW5pcXVlIEZpZWxkIE5hbWUnfSAvPlxyXG4gICAgICAgICAgICAgICAgPFNlbGVjdDxTeXN0ZW1DZW50ZXIuQWRkaXRpb25hbEZpZWxkPiBSZWNvcmQ9e25ld0ZpZWxkfSBGaWVsZD0nVHlwZScgT3B0aW9ucz17W3sgVmFsdWU6ICdzdHJpbmcnLCBMYWJlbDogJ3N0cmluZycgfSwgeyBWYWx1ZTogJ2ludGVnZXInLCBMYWJlbDogJ2ludGVnZXInIH0sIHsgVmFsdWU6ICdudW1iZXInLCBMYWJlbDogJ251bWJlcicgfV0uY29uY2F0KHZhbHVlTGlzdEdyb3Vwcy5maWx0ZXIoeCA9PiB4LkVuYWJsZWQpLm1hcCh4ID0+IHsgcmV0dXJuIHsgVmFsdWU6IHguTmFtZSwgTGFiZWw6IHguTmFtZSB9IH0pKX0gTGFiZWw9XCJGaWVsZCBUeXBlXCIgU2V0dGVyPXtzZXROZXdGaWVsZH0gLz5cclxuICAgICAgICAgICAgICAgIDxTZWxlY3Q8U3lzdGVtQ2VudGVyLkFkZGl0aW9uYWxGaWVsZD4gUmVjb3JkPXtuZXdGaWVsZH0gRmllbGQ9J0V4dGVybmFsREInIExhYmVsPVwiRXh0ZXJuYWwgRGF0YWJhc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgIFNldHRlcj17KGZsZDogU3lzdGVtQ2VudGVyLkFkZGl0aW9uYWxGaWVsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmxkLkV4dGVybmFsREIgPT0gbnVsbCB8fCBmbGQuRXh0ZXJuYWxEQiA9PSAnJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZCA9IHsgLi4uZmxkLCBFeHRlcm5hbERCOiBudWxsLCBFeHRlcm5hbERCVGFibGU6IG51bGwsIEV4dGVybmFsREJUYWJsZUtleTogbnVsbCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXROZXdGaWVsZChmbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgRW1wdHlPcHRpb249e3RydWV9IE9wdGlvbnM9e2V4dGVybmFsREJzLm1hcChpdGVtID0+ICh7IFZhbHVlOiBpdGVtLCBMYWJlbDogaXRlbSB9KSl9IC8+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtdG9vbHRpcD1cIkV4dGVybmFsREJcIiBvbk1vdXNlRW50ZXI9eygpID0+IHNldEhvdmVyKCdFeHRlcm5hbERCJyl9IG9uTW91c2VMZWF2ZT17KCkgPT4gc2V0SG92ZXIoJ05vbmUnKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdDxTeXN0ZW1DZW50ZXIuQWRkaXRpb25hbEZpZWxkPiBFbXB0eU9wdGlvbj17dHJ1ZX0gRGlzYWJsZWQ9e25ld0ZpZWxkLkV4dGVybmFsREIgPT0gbnVsbCB8fCBuZXdGaWVsZC5FeHRlcm5hbERCLmxlbmd0aCA9PSAwfSBSZWNvcmQ9e25ld0ZpZWxkfSBGaWVsZD0nRXh0ZXJuYWxEQlRhYmxlJyBPcHRpb25zPXtleHRlcm5hbERCVGFibGVzLm1hcChpdGVtID0+ICh7IFZhbHVlOiBpdGVtLCBMYWJlbDogaXRlbSB9KSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExhYmVsPVwiRXh0ZXJuYWwgRGF0YWJhc2UgVGFibGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZXR0ZXI9e3NldE5ld0ZpZWxkfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8SW5wdXQ8U3lzdGVtQ2VudGVyLkFkZGl0aW9uYWxGaWVsZD4gRGlzYWJsZWQ9e25ld0ZpZWxkLkV4dGVybmFsREIgPT0gbnVsbCB8fCBuZXdGaWVsZC5FeHRlcm5hbERCLmxlbmd0aCA9PSAwfSBSZWNvcmQ9e25ld0ZpZWxkfSBGaWVsZD0nRXh0ZXJuYWxEQlRhYmxlS2V5JyBWYWxpZD17KGZpZWxkKSA9PiB0cnVlfSBMYWJlbD1cIkV4dGVybmFsIERhdGFiYXNlIFRhYmxlIEtleVwiIFNldHRlcj17c2V0TmV3RmllbGR9IC8+XHJcbiAgICAgICAgICAgICAgICA8Q2hlY2tCb3g8U3lzdGVtQ2VudGVyLkFkZGl0aW9uYWxGaWVsZD4gUmVjb3JkPXtuZXdGaWVsZH0gRmllbGQ9J0lzU2VjdXJlJyBMYWJlbD1cIlNlY3VyZSBEYXRhXCIgU2V0dGVyPXtzZXROZXdGaWVsZH0gLz4gXHJcbiAgICAgICAgICAgIDwvTW9kYWw+XHJcbiAgICAgICAgICAgIDxUb29sVGlwIFppbmRleD17OTk5OX0gU2hvdz17aG92ZXIgPT0gJ0V4dGVybmFsREInICYmIChuZXdGaWVsZC5FeHRlcm5hbERCID09IG51bGwgfHwgbmV3RmllbGQuRXh0ZXJuYWxEQi5sZW5ndGggPT0gMCl9IFBvc2l0aW9uPXsnYm90dG9tJ30gVGhlbWU9eydkYXJrJ30gVGFyZ2V0PXtcIkV4dGVybmFsREJcIn0+XHJcbiAgICAgICAgICAgICAgICA8cD4gTm8gRXh0ZXJuYWwgRGF0YWJhc2Ugc2VsZWN0ZWQuPC9wPlxyXG4gICAgICAgICAgICA8L1Rvb2xUaXA+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQWRkaXRpb25hbEZpZWxkc1dpbmRvdztcclxuXHJcbmludGVyZmFjZSBJVmFsdWVGaWVsZFByb3BzIHtcclxuICAgIEZpZWxkOiBTeXN0ZW1DZW50ZXIuQWRkaXRpb25hbEZpZWxkLFxyXG4gICAgVmFsdWVzOiBTeXN0ZW1DZW50ZXIuQWRkaXRpb25hbEZpZWxkVmFsdWVbXSxcclxuICAgIFBhcmVudFRhYmxlSUQ6IG51bWJlcixcclxuICAgIFNldHRlcjogKHZhbDogU3lzdGVtQ2VudGVyLkFkZGl0aW9uYWxGaWVsZFZhbHVlW10pID0+IHZvaWRcclxufVxyXG5jb25zdCBWYWx1ZUZpZWxkID0gKHByb3BzOiBJVmFsdWVGaWVsZFByb3BzKSA9PiB7XHJcbiAgICBjb25zdCBbdmFsdWVMaXN0SXRlbXMsIHNldFZhbHVlTGlzdEl0ZW1zXSA9IFJlYWN0LnVzZVN0YXRlPEFycmF5PFN5c3RlbUNlbnRlci5WYWx1ZUxpc3RJdGVtPj4oW10pO1xyXG4gICAgY29uc3QgW3ZhbHVlSW5kZXgsIHNldFZhbHVlSW5kZXhdID0gUmVhY3QudXNlU3RhdGU8bnVtYmVyPigtMSlcclxuXHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGxldCBpbmRleCA9IHByb3BzLlZhbHVlcy5maW5kSW5kZXgodmFsdWUgPT4gdmFsdWUuQWRkaXRpb25hbEZpZWxkSUQgPT0gcHJvcHMuRmllbGQuSUQpO1xyXG4gICAgICAgIHNldFZhbHVlSW5kZXgoaW5kZXgpO1xyXG4gICAgICAgIGlmIChpbmRleCA9PSAtMSlcclxuICAgICAgICAgICAgcHJvcHMuU2V0dGVyKFsuLi5wcm9wcy5WYWx1ZXMsIHsgSUQ6IDAsIEFkZGl0aW9uYWxGaWVsZElEOiBwcm9wcy5GaWVsZC5JRCwgT3BlblhEQVBhcmVudFRhYmxlSUQ6IHByb3BzLlBhcmVudFRhYmxlSUQsIFZhbHVlOiBudWxsIH1dKTtcclxuICAgICAgICBcclxuICAgIH0sIFtwcm9wcy5WYWx1ZXMsIHByb3BzLkZpZWxkXSk7XHJcblxyXG5cclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKChbXCJpbnRlZ2VyXCIsIFwibnVtYmVyXCIsIFwiYm9vbGVhblwiLCBcInN0cmluZ1wiXSkuaW5kZXhPZihwcm9wcy5GaWVsZC5UeXBlKSA8IDApIHtcclxuICAgICAgICAgICAgbGV0IGhhbmRsZSA9ICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvVmFsdWVMaXN0L0dyb3VwLyR7cHJvcHMuRmllbGQuVHlwZX1gLFxyXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgIGNhY2hlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWVcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIGhhbmRsZS5kb25lKCh2bDogQXJyYXk8U3lzdGVtQ2VudGVyLlZhbHVlTGlzdEl0ZW0+KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRWYWx1ZUxpc3RJdGVtcyh2bCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChoYW5kbGUuYWJvcnQgIT0gdW5kZWZpbmVkKSBoYW5kbGUuYWJvcnQoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW3Byb3BzLkZpZWxkLlR5cGVdKTtcclxuXHJcbiAgICBmdW5jdGlvbiBTZXR0ZXIocmVjb3JkOiBTeXN0ZW1DZW50ZXIuQWRkaXRpb25hbEZpZWxkVmFsdWUpOiB2b2lkIHtcclxuICAgICAgICBsZXQgdXBkYXRlZCA9IF8uY2xvbmVEZWVwKHByb3BzLlZhbHVlcyk7XHJcbiAgICAgICAgdXBkYXRlZFt2YWx1ZUluZGV4XSA9IHJlY29yZDtcclxuICAgICAgICBwcm9wcy5TZXR0ZXIodXBkYXRlZClcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBWYWxpZCh0eXBlOiBTeXN0ZW1DZW50ZXIuQWRkaXRpb25hbEZpZWxkVHlwZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmIChwcm9wcy5GaWVsZC5UeXBlID09IFwiaW50ZWdlclwiKVxyXG4gICAgICAgICAgICByZXR1cm4gcHJvcHMuVmFsdWVzW3ZhbHVlSW5kZXhdLlZhbHVlID09IG51bGwgfHwgQXNzZXRBdHRyaWJ1dGVzLmlzSW50ZWdlcihwcm9wcy5WYWx1ZXNbdmFsdWVJbmRleF0uVmFsdWUpO1xyXG4gICAgICAgIGVsc2UgaWYgKHByb3BzLkZpZWxkLlR5cGUgPT0gXCJudW1iZXJcIilcclxuICAgICAgICAgICAgcmV0dXJuIHByb3BzLlZhbHVlc1t2YWx1ZUluZGV4XS5WYWx1ZSA9PSBudWxsIHx8IEFzc2V0QXR0cmlidXRlcy5pc1JlYWxOdW1iZXIocHJvcHMuVmFsdWVzW3ZhbHVlSW5kZXhdLlZhbHVlKTtcclxuICAgICAgICBlbHNlIGlmIChwcm9wcy5GaWVsZC5UeXBlID09IFwiYm9vbGVhblwiKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2YWx1ZUluZGV4ID09IC0xIHx8IHByb3BzLlZhbHVlc1t2YWx1ZUluZGV4XSA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocHJvcHMuRmllbGQuVHlwZSA9PSAnbnVtYmVyJyB8fCBwcm9wcy5GaWVsZC5UeXBlID09ICdpbnRlZ2VyJylcclxuICAgICAgICByZXR1cm4gPElucHV0PFN5c3RlbUNlbnRlci5BZGRpdGlvbmFsRmllbGRWYWx1ZT4gUmVjb3JkPXtwcm9wcy5WYWx1ZXNbdmFsdWVJbmRleF19IEZpZWxkPXsnVmFsdWUnfSBWYWxpZD17VmFsaWR9IExhYmVsPXsnJ30gVHlwZT17J251bWJlcid9IFNldHRlcj17U2V0dGVyfSBGZWVkYmFjaz17cHJvcHMuRmllbGQuRmllbGROYW1lICsgJyBpcyBhbiBpbnRlZ2VyIGZpZWxkLid9IC8+XHJcbiAgICBpZiAocHJvcHMuRmllbGQuVHlwZSA9PSAnc3RyaW5nJylcclxuICAgICAgICByZXR1cm4gPElucHV0PFN5c3RlbUNlbnRlci5BZGRpdGlvbmFsRmllbGRWYWx1ZT4gUmVjb3JkPXtwcm9wcy5WYWx1ZXNbdmFsdWVJbmRleF19IEZpZWxkPXsnVmFsdWUnfSBWYWxpZD17VmFsaWR9IExhYmVsPXsnJ30gVHlwZT17J3RleHQnfSBTZXR0ZXI9e1NldHRlcn0gLz5cclxuICAgIGlmIChwcm9wcy5GaWVsZC5UeXBlID09ICdib29sZWFuJylcclxuICAgICAgICByZXR1cm4gPENoZWNrQm94PFN5c3RlbUNlbnRlci5BZGRpdGlvbmFsRmllbGRWYWx1ZT4gUmVjb3JkPXtwcm9wcy5WYWx1ZXNbdmFsdWVJbmRleF19IEZpZWxkPXsnVmFsdWUnfSBMYWJlbD17Jyd9IFNldHRlcj17U2V0dGVyfSAvPlxyXG4gICAgcmV0dXJuIDxTZWxlY3Q8U3lzdGVtQ2VudGVyLkFkZGl0aW9uYWxGaWVsZFZhbHVlPiBFbXB0eU9wdGlvbj17dHJ1ZX0gUmVjb3JkPXtwcm9wcy5WYWx1ZXNbdmFsdWVJbmRleF19IEZpZWxkPXsnVmFsdWUnfSBMYWJlbD17Jyd9IFNldHRlcj17U2V0dGVyfSBPcHRpb25zPXt2YWx1ZUxpc3RJdGVtcy5tYXAoeCA9PiAoeyBWYWx1ZTogeC5JRC50b1N0cmluZygpLCBMYWJlbDogeC5UZXh0IH0pKX0gLz5cclxufVxyXG4iLCIvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4vLyAgQXNzZXROb3RlLnRzeCAtIEdidGNcclxuLy9cclxuLy8gIENvcHlyaWdodCDCqSAyMDIwLCBHcmlkIFByb3RlY3Rpb24gQWxsaWFuY2UuICBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4vL1xyXG4vLyAgTGljZW5zZWQgdG8gdGhlIEdyaWQgUHJvdGVjdGlvbiBBbGxpYW5jZSAoR1BBKSB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuIFNlZVxyXG4vLyAgdGhlIE5PVElDRSBmaWxlIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLlxyXG4vLyAgVGhlIEdQQSBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgdGhlIFwiTGljZW5zZVwiOyB5b3UgbWF5IG5vdCB1c2UgdGhpc1xyXG4vLyAgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XHJcbi8vXHJcbi8vICAgICAgaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxyXG4vL1xyXG4vLyAgVW5sZXNzIGFncmVlZCB0byBpbiB3cml0aW5nLCB0aGUgc3ViamVjdCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxyXG4vLyAgXCJBUy1JU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gUmVmZXIgdG8gdGhlXHJcbi8vICBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucy5cclxuLy9cclxuLy8gIENvZGUgTW9kaWZpY2F0aW9uIEhpc3Rvcnk6XHJcbi8vICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAwMS8yMi8yMDIwIC0gQmlsbHkgRXJuZXN0XHJcbi8vICAgICAgIEdlbmVyYXRlZCBvcmlnaW5hbCB2ZXJzaW9uIG9mIHNvdXJjZSBjb2RlLlxyXG4vL1xyXG4vLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuaW1wb3J0IHsgVGV4dEFyZWEgfSBmcm9tICdAZ3BhLWdlbXN0b25lL3JlYWN0LWZvcm1zJztcclxuaW1wb3J0IHsgTW9kYWwsIFRvb2xUaXAgfSBmcm9tICdAZ3BhLWdlbXN0b25lL3JlYWN0LWludGVyYWN0aXZlJztcclxuaW1wb3J0IFRhYmxlIGZyb20gJ0BncGEtZ2Vtc3RvbmUvcmVhY3QtdGFibGUnO1xyXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xyXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IE9wZW5YREEgfSBmcm9tICcuLi9nbG9iYWwnO1xyXG5kZWNsYXJlIHZhciBob21lUGF0aDogc3RyaW5nO1xyXG5cclxuZnVuY3Rpb24gTm90ZVdpbmRvdyhwcm9wczogeyBJRDogbnVtYmVyLCBUeXBlOiAnQXNzZXQnIHwgJ01ldGVyJyB8ICdMb2NhdGlvbicgfCAnQ3VzdG9tZXInIHwgJ0NvbXBhbnknIHwgJ1VzZXInfSk6IEpTWC5FbGVtZW50IHtcclxuICAgIGNvbnN0IFtub3RlVHlwZUlELCBzZXROb3RlVHlwZUlEXSA9IFJlYWN0LnVzZVN0YXRlPG51bWJlcj4oMCk7XHJcbiAgICBjb25zdCBbbm90ZSwgc2V0Tm90ZV0gPSBSZWFjdC51c2VTdGF0ZTxPcGVuWERBLk5vdGU+KHsgSUQ6IC0xLCBVc2VyQWNjb3VudDogJycsIE5vdGU6ICcnLCBOb3RlVHlwZUlEOiAtMSwgUmVmZXJlbmNlVGFibGVJRDogLTEsIFRpbWVzdGFtcDogJycgfSk7XHJcbiAgICBjb25zdCBbc2hvd0VkaXQsIHNldEVkaXRdID0gUmVhY3QudXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xyXG5cclxuICAgIGNvbnN0IFtub3RlTGlzdCwgc2V0Tm90ZUxpc3RdID0gUmVhY3QudXNlU3RhdGU8QXJyYXk8T3BlblhEQS5Ob3RlPj4oW10pO1xyXG4gICAgY29uc3QgW3NvcnRGaWVsZCwgc2V0U29ydEZpZWxkXSA9IFJlYWN0LnVzZVN0YXRlPGtleW9mIE9wZW5YREEuTm90ZT4oJ1RpbWVzdGFtcCcpO1xyXG4gICAgY29uc3QgW2FzY2VuZGluZywgc2V0QXNjZW5kaW5nXSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcclxuXHJcbiAgICBjb25zdCBbaG92ZXJBZGQsIHNldEhvdmVyQWRkXSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcclxuICAgIGNvbnN0IFtob3ZlckNsZWFyLCBzZXRIb3ZlckNsZWFyXSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcclxuXHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBsZXQgdHlwZUhhbmRsZSA9IGdldE5vdGVUeXBlSUQoKTtcclxuICAgICAgICBnZXROb3RlcygpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7IGlmICh0eXBlSGFuZGxlICE9IG51bGwgJiYgdHlwZUhhbmRsZS5hYm9ydCAhPSBudWxsKSB0eXBlSGFuZGxlLmFib3J0KCk7IH1cclxuICAgIH0sIFtwcm9wcy5UeXBlXSk7XHJcblxyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBsZXQgaGFuZGxlID0gZ2V0Tm90ZXMoKTtcclxuICAgICAgICByZXR1cm4gKCkgPT4geyBpZiAoaGFuZGxlICE9IG51bGwgJiYgaGFuZGxlLmFib3J0ICE9IG51bGwpIGhhbmRsZS5hYm9ydCgpOyB9XHJcbiAgICB9LCBbcHJvcHMuSUQsIHNvcnRGaWVsZCwgYXNjZW5kaW5nXSk7XHJcblxyXG4gICAgZnVuY3Rpb24gaGFuZGxlRWRpdChkOiBPcGVuWERBLk5vdGUpIHtcclxuICAgICAgICBzZXROb3RlKGQpO1xyXG4gICAgICAgIHNldEVkaXQodHJ1ZSlcclxuICAgICAgICAvL2RlbGV0ZU5vdGUoZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xvc2VFZGl0KGNvbmZpcm06IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAobm90ZS5Ob3RlLmxlbmd0aCA9PSAwICYmIGNvbmZpcm0pXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgc2V0RWRpdChmYWxzZSk7XHJcbiAgICAgICAgaWYgKGNvbmZpcm0pIHtcclxuICAgICAgICAgICAgbGV0IG4gPSBfLmNsb25lRGVlcChub3RlKVxyXG4gICAgICAgICAgICBkZWxldGVOb3RlKG4pO1xyXG4gICAgICAgICAgICBhZGROb3RlKG4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXROb3RlKHsgSUQ6IC0xLCBVc2VyQWNjb3VudDogJycsIE5vdGU6ICcnLCBOb3RlVHlwZUlEOiAtMSwgUmVmZXJlbmNlVGFibGVJRDogLTEsIFRpbWVzdGFtcDogJycgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Tm90ZXMoKTogSlF1ZXJ5LmpxWEhSPHN0cmluZz4ge1xyXG4gICAgICAgIGxldCBoID0gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogYCR7aG9tZVBhdGh9YXBpL09wZW5YREEvTm90ZS9Gb3JPYmplY3QvJHtwcm9wcy5UeXBlfS8ke3Byb3BzLklEfS9TZWFyY2hgLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHsgU2VhcmNoZXM6IFtdLCBPcmRlckJ5OiBzb3J0RmllbGQsIEFzY2VuZGluZzogYXNjZW5kaW5nIH0pLFxyXG4gICAgICAgICAgICBjYWNoZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGFzeW5jOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaC5kb25lKChkYXRhOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgbGV0IGQgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgICAgICBzZXROb3RlTGlzdChkKTtcclxuICAgICAgIH0pOztcclxuXHJcbiAgICAgICAgcmV0dXJuIGg7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Tm90ZVR5cGVJRCgpOiBKUXVlcnkuanFYSFI8QXJyYXk8T3BlblhEQS5Ob3RlVHlwZT4+IHtcclxuICAgICAgICBsZXQgaGFuZGxlID0gJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJHRVRcIixcclxuICAgICAgICAgICAgdXJsOiBgJHtob21lUGF0aH1hcGkvT3BlblhEQS9Ob3RlVHlwZWAsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgY2FjaGU6IHRydWUsXHJcbiAgICAgICAgICAgIGFzeW5jOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGhhbmRsZS50aGVuKChkOiBBcnJheTxPcGVuWERBLk5vdGVUeXBlPikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcmVjb3JkID0gZC5maW5kKGQgPT4gZC5SZWZlcmVuY2VUYWJsZU5hbWUgPT0gcHJvcHMuVHlwZSlcclxuICAgICAgICAgICAgc2V0Tm90ZVR5cGVJRChyZWNvcmQuSUQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaGFuZGxlO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gZGVsZXRlTm90ZShkOiBPcGVuWERBLk5vdGUpOiB2b2lkIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICB1cmw6IGAke2hvbWVQYXRofWFwaS9PcGVuWERBL05vdGUvRGVsZXRlYCxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkKSxcclxuICAgICAgICAgICAgY2FjaGU6IHRydWUsXHJcbiAgICAgICAgICAgIGFzeW5jOiB0cnVlXHJcbiAgICAgICAgfSkuZG9uZSgoKSA9PiBnZXROb3RlcygpKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gYWRkTm90ZShjdXJyZW50Tm90ZTogT3BlblhEQS5Ob3RlKTogdm9pZCB7XHJcbiAgICAgICAgc2V0Tm90ZSh7IElEOiAtMSwgVXNlckFjY291bnQ6ICcnLCBOb3RlOiAnJywgTm90ZVR5cGVJRDogLTEsIFJlZmVyZW5jZVRhYmxlSUQ6IC0xLCBUaW1lc3RhbXA6ICcnIH0pO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICB1cmw6IGAke2hvbWVQYXRofWFwaS9PcGVuWERBL05vdGUvQWRkYCxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7IElEOiAwLCBOb3RlVHlwZUlEOiBub3RlVHlwZUlELCBSZWZlcmVuY2VUYWJsZUlEOiBwcm9wcy5JRCwgTm90ZTogY3VycmVudE5vdGUuTm90ZSwgVGltZXN0YW1wOiBtb21lbnQoKS5mb3JtYXQoJ01NL0REL1lZWVkgSEg6bW0nKSwgVXNlckFjY291bnQ6ICcnIH0gYXMgT3BlblhEQS5Ob3RlKSxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgY2FjaGU6IHRydWUsXHJcbiAgICAgICAgICAgIGFzeW5jOiB0cnVlXHJcbiAgICAgICAgfSkuZG9uZShlID0+IHtcclxuICAgICAgICAgICAgZ2V0Tm90ZXMoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogMTAsIG1heEhlaWdodDogd2luZG93LmlubmVySGVpZ2h0IC0gMjE1fX0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2xcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0Pk5vdGVzOjwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ib2R5XCIgc3R5bGU9e3sgbWF4SGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQgLSAzMTUsIG92ZXJmbG93WTogJ2F1dG8nIH19PlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICA8VGFibGU8T3BlblhEQS5Ob3RlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29scz17W1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdOb3RlJywgbGFiZWw6ICdOb3RlJywgaGVhZGVyU3R5bGU6IHsgd2lkdGg6ICc1MCUnIH0sIHJvd1N0eWxlOiB7IHdpZHRoOiAnNTAlJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogJ1RpbWVzdGFtcCcsIGxhYmVsOiAnVGltZScsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCBjb250ZW50OiAoaXRlbSkgPT4gbW9tZW50LnV0YyhpdGVtLlRpbWVzdGFtcCkuZm9ybWF0KFwiTU0vREQvWVlZWSBISDptbVwiKSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6ICdVc2VyQWNjb3VudCcsIGxhYmVsOiAnVXNlcicsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBudWxsLCBsYWJlbDogJycsIGhlYWRlclN0eWxlOiB7IHdpZHRoOiAnYXV0bycgfSwgcm93U3R5bGU6IHsgd2lkdGg6ICdhdXRvJyB9LCBjb250ZW50OiAoaXRlbSkgPT4gPD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXNtXCIgb25DbGljaz17KGUpID0+IGhhbmRsZUVkaXQoaXRlbSl9PjxzcGFuPjxpIGNsYXNzTmFtZT1cImZhIGZhLXBlbmNpbFwiPjwvaT48L3NwYW4+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1zbVwiIG9uQ2xpY2s9eyhlKSA9PiBkZWxldGVOb3RlKGl0ZW0pfT48c3Bhbj48aSBjbGFzc05hbWU9XCJmYSBmYS10aW1lc1wiPjwvaT48L3NwYW4+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgXX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlQ2xhc3M9XCJ0YWJsZSB0YWJsZS1ob3ZlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE9e25vdGVMaXN0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0RmllbGQ9e3NvcnRGaWVsZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXNjZW5kaW5nPXthc2NlbmRpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU29ydD17KGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLmNvbCA9PSBzb3J0RmllbGQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXNjZW5kaW5nKCFhc2NlbmRpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXNjZW5kaW5nKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNvcnRGaWVsZChkLmNvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZWFkU3R5bGU9e3sgZm9udFNpemU6ICdzbWFsbGVyJywgZGlzcGxheTogJ3RhYmxlJywgdGFibGVMYXlvdXQ6ICdmaXhlZCcsIHdpZHRoOiAnMTAwJScgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGJvZHlTdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBvdmVyZmxvd1k6ICdzY3JvbGwnLCBtYXhIZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCAtIDYxNSwgd2lkdGg6ICcxMDAlJyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dTdHlsZT17eyBmb250U2l6ZTogJ3NtYWxsZXInLCBkaXNwbGF5OiAndGFibGUnLCB0YWJsZUxheW91dDogJ2ZpeGVkJywgd2lkdGg6ICcxMDAlJyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZD17KGl0ZW0pID0+IGl0ZW0uSUQgPT0gbm90ZS5JRH1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8VGV4dEFyZWE8T3BlblhEQS5Ob3RlPiBSZWNvcmQ9e25vdGV9IFJvd3M9ezR9IEZpZWxkPXsnTm90ZSd9IFNldHRlcj17KG4pID0+IHNldE5vdGUobil9IFZhbGlkPXsoKSA9PiBub3RlLk5vdGUubGVuZ3RoID4gMH0gTGFiZWw9eycnfSAvPlxyXG4gICAgICAgICAgICAgICAgPE1vZGFsIFNob3c9e3Nob3dFZGl0fSBUaXRsZT17J0VkaXQgTm90ZSd9XHJcbiAgICAgICAgICAgICAgICAgICAgU2hvd0NhbmNlbD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICBDYWxsQmFjaz17Y2xvc2VFZGl0fVxyXG4gICAgICAgICAgICAgICAgICAgIERpc2FibGVDb25maXJtPXtub3RlLk5vdGUubGVuZ3RoID09IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgU2hvd1g9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgQ29uZmlybVNob3dUb29sVGlwPXtub3RlLk5vdGUubGVuZ3RoID09IDB9XHJcbiAgICAgICAgICAgICAgICAgICAgQ29uZmlybVRvb2xUaXBDb250ZW50PXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+IDxpIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnMTBweCcsIGNvbG9yOiAnI2RjMzU0NScgfX0gY2xhc3NOYW1lPVwiZmEgZmEtZXhjbGFtYXRpb24tY2lyY2xlXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBBbiBlbXB0eSBOb3RlIGNhbiBub3QgYmUgc2F2ZWQuIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICB9PiAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgPFRleHRBcmVhPE9wZW5YREEuTm90ZT4gUmVjb3JkPXtub3RlfSBSb3dzPXs0fSBGaWVsZD17J05vdGUnfSBTZXR0ZXI9eyhuKSA9PiB7IGlmIChuLk5vdGUgPT0gbnVsbCkgc2V0Tm90ZSh7Li4ubiwgTm90ZTogJyd9KTsgZWxzZSBzZXROb3RlKG4pOyB9fSBWYWxpZD17KCkgPT4gbm90ZS5Ob3RlLmxlbmd0aCA+IDB9IExhYmVsPXsnJ30gLz5cclxuICAgICAgICAgICAgICAgIDwvTW9kYWw+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1mb290ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIG1yLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT17XCJidG4gYnRuLXByaW1hcnlcIiArIChub3RlLk5vdGUubGVuZ3RoID09IDAgPyAnIGRpc2FibGVkJyA6ICcnKX0gb25DbGljaz17KCkgPT4geyBpZiAobm90ZS5Ob3RlLmxlbmd0aCA+IDApIGFkZE5vdGUobm90ZSk7IH19IGRhdGEtdG9vbHRpcD17XCJBZGRcIn0gc3R5bGU9e3sgY3Vyc29yOiBub3RlLk5vdGUubGVuZ3RoID09IDAgPyAnbm90LWFsbG93ZWQnIDogJ3BvaW50ZXInIH19IG9uTW91c2VPdmVyPXsoKSA9PiBzZXRIb3ZlckFkZCh0cnVlKX0gb25Nb3VzZU91dD17KCkgPT4gc2V0SG92ZXJBZGQoZmFsc2UpfT5BZGQgTm90ZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxUb29sVGlwIFNob3c9e2hvdmVyQWRkICYmIG5vdGUuTm90ZS5sZW5ndGggPT0gMH0gUG9zaXRpb249eyd0b3AnfSBUaGVtZT17J2RhcmsnfSBUYXJnZXQ9e1wiQWRkXCJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cD4gQSBub3RlIG5lZWRzIHRvIGJlIGVudGVyZWQuIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8L1Rvb2xUaXA+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIG1yLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT17XCJidG4gYnRuLWRlZmF1bHRcIiArIChub3RlLk5vdGUubGVuZ3RoID09IDAgPyAnIGRpc2FibGVkJyA6ICcnKX0gb25DbGljaz17KCkgPT4gc2V0Tm90ZSgobm90ZSkgPT4gKHsuLi5ub3RlLCBOb3RlOiAnJ30pKX0gc3R5bGU9e3sgY3Vyc29yOiBub3RlLk5vdGUubGVuZ3RoID09IDAgPyAnbm90LWFsbG93ZWQnIDogJ3BvaW50ZXInIH19IGRhdGEtdG9vbHRpcD17XCJSZW1vdmVcIn0gb25Nb3VzZU92ZXI9eygpID0+IHNldEhvdmVyQ2xlYXIodHJ1ZSl9IG9uTW91c2VPdXQ9eygpID0+IHNldEhvdmVyQ2xlYXIoZmFsc2UpfSA+Q2xlYXI8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8VG9vbFRpcCBTaG93PXtob3ZlckNsZWFyICYmIG5vdGUuTm90ZS5sZW5ndGggPT0gMH0gUG9zaXRpb249eyd0b3AnfSBUaGVtZT17J2RhcmsnfSBUYXJnZXQ9e1wiUmVtb3ZlXCJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cD4gVGhlIG5vdGUgZmllbGQgaXMgYWxyZWFkeSBlbXB0eS4gPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvVG9vbFRpcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE5vdGVXaW5kb3c7Il0sInNvdXJjZVJvb3QiOiIifQ==